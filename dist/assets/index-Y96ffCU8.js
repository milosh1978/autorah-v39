(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var H2={exports:{}},gh={},W2={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=Symbol.for("react.element"),fb=Symbol.for("react.portal"),pb=Symbol.for("react.fragment"),mb=Symbol.for("react.strict_mode"),gb=Symbol.for("react.profiler"),vb=Symbol.for("react.provider"),yb=Symbol.for("react.context"),wb=Symbol.for("react.forward_ref"),bb=Symbol.for("react.suspense"),xb=Symbol.for("react.memo"),_b=Symbol.for("react.lazy"),Og=Symbol.iterator;function Sb(e){return e===null||typeof e!="object"?null:(e=Og&&e[Og]||e["@@iterator"],typeof e=="function"?e:null)}var V2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G2=Object.assign,K2={};function ll(e,t,r){this.props=e,this.context=t,this.refs=K2,this.updater=r||V2}ll.prototype.isReactComponent={};ll.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ll.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function J2(){}J2.prototype=ll.prototype;function J0(e,t,r){this.props=e,this.context=t,this.refs=K2,this.updater=r||V2}var Y0=J0.prototype=new J2;Y0.constructor=J0;G2(Y0,ll.prototype);Y0.isPureReactComponent=!0;var Ig=Array.isArray,Y2=Object.prototype.hasOwnProperty,Q0={current:null},Q2={key:!0,ref:!0,__self:!0,__source:!0};function X2(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Y2.call(t,n)&&!Q2.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Qu,type:e,key:a,ref:s,props:i,_owner:Q0.current}}function Nb(e,t){return{$$typeof:Qu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function X0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qu}function kb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Fg=/\/+/g;function Rf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kb(""+e.key):t.toString(36)}function kd(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Qu:case fb:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Rf(s,0):n,Ig(i)?(r="",e!=null&&(r=e.replace(Fg,"$&/")+"/"),kd(i,t,r,"",function(c){return c})):i!=null&&(X0(i)&&(i=Nb(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Fg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Ig(e))for(var l=0;l<e.length;l++){a=e[l];var o=n+Rf(a,l);s+=kd(a,t,r,o,i)}else if(o=Sb(e),typeof o=="function")for(e=o.call(e),l=0;!(a=e.next()).done;)a=a.value,o=n+Rf(a,l++),s+=kd(a,t,r,o,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xc(e,t,r){if(e==null)return e;var n=[],i=0;return kd(e,n,"","",function(a){return t.call(r,a,i++)}),n}function jb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xr={current:null},jd={transition:null},Eb={ReactCurrentDispatcher:Xr,ReactCurrentBatchConfig:jd,ReactCurrentOwner:Q0};function Z2(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Xc,forEach:function(e,t,r){Xc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xc(e,function(){t++}),t},toArray:function(e){return Xc(e,function(t){return t})||[]},only:function(e){if(!X0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=ll;ft.Fragment=pb;ft.Profiler=gb;ft.PureComponent=J0;ft.StrictMode=mb;ft.Suspense=bb;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eb;ft.act=Z2;ft.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=G2({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Q0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(o in t)Y2.call(t,o)&&!Q2.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&l!==void 0?l[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){l=Array(o);for(var c=0;c<o;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Qu,type:e.type,key:i,ref:a,props:n,_owner:s}};ft.createContext=function(e){return e={$$typeof:yb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vb,_context:e},e.Consumer=e};ft.createElement=X2;ft.createFactory=function(e){var t=X2.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:wb,render:e}};ft.isValidElement=X0;ft.lazy=function(e){return{$$typeof:_b,_payload:{_status:-1,_result:e},_init:jb}};ft.memo=function(e,t){return{$$typeof:xb,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=jd.transition;jd.transition={};try{e()}finally{jd.transition=t}};ft.unstable_act=Z2;ft.useCallback=function(e,t){return Xr.current.useCallback(e,t)};ft.useContext=function(e){return Xr.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return Xr.current.useDeferredValue(e)};ft.useEffect=function(e,t){return Xr.current.useEffect(e,t)};ft.useId=function(){return Xr.current.useId()};ft.useImperativeHandle=function(e,t,r){return Xr.current.useImperativeHandle(e,t,r)};ft.useInsertionEffect=function(e,t){return Xr.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return Xr.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return Xr.current.useMemo(e,t)};ft.useReducer=function(e,t,r){return Xr.current.useReducer(e,t,r)};ft.useRef=function(e){return Xr.current.useRef(e)};ft.useState=function(e){return Xr.current.useState(e)};ft.useSyncExternalStore=function(e,t,r){return Xr.current.useSyncExternalStore(e,t,r)};ft.useTransition=function(){return Xr.current.useTransition()};ft.version="18.3.1";W2.exports=ft;var ne=W2.exports;const fr=$2(ne);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb=ne,Ab=Symbol.for("react.element"),Pb=Symbol.for("react.fragment"),Lb=Object.prototype.hasOwnProperty,Tb=Cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rb={key:!0,ref:!0,__self:!0,__source:!0};function ev(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Lb.call(t,n)&&!Rb.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Ab,type:e,key:a,ref:s,props:i,_owner:Tb.current}}gh.Fragment=Pb;gh.jsx=ev;gh.jsxs=ev;H2.exports=gh;var f=H2.exports,Cp={},tv={exports:{}},En={},rv={exports:{}},nv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,G){var re=z.length;z.push(G);e:for(;0<re;){var de=re-1>>>1,E=z[de];if(0<i(E,G))z[de]=G,z[re]=E,re=de;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var G=z[0],re=z.pop();if(re!==G){z[0]=re;e:for(var de=0,E=z.length,B=E>>>1;de<B;){var q=2*(de+1)-1,Q=z[q],Z=q+1,ue=z[Z];if(0>i(Q,re))Z<E&&0>i(ue,Q)?(z[de]=ue,z[Z]=re,de=Z):(z[de]=Q,z[q]=re,de=q);else if(Z<E&&0>i(ue,re))z[de]=ue,z[Z]=re,de=Z;else break e}}return G}function i(z,G){var re=z.sortIndex-G.sortIndex;return re!==0?re:z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var o=[],c=[],d=1,m=null,g=3,p=!1,b=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var G=r(c);G!==null;){if(G.callback===null)n(c);else if(G.startTime<=z)n(c),G.sortIndex=G.expirationTime,t(o,G);else break;G=r(c)}}function j(z){if(S=!1,w(z),!b)if(r(o)!==null)b=!0,H(O);else{var G=r(c);G!==null&&J(j,G.startTime-z)}}function O(z,G){b=!1,S&&(S=!1,y(P),P=-1),p=!0;var re=g;try{for(w(G),m=r(o);m!==null&&(!(m.expirationTime>G)||z&&!A());){var de=m.callback;if(typeof de=="function"){m.callback=null,g=m.priorityLevel;var E=de(m.expirationTime<=G);G=e.unstable_now(),typeof E=="function"?m.callback=E:m===r(o)&&n(o),w(G)}else n(o);m=r(o)}if(m!==null)var B=!0;else{var q=r(c);q!==null&&J(j,q.startTime-G),B=!1}return B}finally{m=null,g=re,p=!1}}var F=!1,L=null,P=-1,$=5,K=-1;function A(){return!(e.unstable_now()-K<$)}function C(){if(L!==null){var z=e.unstable_now();K=z;var G=!0;try{G=L(!0,z)}finally{G?V():(F=!1,L=null)}}else F=!1}var V;if(typeof x=="function")V=function(){x(C)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=C,V=function(){te.postMessage(null)}}else V=function(){N(C,0)};function H(z){L=z,F||(F=!0,V())}function J(z,G){P=N(function(){z(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,H(O))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var re=g;g=G;try{return z()}finally{g=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=g;g=z;try{return G()}finally{g=re}},e.unstable_scheduleCallback=function(z,G,re){var de=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,z){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=re+E,z={id:d++,callback:G,priorityLevel:z,startTime:re,expirationTime:E,sortIndex:-1},re>de?(z.sortIndex=re,t(c,z),r(o)===null&&z===r(c)&&(S?(y(P),P=-1):S=!0,J(j,re-de))):(z.sortIndex=E,t(o,z),b||p||(b=!0,H(O))),z},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(z){var G=g;return function(){var re=g;g=G;try{return z.apply(this,arguments)}finally{g=re}}}})(nv);rv.exports=nv;var Ob=rv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib=ne,jn=Ob;function Ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iv=new Set,Nu={};function Bs(e,t){el(e,t),el(e+"Capture",t)}function el(e,t){for(Nu[e]=t,e=0;e<t.length;e++)iv.add(t[e])}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=Object.prototype.hasOwnProperty,Fb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dg={},Mg={};function Db(e){return Ap.call(Mg,e)?!0:Ap.call(Dg,e)?!1:Fb.test(e)?Mg[e]=!0:(Dg[e]=!0,!1)}function Mb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bb(e,t,r,n){if(t===null||typeof t>"u"||Mb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rr[e]=new Zr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rr[t]=new Zr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rr[e]=new Zr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rr[e]=new Zr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rr[e]=new Zr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rr[e]=new Zr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rr[e]=new Zr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rr[e]=new Zr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rr[e]=new Zr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z0=/[\-:]([a-z])/g;function em(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z0,em);Rr[t]=new Zr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z0,em);Rr[t]=new Zr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z0,em);Rr[t]=new Zr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rr[e]=new Zr(e,1,!1,e.toLowerCase(),null,!1,!1)});Rr.xlinkHref=new Zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rr[e]=new Zr(e,1,!1,e.toLowerCase(),null,!0,!0)});function tm(e,t,r,n){var i=Rr.hasOwnProperty(t)?Rr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bb(t,r,i,n)&&(r=null),n||i===null?Db(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sa=Ib.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),av=Symbol.for("react.provider"),sv=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),Lp=Symbol.for("react.suspense"),Tp=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),ov=Symbol.for("react.offscreen"),Bg=Symbol.iterator;function Hl(e){return e===null||typeof e!="object"?null:(e=Bg&&e[Bg]||e["@@iterator"],typeof e=="function"?e:null)}var Wt=Object.assign,Of;function tu(e){if(Of===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Of=t&&t[1]||""}return`
`+Of+e}var If=!1;function Ff(e,t){if(!e||If)return"";If=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var o=`
`+i[s].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=s&&0<=l);break}}}finally{If=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tu(e):""}function Ub(e){switch(e.tag){case 5:return tu(e.type);case 16:return tu("Lazy");case 13:return tu("Suspense");case 19:return tu("SuspenseList");case 0:case 2:case 15:return e=Ff(e.type,!1),e;case 11:return e=Ff(e.type.render,!1),e;case 1:return e=Ff(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Ro:return"Portal";case Pp:return"Profiler";case rm:return"StrictMode";case Lp:return"Suspense";case Tp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sv:return(e.displayName||"Context")+".Consumer";case av:return(e._context.displayName||"Context")+".Provider";case nm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case im:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case Ea:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function zb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Va(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qb(e){var t=lv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){e._valueTracker||(e._valueTracker=qb(e))}function uv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Op(e,t){var r=t.checked;return Wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ug(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Va(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cv(e,t){t=t.checked,t!=null&&tm(e,"checked",t,!1)}function Ip(e,t){cv(e,t);var r=Va(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fp(e,t.type,Va(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fp(e,t,r){(t!=="number"||Bd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ru=Array.isArray;function Go(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Va(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return Wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ce(92));if(ru(r)){if(1<r.length)throw Error(Ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Va(r)}}function dv(e,t){var r=Va(t.value),n=Va(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $g(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var td,fv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=td.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ku(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$b=["Webkit","ms","Moz","O"];Object.keys(ou).forEach(function(e){$b.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ou[t]=ou[e]})});function pv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ou.hasOwnProperty(e)&&ou[e]?(""+t).trim():t+"px"}function mv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=pv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Hb=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(e,t){if(t){if(Hb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ce(62))}}function Up(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function am(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qp=null,Ko=null,Jo=null;function Hg(e){if(e=ec(e)){if(typeof qp!="function")throw Error(Ce(280));var t=e.stateNode;t&&(t=xh(t),qp(e.stateNode,e.type,t))}}function gv(e){Ko?Jo?Jo.push(e):Jo=[e]:Ko=e}function vv(){if(Ko){var e=Ko,t=Jo;if(Jo=Ko=null,Hg(e),t)for(e=0;e<t.length;e++)Hg(t[e])}}function yv(e,t){return e(t)}function wv(){}var Df=!1;function bv(e,t,r){if(Df)return e(t,r);Df=!0;try{return yv(e,t,r)}finally{Df=!1,(Ko!==null||Jo!==null)&&(wv(),vv())}}function ju(e,t){var r=e.stateNode;if(r===null)return null;var n=xh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ce(231,t,typeof r));return r}var $p=!1;if(ta)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){$p=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{$p=!1}function Wb(e,t,r,n,i,a,s,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var lu=!1,Ud=null,zd=!1,Hp=null,Vb={onError:function(e){lu=!0,Ud=e}};function Gb(e,t,r,n,i,a,s,l,o){lu=!1,Ud=null,Wb.apply(Vb,arguments)}function Kb(e,t,r,n,i,a,s,l,o){if(Gb.apply(this,arguments),lu){if(lu){var c=Ud;lu=!1,Ud=null}else throw Error(Ce(198));zd||(zd=!0,Hp=c)}}function Us(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wg(e){if(Us(e)!==e)throw Error(Ce(188))}function Jb(e){var t=e.alternate;if(!t){if(t=Us(e),t===null)throw Error(Ce(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Wg(i),e;if(a===n)return Wg(i),t;a=a.sibling}throw Error(Ce(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(Ce(189))}}if(r.alternate!==n)throw Error(Ce(190))}if(r.tag!==3)throw Error(Ce(188));return r.stateNode.current===r?e:t}function _v(e){return e=Jb(e),e!==null?Sv(e):null}function Sv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sv(e);if(t!==null)return t;e=e.sibling}return null}var Nv=jn.unstable_scheduleCallback,Vg=jn.unstable_cancelCallback,Yb=jn.unstable_shouldYield,Qb=jn.unstable_requestPaint,ir=jn.unstable_now,Xb=jn.unstable_getCurrentPriorityLevel,sm=jn.unstable_ImmediatePriority,kv=jn.unstable_UserBlockingPriority,qd=jn.unstable_NormalPriority,Zb=jn.unstable_LowPriority,jv=jn.unstable_IdlePriority,vh=null,Ti=null;function ex(e){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(vh,e,void 0,(e.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:nx,tx=Math.log,rx=Math.LN2;function nx(e){return e>>>=0,e===0?32:31-(tx(e)/rx|0)|0}var rd=64,nd=4194304;function nu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $d(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=nu(l):(a&=s,a!==0&&(n=nu(a)))}else s=r&~i,s!==0?n=nu(s):a!==0&&(n=nu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-di(t),i=1<<r,n|=e[r],t&=~i;return n}function ix(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ax(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-di(a),l=1<<s,o=i[s];o===-1?(!(l&r)||l&n)&&(i[s]=ix(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}}function Wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ev(){var e=rd;return rd<<=1,!(rd&4194240)&&(rd=64),e}function Mf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-di(t),e[t]=r}function sx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-di(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function om(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-di(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var jt=0;function Cv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Av,lm,Pv,Lv,Tv,Vp=!1,id=[],Da=null,Ma=null,Ba=null,Eu=new Map,Cu=new Map,Pa=[],ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gg(e,t){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(t.pointerId)}}function Vl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ec(t),t!==null&&lm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lx(e,t,r,n,i){switch(t){case"focusin":return Da=Vl(Da,e,t,r,n,i),!0;case"dragenter":return Ma=Vl(Ma,e,t,r,n,i),!0;case"mouseover":return Ba=Vl(Ba,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Eu.set(a,Vl(Eu.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Cu.set(a,Vl(Cu.get(a)||null,e,t,r,n,i)),!0}return!1}function Rv(e){var t=xs(e.target);if(t!==null){var r=Us(t);if(r!==null){if(t=r.tag,t===13){if(t=xv(r),t!==null){e.blockedOn=t,Tv(e.priority,function(){Pv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ed(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zp=n,r.target.dispatchEvent(n),zp=null}else return t=ec(r),t!==null&&lm(t),e.blockedOn=r,!1;t.shift()}return!0}function Kg(e,t,r){Ed(e)&&r.delete(t)}function ux(){Vp=!1,Da!==null&&Ed(Da)&&(Da=null),Ma!==null&&Ed(Ma)&&(Ma=null),Ba!==null&&Ed(Ba)&&(Ba=null),Eu.forEach(Kg),Cu.forEach(Kg)}function Gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Vp||(Vp=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,ux)))}function Au(e){function t(i){return Gl(i,e)}if(0<id.length){Gl(id[0],e);for(var r=1;r<id.length;r++){var n=id[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Da!==null&&Gl(Da,e),Ma!==null&&Gl(Ma,e),Ba!==null&&Gl(Ba,e),Eu.forEach(t),Cu.forEach(t),r=0;r<Pa.length;r++)n=Pa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pa.length&&(r=Pa[0],r.blockedOn===null);)Rv(r),r.blockedOn===null&&Pa.shift()}var Yo=sa.ReactCurrentBatchConfig,Hd=!0;function cx(e,t,r,n){var i=jt,a=Yo.transition;Yo.transition=null;try{jt=1,um(e,t,r,n)}finally{jt=i,Yo.transition=a}}function dx(e,t,r,n){var i=jt,a=Yo.transition;Yo.transition=null;try{jt=4,um(e,t,r,n)}finally{jt=i,Yo.transition=a}}function um(e,t,r,n){if(Hd){var i=Gp(e,t,r,n);if(i===null)Kf(e,t,n,Wd,r),Gg(e,n);else if(lx(i,e,t,r,n))n.stopPropagation();else if(Gg(e,n),t&4&&-1<ox.indexOf(e)){for(;i!==null;){var a=ec(i);if(a!==null&&Av(a),a=Gp(e,t,r,n),a===null&&Kf(e,t,n,Wd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Kf(e,t,n,null,r)}}var Wd=null;function Gp(e,t,r,n){if(Wd=null,e=am(n),e=xs(e),e!==null)if(t=Us(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wd=e,null}function Ov(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xb()){case sm:return 1;case kv:return 4;case qd:case Zb:return 16;case jv:return 536870912;default:return 16}default:return 16}}var Oa=null,cm=null,Cd=null;function Iv(){if(Cd)return Cd;var e,t=cm,r=t.length,n,i="value"in Oa?Oa.value:Oa.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Cd=i.slice(e,1<n?1-n:void 0)}function Ad(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ad(){return!0}function Jg(){return!1}function Cn(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ad:Jg,this.isPropagationStopped=Jg,this}return Wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),t}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=Cn(ul),Zu=Wt({},ul,{view:0,detail:0}),hx=Cn(Zu),Bf,Uf,Kl,yh=Wt({},Zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(Bf=e.screenX-Kl.screenX,Uf=e.screenY-Kl.screenY):Uf=Bf=0,Kl=e),Bf)},movementY:function(e){return"movementY"in e?e.movementY:Uf}}),Yg=Cn(yh),fx=Wt({},yh,{dataTransfer:0}),px=Cn(fx),mx=Wt({},Zu,{relatedTarget:0}),zf=Cn(mx),gx=Wt({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),vx=Cn(gx),yx=Wt({},ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wx=Cn(yx),bx=Wt({},ul,{data:0}),Qg=Cn(bx),xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sx[e])?!!t[e]:!1}function hm(){return Nx}var kx=Wt({},Zu,{key:function(e){if(e.key){var t=xx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ad(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_x[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hm,charCode:function(e){return e.type==="keypress"?Ad(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ad(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jx=Cn(kx),Ex=Wt({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xg=Cn(Ex),Cx=Wt({},Zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hm}),Ax=Cn(Cx),Px=Wt({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lx=Cn(Px),Tx=Wt({},yh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rx=Cn(Tx),Ox=[9,13,27,32],fm=ta&&"CompositionEvent"in window,uu=null;ta&&"documentMode"in document&&(uu=document.documentMode);var Ix=ta&&"TextEvent"in window&&!uu,Fv=ta&&(!fm||uu&&8<uu&&11>=uu),Zg=" ",e1=!1;function Dv(e,t){switch(e){case"keyup":return Ox.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Io=!1;function Fx(e,t){switch(e){case"compositionend":return Mv(t);case"keypress":return t.which!==32?null:(e1=!0,Zg);case"textInput":return e=t.data,e===Zg&&e1?null:e;default:return null}}function Dx(e,t){if(Io)return e==="compositionend"||!fm&&Dv(e,t)?(e=Iv(),Cd=cm=Oa=null,Io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fv&&t.locale!=="ko"?null:t.data;default:return null}}var Mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mx[e.type]:t==="textarea"}function Bv(e,t,r,n){gv(n),t=Vd(t,"onChange"),0<t.length&&(r=new dm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var cu=null,Pu=null;function Bx(e){Yv(e,0)}function wh(e){var t=Mo(e);if(uv(t))return e}function Ux(e,t){if(e==="change")return t}var Uv=!1;if(ta){var qf;if(ta){var $f="oninput"in document;if(!$f){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),$f=typeof r1.oninput=="function"}qf=$f}else qf=!1;Uv=qf&&(!document.documentMode||9<document.documentMode)}function n1(){cu&&(cu.detachEvent("onpropertychange",zv),Pu=cu=null)}function zv(e){if(e.propertyName==="value"&&wh(Pu)){var t=[];Bv(t,Pu,e,am(e)),bv(Bx,t)}}function zx(e,t,r){e==="focusin"?(n1(),cu=t,Pu=r,cu.attachEvent("onpropertychange",zv)):e==="focusout"&&n1()}function qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wh(Pu)}function $x(e,t){if(e==="click")return wh(t)}function Hx(e,t){if(e==="input"||e==="change")return wh(t)}function Wx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fi=typeof Object.is=="function"?Object.is:Wx;function Lu(e,t){if(fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ap.call(t,i)||!fi(e[i],t[i]))return!1}return!0}function i1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a1(e,t){var r=i1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=i1(r)}}function qv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $v(){for(var e=window,t=Bd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bd(e.document)}return t}function pm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vx(e){var t=$v(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qv(r.ownerDocument.documentElement,r)){if(n!==null&&pm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=a1(r,a);var s=a1(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gx=ta&&"documentMode"in document&&11>=document.documentMode,Fo=null,Kp=null,du=null,Jp=!1;function s1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jp||Fo==null||Fo!==Bd(n)||(n=Fo,"selectionStart"in n&&pm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),du&&Lu(du,n)||(du=n,n=Vd(Kp,"onSelect"),0<n.length&&(t=new dm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fo)))}function sd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Do={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},Hf={},Hv={};ta&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function bh(e){if(Hf[e])return Hf[e];if(!Do[e])return e;var t=Do[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hv)return Hf[e]=t[r];return e}var Wv=bh("animationend"),Vv=bh("animationiteration"),Gv=bh("animationstart"),Kv=bh("transitionend"),Jv=new Map,o1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ya(e,t){Jv.set(e,t),Bs(t,[e])}for(var Wf=0;Wf<o1.length;Wf++){var Vf=o1[Wf],Kx=Vf.toLowerCase(),Jx=Vf[0].toUpperCase()+Vf.slice(1);Ya(Kx,"on"+Jx)}Ya(Wv,"onAnimationEnd");Ya(Vv,"onAnimationIteration");Ya(Gv,"onAnimationStart");Ya("dblclick","onDoubleClick");Ya("focusin","onFocus");Ya("focusout","onBlur");Ya(Kv,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("cancel close invalid load scroll toggle".split(" ").concat(iu));function l1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kb(n,t,void 0,e),e.currentTarget=null}function Yv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&i.isPropagationStopped())break e;l1(i,l,c),a=o}else for(s=0;s<n.length;s++){if(l=n[s],o=l.instance,c=l.currentTarget,l=l.listener,o!==a&&i.isPropagationStopped())break e;l1(i,l,c),a=o}}}if(zd)throw e=Hp,zd=!1,Hp=null,e}function It(e,t){var r=t[e0];r===void 0&&(r=t[e0]=new Set);var n=e+"__bubble";r.has(n)||(Qv(t,e,2,!1),r.add(n))}function Gf(e,t,r){var n=0;t&&(n|=4),Qv(r,e,n,t)}var od="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[od]){e[od]=!0,iv.forEach(function(r){r!=="selectionchange"&&(Yx.has(r)||Gf(r,!1,e),Gf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[od]||(t[od]=!0,Gf("selectionchange",!1,t))}}function Qv(e,t,r,n){switch(Ov(t)){case 1:var i=cx;break;case 4:i=dx;break;default:i=um}r=i.bind(null,t,r,e),i=void 0,!$p||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Kf(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var o=s.tag;if((o===3||o===4)&&(o=s.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;s=s.return}for(;l!==null;){if(s=xs(l),s===null)return;if(o=s.tag,o===5||o===6){n=a=s;continue e}l=l.parentNode}}n=n.return}bv(function(){var c=a,d=am(r),m=[];e:{var g=Jv.get(e);if(g!==void 0){var p=dm,b=e;switch(e){case"keypress":if(Ad(r)===0)break e;case"keydown":case"keyup":p=jx;break;case"focusin":b="focus",p=zf;break;case"focusout":b="blur",p=zf;break;case"beforeblur":case"afterblur":p=zf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ax;break;case Wv:case Vv:case Gv:p=vx;break;case Kv:p=Lx;break;case"scroll":p=hx;break;case"wheel":p=Rx;break;case"copy":case"cut":case"paste":p=wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xg}var S=(t&4)!==0,N=!S&&e==="scroll",y=S?g!==null?g+"Capture":null:g;S=[];for(var x=c,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=ju(x,y),j!=null&&S.push(Ru(x,j,w)))),N)break;x=x.return}0<S.length&&(g=new p(g,b,null,r,d),m.push({event:g,listeners:S}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",g&&r!==zp&&(b=r.relatedTarget||r.fromElement)&&(xs(b)||b[ra]))break e;if((p||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=c,b=b?xs(b):null,b!==null&&(N=Us(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=c),p!==b)){if(S=Yg,j="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(S=Xg,j="onPointerLeave",y="onPointerEnter",x="pointer"),N=p==null?g:Mo(p),w=b==null?g:Mo(b),g=new S(j,x+"leave",p,r,d),g.target=N,g.relatedTarget=w,j=null,xs(d)===c&&(S=new S(y,x+"enter",b,r,d),S.target=w,S.relatedTarget=N,j=S),N=j,p&&b)t:{for(S=p,y=b,x=0,w=S;w;w=wo(w))x++;for(w=0,j=y;j;j=wo(j))w++;for(;0<x-w;)S=wo(S),x--;for(;0<w-x;)y=wo(y),w--;for(;x--;){if(S===y||y!==null&&S===y.alternate)break t;S=wo(S),y=wo(y)}S=null}else S=null;p!==null&&u1(m,g,p,S,!1),b!==null&&N!==null&&u1(m,N,b,S,!0)}}e:{if(g=c?Mo(c):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var O=Ux;else if(t1(g))if(Uv)O=Hx;else{O=qx;var F=zx}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=$x);if(O&&(O=O(e,c))){Bv(m,O,r,d);break e}F&&F(e,g,c),e==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&Fp(g,"number",g.value)}switch(F=c?Mo(c):window,e){case"focusin":(t1(F)||F.contentEditable==="true")&&(Fo=F,Kp=c,du=null);break;case"focusout":du=Kp=Fo=null;break;case"mousedown":Jp=!0;break;case"contextmenu":case"mouseup":case"dragend":Jp=!1,s1(m,r,d);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":s1(m,r,d)}var L;if(fm)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Io?Dv(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Fv&&r.locale!=="ko"&&(Io||P!=="onCompositionStart"?P==="onCompositionEnd"&&Io&&(L=Iv()):(Oa=d,cm="value"in Oa?Oa.value:Oa.textContent,Io=!0)),F=Vd(c,P),0<F.length&&(P=new Qg(P,e,null,r,d),m.push({event:P,listeners:F}),L?P.data=L:(L=Mv(r),L!==null&&(P.data=L)))),(L=Ix?Fx(e,r):Dx(e,r))&&(c=Vd(c,"onBeforeInput"),0<c.length&&(d=new Qg("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:c}),d.data=L))}Yv(m,t)})}function Ru(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ju(e,r),a!=null&&n.unshift(Ru(e,a,i)),a=ju(e,t),a!=null&&n.push(Ru(e,a,i))),e=e.return}return n}function wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function u1(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var l=r,o=l.alternate,c=l.stateNode;if(o!==null&&o===n)break;l.tag===5&&c!==null&&(l=c,i?(o=ju(r,a),o!=null&&s.unshift(Ru(r,o,l))):i||(o=ju(r,a),o!=null&&s.push(Ru(r,o,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Qx=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function c1(e){return(typeof e=="string"?e:""+e).replace(Qx,`
`).replace(Xx,"")}function ld(e,t,r){if(t=c1(t),c1(e)!==t&&r)throw Error(Ce(425))}function Gd(){}var Yp=null,Qp=null;function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,Zx=typeof clearTimeout=="function"?clearTimeout:void 0,d1=typeof Promise=="function"?Promise:void 0,e4=typeof queueMicrotask=="function"?queueMicrotask:typeof d1<"u"?function(e){return d1.resolve(null).then(e).catch(t4)}:Zp;function t4(e){setTimeout(function(){throw e})}function Jf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Au(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Au(t)}function Ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function h1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Pi="__reactFiber$"+cl,Ou="__reactProps$"+cl,ra="__reactContainer$"+cl,e0="__reactEvents$"+cl,r4="__reactListeners$"+cl,n4="__reactHandles$"+cl;function xs(e){var t=e[Pi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ra]||r[Pi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=h1(e);e!==null;){if(r=e[Pi])return r;e=h1(e)}return t}e=r,r=e.parentNode}return null}function ec(e){return e=e[Pi]||e[ra],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ce(33))}function xh(e){return e[Ou]||null}var t0=[],Bo=-1;function Qa(e){return{current:e}}function Dt(e){0>Bo||(e.current=t0[Bo],t0[Bo]=null,Bo--)}function Ot(e,t){Bo++,t0[Bo]=e.current,e.current=t}var Ga={},Vr=Qa(Ga),un=Qa(!1),Rs=Ga;function tl(e,t){var r=e.type.contextTypes;if(!r)return Ga;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cn(e){return e=e.childContextTypes,e!=null}function Kd(){Dt(un),Dt(Vr)}function f1(e,t,r){if(Vr.current!==Ga)throw Error(Ce(168));Ot(Vr,t),Ot(un,r)}function Xv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ce(108,zb(e)||"Unknown",i));return Wt({},r,n)}function Jd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ga,Rs=Vr.current,Ot(Vr,e),Ot(un,un.current),!0}function p1(e,t,r){var n=e.stateNode;if(!n)throw Error(Ce(169));r?(e=Xv(e,t,Rs),n.__reactInternalMemoizedMergedChildContext=e,Dt(un),Dt(Vr),Ot(Vr,e)):Dt(un),Ot(un,r)}var Yi=null,_h=!1,Yf=!1;function Zv(e){Yi===null?Yi=[e]:Yi.push(e)}function i4(e){_h=!0,Zv(e)}function Xa(){if(!Yf&&Yi!==null){Yf=!0;var e=0,t=jt;try{var r=Yi;for(jt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Yi=null,_h=!1}catch(i){throw Yi!==null&&(Yi=Yi.slice(e+1)),Nv(sm,Xa),i}finally{jt=t,Yf=!1}}return null}var Uo=[],zo=0,Yd=null,Qd=0,Dn=[],Mn=0,Os=null,Qi=1,Xi="";function ms(e,t){Uo[zo++]=Qd,Uo[zo++]=Yd,Yd=e,Qd=t}function ey(e,t,r){Dn[Mn++]=Qi,Dn[Mn++]=Xi,Dn[Mn++]=Os,Os=e;var n=Qi;e=Xi;var i=32-di(n)-1;n&=~(1<<i),r+=1;var a=32-di(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Qi=1<<32-di(t)+i|r<<i|n,Xi=a+e}else Qi=1<<a|r<<i|n,Xi=e}function mm(e){e.return!==null&&(ms(e,1),ey(e,1,0))}function gm(e){for(;e===Yd;)Yd=Uo[--zo],Uo[zo]=null,Qd=Uo[--zo],Uo[zo]=null;for(;e===Os;)Os=Dn[--Mn],Dn[Mn]=null,Xi=Dn[--Mn],Dn[Mn]=null,Qi=Dn[--Mn],Dn[Mn]=null}var kn=null,_n=null,Bt=!1,ci=null;function ty(e,t){var r=Bn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function m1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,_n=Ua(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Os!==null?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kn=e,_n=null,!0):!1;default:return!1}}function r0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function n0(e){if(Bt){var t=_n;if(t){var r=t;if(!m1(e,t)){if(r0(e))throw Error(Ce(418));t=Ua(r.nextSibling);var n=kn;t&&m1(e,t)?ty(n,r):(e.flags=e.flags&-4097|2,Bt=!1,kn=e)}}else{if(r0(e))throw Error(Ce(418));e.flags=e.flags&-4097|2,Bt=!1,kn=e}}}function g1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function ud(e){if(e!==kn)return!1;if(!Bt)return g1(e),Bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xp(e.type,e.memoizedProps)),t&&(t=_n)){if(r0(e))throw ry(),Error(Ce(418));for(;t;)ty(e,t),t=Ua(t.nextSibling)}if(g1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_n=Ua(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=kn?Ua(e.stateNode.nextSibling):null;return!0}function ry(){for(var e=_n;e;)e=Ua(e.nextSibling)}function rl(){_n=kn=null,Bt=!1}function vm(e){ci===null?ci=[e]:ci.push(e)}var a4=sa.ReactCurrentBatchConfig;function Jl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ce(309));var n=r.stateNode}if(!n)throw Error(Ce(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ce(284));if(!r._owner)throw Error(Ce(290,e))}return e}function cd(e,t){throw e=Object.prototype.toString.call(t),Error(Ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v1(e){var t=e._init;return t(e._payload)}function ny(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Ha(y,x),y.index=0,y.sibling=null,y}function a(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,j){return x===null||x.tag!==6?(x=np(w,y.mode,j),x.return=y,x):(x=i(x,w),x.return=y,x)}function o(y,x,w,j){var O=w.type;return O===Oo?d(y,x,w.props.children,j,w.key):x!==null&&(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ea&&v1(O)===x.type)?(j=i(x,w.props),j.ref=Jl(y,x,w),j.return=y,j):(j=Fd(w.type,w.key,w.props,null,y.mode,j),j.ref=Jl(y,x,w),j.return=y,j)}function c(y,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=ip(w,y.mode,j),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function d(y,x,w,j,O){return x===null||x.tag!==7?(x=Es(w,y.mode,j,O),x.return=y,x):(x=i(x,w),x.return=y,x)}function m(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=np(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zc:return w=Fd(x.type,x.key,x.props,null,y.mode,w),w.ref=Jl(y,null,x),w.return=y,w;case Ro:return x=ip(x,y.mode,w),x.return=y,x;case Ea:var j=x._init;return m(y,j(x._payload),w)}if(ru(x)||Hl(x))return x=Es(x,y.mode,w,null),x.return=y,x;cd(y,x)}return null}function g(y,x,w,j){var O=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:l(y,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:return w.key===O?o(y,x,w,j):null;case Ro:return w.key===O?c(y,x,w,j):null;case Ea:return O=w._init,g(y,x,O(w._payload),j)}if(ru(w)||Hl(w))return O!==null?null:d(y,x,w,j,null);cd(y,w)}return null}function p(y,x,w,j,O){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(x,y,""+j,O);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zc:return y=y.get(j.key===null?w:j.key)||null,o(x,y,j,O);case Ro:return y=y.get(j.key===null?w:j.key)||null,c(x,y,j,O);case Ea:var F=j._init;return p(y,x,w,F(j._payload),O)}if(ru(j)||Hl(j))return y=y.get(w)||null,d(x,y,j,O,null);cd(x,j)}return null}function b(y,x,w,j){for(var O=null,F=null,L=x,P=x=0,$=null;L!==null&&P<w.length;P++){L.index>P?($=L,L=null):$=L.sibling;var K=g(y,L,w[P],j);if(K===null){L===null&&(L=$);break}e&&L&&K.alternate===null&&t(y,L),x=a(K,x,P),F===null?O=K:F.sibling=K,F=K,L=$}if(P===w.length)return r(y,L),Bt&&ms(y,P),O;if(L===null){for(;P<w.length;P++)L=m(y,w[P],j),L!==null&&(x=a(L,x,P),F===null?O=L:F.sibling=L,F=L);return Bt&&ms(y,P),O}for(L=n(y,L);P<w.length;P++)$=p(L,y,P,w[P],j),$!==null&&(e&&$.alternate!==null&&L.delete($.key===null?P:$.key),x=a($,x,P),F===null?O=$:F.sibling=$,F=$);return e&&L.forEach(function(A){return t(y,A)}),Bt&&ms(y,P),O}function S(y,x,w,j){var O=Hl(w);if(typeof O!="function")throw Error(Ce(150));if(w=O.call(w),w==null)throw Error(Ce(151));for(var F=O=null,L=x,P=x=0,$=null,K=w.next();L!==null&&!K.done;P++,K=w.next()){L.index>P?($=L,L=null):$=L.sibling;var A=g(y,L,K.value,j);if(A===null){L===null&&(L=$);break}e&&L&&A.alternate===null&&t(y,L),x=a(A,x,P),F===null?O=A:F.sibling=A,F=A,L=$}if(K.done)return r(y,L),Bt&&ms(y,P),O;if(L===null){for(;!K.done;P++,K=w.next())K=m(y,K.value,j),K!==null&&(x=a(K,x,P),F===null?O=K:F.sibling=K,F=K);return Bt&&ms(y,P),O}for(L=n(y,L);!K.done;P++,K=w.next())K=p(L,y,P,K.value,j),K!==null&&(e&&K.alternate!==null&&L.delete(K.key===null?P:K.key),x=a(K,x,P),F===null?O=K:F.sibling=K,F=K);return e&&L.forEach(function(C){return t(y,C)}),Bt&&ms(y,P),O}function N(y,x,w,j){if(typeof w=="object"&&w!==null&&w.type===Oo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:e:{for(var O=w.key,F=x;F!==null;){if(F.key===O){if(O=w.type,O===Oo){if(F.tag===7){r(y,F.sibling),x=i(F,w.props.children),x.return=y,y=x;break e}}else if(F.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ea&&v1(O)===F.type){r(y,F.sibling),x=i(F,w.props),x.ref=Jl(y,F,w),x.return=y,y=x;break e}r(y,F);break}else t(y,F);F=F.sibling}w.type===Oo?(x=Es(w.props.children,y.mode,j,w.key),x.return=y,y=x):(j=Fd(w.type,w.key,w.props,null,y.mode,j),j.ref=Jl(y,x,w),j.return=y,y=j)}return s(y);case Ro:e:{for(F=w.key;x!==null;){if(x.key===F)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=ip(w,y.mode,j),x.return=y,y=x}return s(y);case Ea:return F=w._init,N(y,x,F(w._payload),j)}if(ru(w))return b(y,x,w,j);if(Hl(w))return S(y,x,w,j);cd(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,w),x.return=y,y=x):(r(y,x),x=np(w,y.mode,j),x.return=y,y=x),s(y)):r(y,x)}return N}var nl=ny(!0),iy=ny(!1),Xd=Qa(null),Zd=null,qo=null,ym=null;function wm(){ym=qo=Zd=null}function bm(e){var t=Xd.current;Dt(Xd),e._currentValue=t}function i0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qo(e,t){Zd=e,ym=qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function zn(e){var t=e._currentValue;if(ym!==e)if(e={context:e,memoizedValue:t,next:null},qo===null){if(Zd===null)throw Error(Ce(308));qo=e,Zd.dependencies={lanes:0,firstContext:e}}else qo=qo.next=e;return t}var _s=null;function xm(e){_s===null?_s=[e]:_s.push(e)}function ay(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,xm(t)):(r.next=i.next,i.next=r),t.interleaved=r,na(e,n)}function na(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ca=!1;function _m(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,yt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,na(e,r)}return i=n.interleaved,i===null?(t.next=t,xm(n)):(t.next=i.next,i.next=t),n.interleaved=t,na(e,r)}function Pd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,om(e,r)}}function y1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eh(e,t,r,n){var i=e.updateQueue;Ca=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,c=o.next;o.next=null,s===null?a=c:s.next=c,s=o;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(a!==null){var m=i.baseState;s=0,d=c=o=null,l=a;do{var g=l.lane,p=l.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,S=l;switch(g=t,p=r,S.tag){case 1:if(b=S.payload,typeof b=="function"){m=b.call(p,m,g);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,g=typeof b=="function"?b.call(p,m,g):b,g==null)break e;m=Wt({},m,g);break e;case 2:Ca=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else p={eventTime:p,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=p,o=m):d=d.next=p,s|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(o=m),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Fs|=s,e.lanes=s,e.memoizedState=m}}function w1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ce(191,i));i.call(n)}}}var tc={},Ri=Qa(tc),Iu=Qa(tc),Fu=Qa(tc);function Ss(e){if(e===tc)throw Error(Ce(174));return e}function Sm(e,t){switch(Ot(Fu,t),Ot(Iu,e),Ot(Ri,tc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mp(t,e)}Dt(Ri),Ot(Ri,t)}function il(){Dt(Ri),Dt(Iu),Dt(Fu)}function oy(e){Ss(Fu.current);var t=Ss(Ri.current),r=Mp(t,e.type);t!==r&&(Ot(Iu,e),Ot(Ri,r))}function Nm(e){Iu.current===e&&(Dt(Ri),Dt(Iu))}var qt=Qa(0);function th(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qf=[];function km(){for(var e=0;e<Qf.length;e++)Qf[e]._workInProgressVersionPrimary=null;Qf.length=0}var Ld=sa.ReactCurrentDispatcher,Xf=sa.ReactCurrentBatchConfig,Is=0,$t=null,yr=null,Nr=null,rh=!1,hu=!1,Du=0,s4=0;function Dr(){throw Error(Ce(321))}function jm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fi(e[r],t[r]))return!1;return!0}function Em(e,t,r,n,i,a){if(Is=a,$t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ld.current=e===null||e.memoizedState===null?c4:d4,e=r(n,i),hu){a=0;do{if(hu=!1,Du=0,25<=a)throw Error(Ce(301));a+=1,Nr=yr=null,t.updateQueue=null,Ld.current=h4,e=r(n,i)}while(hu)}if(Ld.current=nh,t=yr!==null&&yr.next!==null,Is=0,Nr=yr=$t=null,rh=!1,t)throw Error(Ce(300));return e}function Cm(){var e=Du!==0;return Du=0,e}function Ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?$t.memoizedState=Nr=e:Nr=Nr.next=e,Nr}function qn(){if(yr===null){var e=$t.alternate;e=e!==null?e.memoizedState:null}else e=yr.next;var t=Nr===null?$t.memoizedState:Nr.next;if(t!==null)Nr=t,yr=e;else{if(e===null)throw Error(Ce(310));yr=e,e={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Nr===null?$t.memoizedState=Nr=e:Nr=Nr.next=e}return Nr}function Mu(e,t){return typeof t=="function"?t(e):t}function Zf(e){var t=qn(),r=t.queue;if(r===null)throw Error(Ce(311));r.lastRenderedReducer=e;var n=yr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=s=null,o=null,c=a;do{var d=c.lane;if((Is&d)===d)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(l=o=m,s=n):o=o.next=m,$t.lanes|=d,Fs|=d}c=c.next}while(c!==null&&c!==a);o===null?s=n:o.next=l,fi(n,t.memoizedState)||(ln=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,$t.lanes|=a,Fs|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ep(e){var t=qn(),r=t.queue;if(r===null)throw Error(Ce(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);fi(a,t.memoizedState)||(ln=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function ly(){}function uy(e,t){var r=$t,n=qn(),i=t(),a=!fi(n.memoizedState,i);if(a&&(n.memoizedState=i,ln=!0),n=n.queue,Am(hy.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Nr!==null&&Nr.memoizedState.tag&1){if(r.flags|=2048,Bu(9,dy.bind(null,r,n,i,t),void 0,null),kr===null)throw Error(Ce(349));Is&30||cy(r,t,i)}return i}function cy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dy(e,t,r,n){t.value=r,t.getSnapshot=n,fy(t)&&py(e)}function hy(e,t,r){return r(function(){fy(t)&&py(e)})}function fy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fi(e,r)}catch{return!0}}function py(e){var t=na(e,1);t!==null&&hi(t,e,1,-1)}function b1(e){var t=Ai();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:e},t.queue=e,e=e.dispatch=u4.bind(null,$t,e),[t.memoizedState,e]}function Bu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function my(){return qn().memoizedState}function Td(e,t,r,n){var i=Ai();$t.flags|=e,i.memoizedState=Bu(1|t,r,void 0,n===void 0?null:n)}function Sh(e,t,r,n){var i=qn();n=n===void 0?null:n;var a=void 0;if(yr!==null){var s=yr.memoizedState;if(a=s.destroy,n!==null&&jm(n,s.deps)){i.memoizedState=Bu(t,r,a,n);return}}$t.flags|=e,i.memoizedState=Bu(1|t,r,a,n)}function x1(e,t){return Td(8390656,8,e,t)}function Am(e,t){return Sh(2048,8,e,t)}function gy(e,t){return Sh(4,2,e,t)}function vy(e,t){return Sh(4,4,e,t)}function yy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wy(e,t,r){return r=r!=null?r.concat([e]):null,Sh(4,4,yy.bind(null,t,e),r)}function Pm(){}function by(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xy(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _y(e,t,r){return Is&21?(fi(r,t)||(r=Ev(),$t.lanes|=r,Fs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=r)}function o4(e,t){var r=jt;jt=r!==0&&4>r?r:4,e(!0);var n=Xf.transition;Xf.transition={};try{e(!1),t()}finally{jt=r,Xf.transition=n}}function Sy(){return qn().memoizedState}function l4(e,t,r){var n=$a(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ny(e))ky(t,r);else if(r=ay(e,t,r,n),r!==null){var i=Qr();hi(r,e,n,i),jy(r,t,n)}}function u4(e,t,r){var n=$a(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ny(e))ky(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,r);if(i.hasEagerState=!0,i.eagerState=l,fi(l,s)){var o=t.interleaved;o===null?(i.next=i,xm(t)):(i.next=o.next,o.next=i),t.interleaved=i;return}}catch{}finally{}r=ay(e,t,i,n),r!==null&&(i=Qr(),hi(r,e,n,i),jy(r,t,n))}}function Ny(e){var t=e.alternate;return e===$t||t!==null&&t===$t}function ky(e,t){hu=rh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,om(e,r)}}var nh={readContext:zn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},c4={readContext:zn,useCallback:function(e,t){return Ai().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:x1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Td(4194308,4,yy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Td(4194308,4,e,t)},useInsertionEffect:function(e,t){return Td(4,2,e,t)},useMemo:function(e,t){var r=Ai();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ai();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=l4.bind(null,$t,e),[n.memoizedState,e]},useRef:function(e){var t=Ai();return e={current:e},t.memoizedState=e},useState:b1,useDebugValue:Pm,useDeferredValue:function(e){return Ai().memoizedState=e},useTransition:function(){var e=b1(!1),t=e[0];return e=o4.bind(null,e[1]),Ai().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=$t,i=Ai();if(Bt){if(r===void 0)throw Error(Ce(407));r=r()}else{if(r=t(),kr===null)throw Error(Ce(349));Is&30||cy(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,x1(hy.bind(null,n,a,e),[e]),n.flags|=2048,Bu(9,dy.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ai(),t=kr.identifierPrefix;if(Bt){var r=Xi,n=Qi;r=(n&~(1<<32-di(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Du++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=s4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d4={readContext:zn,useCallback:by,useContext:zn,useEffect:Am,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:vy,useMemo:xy,useReducer:Zf,useRef:my,useState:function(){return Zf(Mu)},useDebugValue:Pm,useDeferredValue:function(e){var t=qn();return _y(t,yr.memoizedState,e)},useTransition:function(){var e=Zf(Mu)[0],t=qn().memoizedState;return[e,t]},useMutableSource:ly,useSyncExternalStore:uy,useId:Sy,unstable_isNewReconciler:!1},h4={readContext:zn,useCallback:by,useContext:zn,useEffect:Am,useImperativeHandle:wy,useInsertionEffect:gy,useLayoutEffect:vy,useMemo:xy,useReducer:ep,useRef:my,useState:function(){return ep(Mu)},useDebugValue:Pm,useDeferredValue:function(e){var t=qn();return yr===null?t.memoizedState=e:_y(t,yr.memoizedState,e)},useTransition:function(){var e=ep(Mu)[0],t=qn().memoizedState;return[e,t]},useMutableSource:ly,useSyncExternalStore:uy,useId:Sy,unstable_isNewReconciler:!1};function ai(e,t){if(e&&e.defaultProps){t=Wt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function a0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Wt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nh={isMounted:function(e){return(e=e._reactInternals)?Us(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qr(),i=$a(e),a=Zi(n,i);a.payload=t,r!=null&&(a.callback=r),t=za(e,a,i),t!==null&&(hi(t,e,i,n),Pd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qr(),i=$a(e),a=Zi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=za(e,a,i),t!==null&&(hi(t,e,i,n),Pd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qr(),n=$a(e),i=Zi(r,n);i.tag=2,t!=null&&(i.callback=t),t=za(e,i,n),t!==null&&(hi(t,e,n,r),Pd(t,e,n))}};function _1(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Lu(r,n)||!Lu(i,a):!0}function Ey(e,t,r){var n=!1,i=Ga,a=t.contextType;return typeof a=="object"&&a!==null?a=zn(a):(i=cn(t)?Rs:Vr.current,n=t.contextTypes,a=(n=n!=null)?tl(e,i):Ga),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function S1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Nh.enqueueReplaceState(t,t.state,null)}function s0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},_m(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=zn(a):(a=cn(t)?Rs:Vr.current,i.context=tl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(a0(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Nh.enqueueReplaceState(i,i.state,null),eh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function al(e,t){try{var r="",n=t;do r+=Ub(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function tp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function o0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var f4=typeof WeakMap=="function"?WeakMap:Map;function Cy(e,t,r){r=Zi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ah||(ah=!0,v0=n),o0(e,t)},r}function Ay(e,t,r){r=Zi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){o0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){o0(e,t),typeof n!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function N1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new f4;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=E4.bind(null,e,t,r),t.then(e,e))}function k1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function j1(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zi(-1,1),t.tag=2,za(r,t,1))),r.lanes|=1),e)}var p4=sa.ReactCurrentOwner,ln=!1;function Yr(e,t,r,n){t.child=e===null?iy(t,null,r,n):nl(t,e.child,r,n)}function E1(e,t,r,n,i){r=r.render;var a=t.ref;return Qo(t,i),n=Em(e,t,r,n,a,i),r=Cm(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i)):(Bt&&r&&mm(t),t.flags|=1,Yr(e,t,n,i),t.child)}function C1(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Mm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Py(e,t,a,n,i)):(e=Fd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Lu,r(s,n)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,e=Ha(a,n),e.ref=t.ref,e.return=t,t.child=e}function Py(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Lu(a,n)&&e.ref===t.ref)if(ln=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,ia(e,t,i)}return l0(e,t,r,n,i)}function Ly(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Ho,wn),wn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ot(Ho,wn),wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ot(Ho,wn),wn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ot(Ho,wn),wn|=n;return Yr(e,t,i,r),t.child}function Ty(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function l0(e,t,r,n,i){var a=cn(r)?Rs:Vr.current;return a=tl(t,a),Qo(t,i),r=Em(e,t,r,n,a,i),n=Cm(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i)):(Bt&&n&&mm(t),t.flags|=1,Yr(e,t,r,i),t.child)}function A1(e,t,r,n,i){if(cn(r)){var a=!0;Jd(t)}else a=!1;if(Qo(t,i),t.stateNode===null)Rd(e,t),Ey(t,r,n),s0(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var o=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=zn(c):(c=cn(r)?Rs:Vr.current,c=tl(t,c));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||o!==c)&&S1(t,s,n,c),Ca=!1;var g=t.memoizedState;s.state=g,eh(t,n,s,i),o=t.memoizedState,l!==n||g!==o||un.current||Ca?(typeof d=="function"&&(a0(t,r,d,n),o=t.memoizedState),(l=Ca||_1(t,r,l,n,g,o,c))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),s.props=n,s.state=o,s.context=c,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,sy(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:ai(t.type,l),s.props=c,m=t.pendingProps,g=s.context,o=r.contextType,typeof o=="object"&&o!==null?o=zn(o):(o=cn(r)?Rs:Vr.current,o=tl(t,o));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==m||g!==o)&&S1(t,s,n,o),Ca=!1,g=t.memoizedState,s.state=g,eh(t,n,s,i);var b=t.memoizedState;l!==m||g!==b||un.current||Ca?(typeof p=="function"&&(a0(t,r,p,n),b=t.memoizedState),(c=Ca||_1(t,r,c,n,g,b,o)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,b,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,b,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),s.props=n,s.state=b,s.context=o,n=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return u0(e,t,r,n,a,i)}function u0(e,t,r,n,i,a){Ty(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&p1(t,r,!1),ia(e,t,a);n=t.stateNode,p4.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=nl(t,e.child,null,a),t.child=nl(t,null,l,a)):Yr(e,t,l,a),t.memoizedState=n.state,i&&p1(t,r,!0),t.child}function Ry(e){var t=e.stateNode;t.pendingContext?f1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f1(e,t.context,!1),Sm(e,t.containerInfo)}function P1(e,t,r,n,i){return rl(),vm(i),t.flags|=256,Yr(e,t,r,n),t.child}var c0={dehydrated:null,treeContext:null,retryLane:0};function d0(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oy(e,t,r){var n=t.pendingProps,i=qt.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ot(qt,i&1),e===null)return n0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Eh(s,n,0,null),e=Es(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=d0(r),t.memoizedState=c0,e):Lm(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return m4(e,t,s,n,l,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,l=i.sibling;var o={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=Ha(i,o),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ha(l,a):(a=Es(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?d0(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=c0,n}return a=e.child,e=a.sibling,n=Ha(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Lm(e,t){return t=Eh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dd(e,t,r,n){return n!==null&&vm(n),nl(t,e.child,null,r),e=Lm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m4(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=tp(Error(Ce(422))),dd(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Eh({mode:"visible",children:n.children},i,0,null),a=Es(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&nl(t,e.child,null,s),t.child.memoizedState=d0(s),t.memoizedState=c0,a);if(!(t.mode&1))return dd(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Ce(419)),n=tp(a,n,void 0),dd(e,t,s,n)}if(l=(s&e.childLanes)!==0,ln||l){if(n=kr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,na(e,i),hi(n,e,i,-1))}return Dm(),n=tp(Error(Ce(421))),dd(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=C4.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,_n=Ua(i.nextSibling),kn=t,Bt=!0,ci=null,e!==null&&(Dn[Mn++]=Qi,Dn[Mn++]=Xi,Dn[Mn++]=Os,Qi=e.id,Xi=e.overflow,Os=t),t=Lm(t,n.children),t.flags|=4096,t)}function L1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),i0(e.return,t,r)}function rp(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Iy(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Yr(e,t,n.children,r),n=qt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&L1(e,r,t);else if(e.tag===19)L1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ot(qt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&th(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),rp(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&th(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}rp(t,!0,r,null,a);break;case"together":rp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ia(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ce(153));if(t.child!==null){for(e=t.child,r=Ha(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ha(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function g4(e,t,r){switch(t.tag){case 3:Ry(t),rl();break;case 5:oy(t);break;case 1:cn(t.type)&&Jd(t);break;case 4:Sm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ot(Xd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ot(qt,qt.current&1),t.flags|=128,null):r&t.child.childLanes?Oy(e,t,r):(Ot(qt,qt.current&1),e=ia(e,t,r),e!==null?e.sibling:null);Ot(qt,qt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Iy(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(qt,qt.current),n)break;return null;case 22:case 23:return t.lanes=0,Ly(e,t,r)}return ia(e,t,r)}var Fy,h0,Dy,My;Fy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};h0=function(){};Dy=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ss(Ri.current);var a=null;switch(r){case"input":i=Op(e,i),n=Op(e,n),a=[];break;case"select":i=Wt({},i,{value:void 0}),n=Wt({},n,{value:void 0}),a=[];break;case"textarea":i=Dp(e,i),n=Dp(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gd)}Bp(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nu.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var o=n[c];if(l=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&o!==l&&(o!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||o&&o.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in o)o.hasOwnProperty(s)&&l[s]!==o[s]&&(r||(r={}),r[s]=o[s])}else r||(a||(a=[]),a.push(c,r)),r=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,l=l?l.__html:void 0,o!=null&&l!==o&&(a=a||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&It("scroll",e),a||l===o||(a=[])):(a=a||[]).push(c,o))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};My=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yl(e,t){if(!Bt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Mr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function v4(e,t,r){var n=t.pendingProps;switch(gm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(t),null;case 1:return cn(t.type)&&Kd(),Mr(t),null;case 3:return n=t.stateNode,il(),Dt(un),Dt(Vr),km(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ud(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ci!==null&&(b0(ci),ci=null))),h0(e,t),Mr(t),null;case 5:Nm(t);var i=Ss(Fu.current);if(r=t.type,e!==null&&t.stateNode!=null)Dy(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ce(166));return Mr(t),null}if(e=Ss(Ri.current),ud(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Pi]=t,n[Ou]=a,e=(t.mode&1)!==0,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(i=0;i<iu.length;i++)It(iu[i],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":Ug(n,a),It("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},It("invalid",n);break;case"textarea":qg(n,a),It("invalid",n)}Bp(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&ld(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ld(n.textContent,l,e),i=["children",""+l]):Nu.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&It("scroll",n)}switch(r){case"input":ed(n),zg(n,a,!0);break;case"textarea":ed(n),$g(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Gd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Pi]=t,e[Ou]=n,Fy(e,t,!1,!1),t.stateNode=e;e:{switch(s=Up(r,n),r){case"dialog":It("cancel",e),It("close",e),i=n;break;case"iframe":case"object":case"embed":It("load",e),i=n;break;case"video":case"audio":for(i=0;i<iu.length;i++)It(iu[i],e);i=n;break;case"source":It("error",e),i=n;break;case"img":case"image":case"link":It("error",e),It("load",e),i=n;break;case"details":It("toggle",e),i=n;break;case"input":Ug(e,n),i=Op(e,n),It("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Wt({},n,{value:void 0}),It("invalid",e);break;case"textarea":qg(e,n),i=Dp(e,n),It("invalid",e);break;default:i=n}Bp(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var o=l[a];a==="style"?mv(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&fv(e,o)):a==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&ku(e,o):typeof o=="number"&&ku(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Nu.hasOwnProperty(a)?o!=null&&a==="onScroll"&&It("scroll",e):o!=null&&tm(e,a,o,s))}switch(r){case"input":ed(e),zg(e,n,!1);break;case"textarea":ed(e),$g(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Va(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Go(e,!!n.multiple,a,!1):n.defaultValue!=null&&Go(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Gd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mr(t),null;case 6:if(e&&t.stateNode!=null)My(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ce(166));if(r=Ss(Fu.current),Ss(Ri.current),ud(t)){if(n=t.stateNode,r=t.memoizedProps,n[Pi]=t,(a=n.nodeValue!==r)&&(e=kn,e!==null))switch(e.tag){case 3:ld(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ld(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pi]=t,t.stateNode=n}return Mr(t),null;case 13:if(Dt(qt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bt&&_n!==null&&t.mode&1&&!(t.flags&128))ry(),rl(),t.flags|=98560,a=!1;else if(a=ud(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ce(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ce(317));a[Pi]=t}else rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mr(t),a=!1}else ci!==null&&(b0(ci),ci=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?br===0&&(br=3):Dm())),t.updateQueue!==null&&(t.flags|=4),Mr(t),null);case 4:return il(),h0(e,t),e===null&&Tu(t.stateNode.containerInfo),Mr(t),null;case 10:return bm(t.type._context),Mr(t),null;case 17:return cn(t.type)&&Kd(),Mr(t),null;case 19:if(Dt(qt),a=t.memoizedState,a===null)return Mr(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Yl(a,!1);else{if(br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=th(e),s!==null){for(t.flags|=128,Yl(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ot(qt,qt.current&1|2),t.child}e=e.sibling}a.tail!==null&&ir()>sl&&(t.flags|=128,n=!0,Yl(a,!1),t.lanes=4194304)}else{if(!n)if(e=th(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Bt)return Mr(t),null}else 2*ir()-a.renderingStartTime>sl&&r!==1073741824&&(t.flags|=128,n=!0,Yl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ir(),t.sibling=null,r=qt.current,Ot(qt,n?r&1|2:r&1),t):(Mr(t),null);case 22:case 23:return Fm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wn&1073741824&&(Mr(t),t.subtreeFlags&6&&(t.flags|=8192)):Mr(t),null;case 24:return null;case 25:return null}throw Error(Ce(156,t.tag))}function y4(e,t){switch(gm(t),t.tag){case 1:return cn(t.type)&&Kd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(),Dt(un),Dt(Vr),km(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nm(t),null;case 13:if(Dt(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ce(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dt(qt),null;case 4:return il(),null;case 10:return bm(t.type._context),null;case 22:case 23:return Fm(),null;case 24:return null;default:return null}}var hd=!1,Hr=!1,w4=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function $o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){er(e,t,n)}else r.current=null}function f0(e,t,r){try{r()}catch(n){er(e,t,n)}}var T1=!1;function b4(e,t){if(Yp=Hd,e=$v(),pm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,l=-1,o=-1,c=0,d=0,m=e,g=null;t:for(;;){for(var p;m!==r||i!==0&&m.nodeType!==3||(l=s+i),m!==a||n!==0&&m.nodeType!==3||(o=s+n),m.nodeType===3&&(s+=m.nodeValue.length),(p=m.firstChild)!==null;)g=m,m=p;for(;;){if(m===e)break t;if(g===r&&++c===i&&(l=s),g===a&&++d===n&&(o=s),(p=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=p}r=l===-1||o===-1?null:{start:l,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qp={focusedElem:e,selectionRange:r},Hd=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,N=b.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?S:ai(t.type,S),N);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(j){er(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return b=T1,T1=!1,b}function fu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&f0(t,r,a)}i=i.next}while(i!==n)}}function kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function p0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function By(e){var t=e.alternate;t!==null&&(e.alternate=null,By(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pi],delete t[Ou],delete t[e0],delete t[r4],delete t[n4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uy(e){return e.tag===5||e.tag===3||e.tag===4}function R1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function m0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gd));else if(n!==4&&(e=e.child,e!==null))for(m0(e,t,r),e=e.sibling;e!==null;)m0(e,t,r),e=e.sibling}function g0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(g0(e,t,r),e=e.sibling;e!==null;)g0(e,t,r),e=e.sibling}var Lr=null,li=!1;function Sa(e,t,r){for(r=r.child;r!==null;)zy(e,t,r),r=r.sibling}function zy(e,t,r){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(vh,r)}catch{}switch(r.tag){case 5:Hr||$o(r,t);case 6:var n=Lr,i=li;Lr=null,Sa(e,t,r),Lr=n,li=i,Lr!==null&&(li?(e=Lr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Lr.removeChild(r.stateNode));break;case 18:Lr!==null&&(li?(e=Lr,r=r.stateNode,e.nodeType===8?Jf(e.parentNode,r):e.nodeType===1&&Jf(e,r),Au(e)):Jf(Lr,r.stateNode));break;case 4:n=Lr,i=li,Lr=r.stateNode.containerInfo,li=!0,Sa(e,t,r),Lr=n,li=i;break;case 0:case 11:case 14:case 15:if(!Hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&f0(r,t,s),i=i.next}while(i!==n)}Sa(e,t,r);break;case 1:if(!Hr&&($o(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){er(r,t,l)}Sa(e,t,r);break;case 21:Sa(e,t,r);break;case 22:r.mode&1?(Hr=(n=Hr)||r.memoizedState!==null,Sa(e,t,r),Hr=n):Sa(e,t,r);break;default:Sa(e,t,r)}}function O1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new w4),t.forEach(function(n){var i=A4.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ti(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Lr=l.stateNode,li=!1;break e;case 3:Lr=l.stateNode.containerInfo,li=!0;break e;case 4:Lr=l.stateNode.containerInfo,li=!0;break e}l=l.return}if(Lr===null)throw Error(Ce(160));zy(a,s,i),Lr=null,li=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(c){er(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qy(t,e),t=t.sibling}function qy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ti(t,e),Ei(e),n&4){try{fu(3,e,e.return),kh(3,e)}catch(S){er(e,e.return,S)}try{fu(5,e,e.return)}catch(S){er(e,e.return,S)}}break;case 1:ti(t,e),Ei(e),n&512&&r!==null&&$o(r,r.return);break;case 5:if(ti(t,e),Ei(e),n&512&&r!==null&&$o(r,r.return),e.flags&32){var i=e.stateNode;try{ku(i,"")}catch(S){er(e,e.return,S)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,l=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&cv(i,a),Up(l,s);var c=Up(l,a);for(s=0;s<o.length;s+=2){var d=o[s],m=o[s+1];d==="style"?mv(i,m):d==="dangerouslySetInnerHTML"?fv(i,m):d==="children"?ku(i,m):tm(i,d,m,c)}switch(l){case"input":Ip(i,a);break;case"textarea":dv(i,a);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Go(i,!!a.multiple,p,!1):g!==!!a.multiple&&(a.defaultValue!=null?Go(i,!!a.multiple,a.defaultValue,!0):Go(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ou]=a}catch(S){er(e,e.return,S)}}break;case 6:if(ti(t,e),Ei(e),n&4){if(e.stateNode===null)throw Error(Ce(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(S){er(e,e.return,S)}}break;case 3:if(ti(t,e),Ei(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Au(t.containerInfo)}catch(S){er(e,e.return,S)}break;case 4:ti(t,e),Ei(e);break;case 13:ti(t,e),Ei(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Om=ir())),n&4&&O1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Hr=(c=Hr)||d,ti(t,e),Hr=c):ti(t,e),Ei(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Ue=e,d=e.child;d!==null;){for(m=Ue=d;Ue!==null;){switch(g=Ue,p=g.child,g.tag){case 0:case 11:case 14:case 15:fu(4,g,g.return);break;case 1:$o(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(S){er(n,r,S)}}break;case 5:$o(g,g.return);break;case 22:if(g.memoizedState!==null){F1(m);continue}}p!==null?(p.return=g,Ue=p):F1(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,o=m.memoizedProps.style,s=o!=null&&o.hasOwnProperty("display")?o.display:null,l.style.display=pv("display",s))}catch(S){er(e,e.return,S)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(S){er(e,e.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ti(t,e),Ei(e),n&4&&O1(e);break;case 21:break;default:ti(t,e),Ei(e)}}function Ei(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Uy(r)){var n=r;break e}r=r.return}throw Error(Ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ku(i,""),n.flags&=-33);var a=R1(e);g0(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=R1(e);m0(e,l,s);break;default:throw Error(Ce(161))}}catch(o){er(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x4(e,t,r){Ue=e,$y(e)}function $y(e,t,r){for(var n=(e.mode&1)!==0;Ue!==null;){var i=Ue,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||hd;if(!s){var l=i.alternate,o=l!==null&&l.memoizedState!==null||Hr;l=hd;var c=Hr;if(hd=s,(Hr=o)&&!c)for(Ue=i;Ue!==null;)s=Ue,o=s.child,s.tag===22&&s.memoizedState!==null?D1(i):o!==null?(o.return=s,Ue=o):D1(i);for(;a!==null;)Ue=a,$y(a),a=a.sibling;Ue=i,hd=l,Hr=c}I1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ue=a):I1(e)}}function I1(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Hr||kh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Hr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ai(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&w1(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}w1(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Au(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Hr||t.flags&512&&p0(t)}catch(g){er(t,t.return,g)}}if(t===e){Ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ue=r;break}Ue=t.return}}function F1(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ue=r;break}Ue=t.return}}function D1(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kh(4,t)}catch(o){er(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(o){er(t,i,o)}}var a=t.return;try{p0(t)}catch(o){er(t,a,o)}break;case 5:var s=t.return;try{p0(t)}catch(o){er(t,s,o)}}}catch(o){er(t,t.return,o)}if(t===e){Ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ue=l;break}Ue=t.return}}var _4=Math.ceil,ih=sa.ReactCurrentDispatcher,Tm=sa.ReactCurrentOwner,Un=sa.ReactCurrentBatchConfig,yt=0,kr=null,pr=null,Tr=0,wn=0,Ho=Qa(0),br=0,Uu=null,Fs=0,jh=0,Rm=0,pu=null,on=null,Om=0,sl=1/0,Ki=null,ah=!1,v0=null,qa=null,fd=!1,Ia=null,sh=0,mu=0,y0=null,Od=-1,Id=0;function Qr(){return yt&6?ir():Od!==-1?Od:Od=ir()}function $a(e){return e.mode&1?yt&2&&Tr!==0?Tr&-Tr:a4.transition!==null?(Id===0&&(Id=Ev()),Id):(e=jt,e!==0||(e=window.event,e=e===void 0?16:Ov(e.type)),e):1}function hi(e,t,r,n){if(50<mu)throw mu=0,y0=null,Error(Ce(185));Xu(e,r,n),(!(yt&2)||e!==kr)&&(e===kr&&(!(yt&2)&&(jh|=r),br===4&&La(e,Tr)),dn(e,n),r===1&&yt===0&&!(t.mode&1)&&(sl=ir()+500,_h&&Xa()))}function dn(e,t){var r=e.callbackNode;ax(e,t);var n=$d(e,e===kr?Tr:0);if(n===0)r!==null&&Vg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Vg(r),t===1)e.tag===0?i4(M1.bind(null,e)):Zv(M1.bind(null,e)),e4(function(){!(yt&6)&&Xa()}),r=null;else{switch(Cv(n)){case 1:r=sm;break;case 4:r=kv;break;case 16:r=qd;break;case 536870912:r=jv;break;default:r=qd}r=Qy(r,Hy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Hy(e,t){if(Od=-1,Id=0,yt&6)throw Error(Ce(327));var r=e.callbackNode;if(Xo()&&e.callbackNode!==r)return null;var n=$d(e,e===kr?Tr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=oh(e,n);else{t=n;var i=yt;yt|=2;var a=Vy();(kr!==e||Tr!==t)&&(Ki=null,sl=ir()+500,js(e,t));do try{k4();break}catch(l){Wy(e,l)}while(!0);wm(),ih.current=a,yt=i,pr!==null?t=0:(kr=null,Tr=0,t=br)}if(t!==0){if(t===2&&(i=Wp(e),i!==0&&(n=i,t=w0(e,i))),t===1)throw r=Uu,js(e,0),La(e,n),dn(e,ir()),r;if(t===6)La(e,n);else{if(i=e.current.alternate,!(n&30)&&!S4(i)&&(t=oh(e,n),t===2&&(a=Wp(e),a!==0&&(n=a,t=w0(e,a))),t===1))throw r=Uu,js(e,0),La(e,n),dn(e,ir()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ce(345));case 2:gs(e,on,Ki);break;case 3:if(La(e,n),(n&130023424)===n&&(t=Om+500-ir(),10<t)){if($d(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Qr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zp(gs.bind(null,e,on,Ki),t);break}gs(e,on,Ki);break;case 4:if(La(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-di(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=ir()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_4(n/1960))-n,10<n){e.timeoutHandle=Zp(gs.bind(null,e,on,Ki),n);break}gs(e,on,Ki);break;case 5:gs(e,on,Ki);break;default:throw Error(Ce(329))}}}return dn(e,ir()),e.callbackNode===r?Hy.bind(null,e):null}function w0(e,t){var r=pu;return e.current.memoizedState.isDehydrated&&(js(e,t).flags|=256),e=oh(e,t),e!==2&&(t=on,on=r,t!==null&&b0(t)),e}function b0(e){on===null?on=e:on.push.apply(on,e)}function S4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!fi(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function La(e,t){for(t&=~Rm,t&=~jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-di(t),n=1<<r;e[r]=-1,t&=~n}}function M1(e){if(yt&6)throw Error(Ce(327));Xo();var t=$d(e,0);if(!(t&1))return dn(e,ir()),null;var r=oh(e,t);if(e.tag!==0&&r===2){var n=Wp(e);n!==0&&(t=n,r=w0(e,n))}if(r===1)throw r=Uu,js(e,0),La(e,t),dn(e,ir()),r;if(r===6)throw Error(Ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gs(e,on,Ki),dn(e,ir()),null}function Im(e,t){var r=yt;yt|=1;try{return e(t)}finally{yt=r,yt===0&&(sl=ir()+500,_h&&Xa())}}function Ds(e){Ia!==null&&Ia.tag===0&&!(yt&6)&&Xo();var t=yt;yt|=1;var r=Un.transition,n=jt;try{if(Un.transition=null,jt=1,e)return e()}finally{jt=n,Un.transition=r,yt=t,!(yt&6)&&Xa()}}function Fm(){wn=Ho.current,Dt(Ho)}function js(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zx(r)),pr!==null)for(r=pr.return;r!==null;){var n=r;switch(gm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kd();break;case 3:il(),Dt(un),Dt(Vr),km();break;case 5:Nm(n);break;case 4:il();break;case 13:Dt(qt);break;case 19:Dt(qt);break;case 10:bm(n.type._context);break;case 22:case 23:Fm()}r=r.return}if(kr=e,pr=e=Ha(e.current,null),Tr=wn=t,br=0,Uu=null,Rm=jh=Fs=0,on=pu=null,_s!==null){for(t=0;t<_s.length;t++)if(r=_s[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}_s=null}return e}function Wy(e,t){do{var r=pr;try{if(wm(),Ld.current=nh,rh){for(var n=$t.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rh=!1}if(Is=0,Nr=yr=$t=null,hu=!1,Du=0,Tm.current=null,r===null||r.return===null){br=1,Uu=t,pr=null;break}e:{var a=e,s=r.return,l=r,o=t;if(t=Tr,l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=k1(s);if(p!==null){p.flags&=-257,j1(p,s,l,a,t),p.mode&1&&N1(a,c,t),t=p,o=c;var b=t.updateQueue;if(b===null){var S=new Set;S.add(o),t.updateQueue=S}else b.add(o);break e}else{if(!(t&1)){N1(a,c,t),Dm();break e}o=Error(Ce(426))}}else if(Bt&&l.mode&1){var N=k1(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),j1(N,s,l,a,t),vm(al(o,l));break e}}a=o=al(o,l),br!==4&&(br=2),pu===null?pu=[a]:pu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Cy(a,o,t);y1(a,y);break e;case 1:l=o;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qa===null||!qa.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Ay(a,l,t);y1(a,j);break e}}a=a.return}while(a!==null)}Ky(r)}catch(O){t=O,pr===r&&r!==null&&(pr=r=r.return);continue}break}while(!0)}function Vy(){var e=ih.current;return ih.current=nh,e===null?nh:e}function Dm(){(br===0||br===3||br===2)&&(br=4),kr===null||!(Fs&268435455)&&!(jh&268435455)||La(kr,Tr)}function oh(e,t){var r=yt;yt|=2;var n=Vy();(kr!==e||Tr!==t)&&(Ki=null,js(e,t));do try{N4();break}catch(i){Wy(e,i)}while(!0);if(wm(),yt=r,ih.current=n,pr!==null)throw Error(Ce(261));return kr=null,Tr=0,br}function N4(){for(;pr!==null;)Gy(pr)}function k4(){for(;pr!==null&&!Yb();)Gy(pr)}function Gy(e){var t=Yy(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?Ky(e):pr=t,Tm.current=null}function Ky(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=y4(r,t),r!==null){r.flags&=32767,pr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{br=6,pr=null;return}}else if(r=v4(r,t,wn),r!==null){pr=r;return}if(t=t.sibling,t!==null){pr=t;return}pr=t=e}while(t!==null);br===0&&(br=5)}function gs(e,t,r){var n=jt,i=Un.transition;try{Un.transition=null,jt=1,j4(e,t,r,n)}finally{Un.transition=i,jt=n}return null}function j4(e,t,r,n){do Xo();while(Ia!==null);if(yt&6)throw Error(Ce(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ce(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(sx(e,a),e===kr&&(pr=kr=null,Tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fd||(fd=!0,Qy(qd,function(){return Xo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Un.transition,Un.transition=null;var s=jt;jt=1;var l=yt;yt|=4,Tm.current=null,b4(e,r),qy(r,e),Vx(Qp),Hd=!!Yp,Qp=Yp=null,e.current=r,x4(r),Qb(),yt=l,jt=s,Un.transition=a}else e.current=r;if(fd&&(fd=!1,Ia=e,sh=i),a=e.pendingLanes,a===0&&(qa=null),ex(r.stateNode),dn(e,ir()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ah)throw ah=!1,e=v0,v0=null,e;return sh&1&&e.tag!==0&&Xo(),a=e.pendingLanes,a&1?e===y0?mu++:(mu=0,y0=e):mu=0,Xa(),null}function Xo(){if(Ia!==null){var e=Cv(sh),t=Un.transition,r=jt;try{if(Un.transition=null,jt=16>e?16:e,Ia===null)var n=!1;else{if(e=Ia,Ia=null,sh=0,yt&6)throw Error(Ce(331));var i=yt;for(yt|=4,Ue=e.current;Ue!==null;){var a=Ue,s=a.child;if(Ue.flags&16){var l=a.deletions;if(l!==null){for(var o=0;o<l.length;o++){var c=l[o];for(Ue=c;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:fu(8,d,a)}var m=d.child;if(m!==null)m.return=d,Ue=m;else for(;Ue!==null;){d=Ue;var g=d.sibling,p=d.return;if(By(d),d===c){Ue=null;break}if(g!==null){g.return=p,Ue=g;break}Ue=p}}}var b=a.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var N=S.sibling;S.sibling=null,S=N}while(S!==null)}}Ue=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ue=s;else e:for(;Ue!==null;){if(a=Ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fu(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ue=y;break e}Ue=a.return}}var x=e.current;for(Ue=x;Ue!==null;){s=Ue;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ue=w;else e:for(s=x;Ue!==null;){if(l=Ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kh(9,l)}}catch(O){er(l,l.return,O)}if(l===s){Ue=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ue=j;break e}Ue=l.return}}if(yt=i,Xa(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(vh,e)}catch{}n=!0}return n}finally{jt=r,Un.transition=t}}return!1}function B1(e,t,r){t=al(r,t),t=Cy(e,t,1),e=za(e,t,1),t=Qr(),e!==null&&(Xu(e,1,t),dn(e,t))}function er(e,t,r){if(e.tag===3)B1(e,e,r);else for(;t!==null;){if(t.tag===3){B1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qa===null||!qa.has(n))){e=al(r,e),e=Ay(t,e,1),t=za(t,e,1),e=Qr(),t!==null&&(Xu(t,1,e),dn(t,e));break}}t=t.return}}function E4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qr(),e.pingedLanes|=e.suspendedLanes&r,kr===e&&(Tr&r)===r&&(br===4||br===3&&(Tr&130023424)===Tr&&500>ir()-Om?js(e,0):Rm|=r),dn(e,t)}function Jy(e,t){t===0&&(e.mode&1?(t=nd,nd<<=1,!(nd&130023424)&&(nd=4194304)):t=1);var r=Qr();e=na(e,t),e!==null&&(Xu(e,t,r),dn(e,r))}function C4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jy(e,r)}function A4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ce(314))}n!==null&&n.delete(t),Jy(e,r)}var Yy;Yy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)ln=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ln=!1,g4(e,t,r);ln=!!(e.flags&131072)}else ln=!1,Bt&&t.flags&1048576&&ey(t,Qd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rd(e,t),e=t.pendingProps;var i=tl(t,Vr.current);Qo(t,r),i=Em(null,t,n,e,i,r);var a=Cm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(n)?(a=!0,Jd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_m(t),i.updater=Nh,t.stateNode=i,i._reactInternals=t,s0(t,n,e,r),t=u0(null,t,n,!0,a,r)):(t.tag=0,Bt&&a&&mm(t),Yr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=L4(n),e=ai(n,e),i){case 0:t=l0(null,t,n,e,r);break e;case 1:t=A1(null,t,n,e,r);break e;case 11:t=E1(null,t,n,e,r);break e;case 14:t=C1(null,t,n,ai(n.type,e),r);break e}throw Error(Ce(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ai(n,i),l0(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ai(n,i),A1(e,t,n,i,r);case 3:e:{if(Ry(t),e===null)throw Error(Ce(387));n=t.pendingProps,a=t.memoizedState,i=a.element,sy(e,t),eh(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=al(Error(Ce(423)),t),t=P1(e,t,n,r,i);break e}else if(n!==i){i=al(Error(Ce(424)),t),t=P1(e,t,n,r,i);break e}else for(_n=Ua(t.stateNode.containerInfo.firstChild),kn=t,Bt=!0,ci=null,r=iy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rl(),n===i){t=ia(e,t,r);break e}Yr(e,t,n,r)}t=t.child}return t;case 5:return oy(t),e===null&&n0(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Xp(n,i)?s=null:a!==null&&Xp(n,a)&&(t.flags|=32),Ty(e,t),Yr(e,t,s,r),t.child;case 6:return e===null&&n0(t),null;case 13:return Oy(e,t,r);case 4:return Sm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=nl(t,null,n,r):Yr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ai(n,i),E1(e,t,n,i,r);case 7:return Yr(e,t,t.pendingProps,r),t.child;case 8:return Yr(e,t,t.pendingProps.children,r),t.child;case 12:return Yr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ot(Xd,n._currentValue),n._currentValue=s,a!==null)if(fi(a.value,s)){if(a.children===i.children&&!un.current){t=ia(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var o=l.firstContext;o!==null;){if(o.context===n){if(a.tag===1){o=Zi(-1,r&-r),o.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?o.next=o:(o.next=d.next,d.next=o),c.pending=o}}a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),i0(a.return,r,t),l.lanes|=r;break}o=o.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ce(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),i0(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Yr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Qo(t,r),i=zn(i),n=n(i),t.flags|=1,Yr(e,t,n,r),t.child;case 14:return n=t.type,i=ai(n,t.pendingProps),i=ai(n.type,i),C1(e,t,n,i,r);case 15:return Py(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ai(n,i),Rd(e,t),t.tag=1,cn(n)?(e=!0,Jd(t)):e=!1,Qo(t,r),Ey(t,n,i),s0(t,n,i,r),u0(null,t,n,!0,e,r);case 19:return Iy(e,t,r);case 22:return Ly(e,t,r)}throw Error(Ce(156,t.tag))};function Qy(e,t){return Nv(e,t)}function P4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,t,r,n){return new P4(e,t,r,n)}function Mm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L4(e){if(typeof e=="function")return Mm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nm)return 11;if(e===im)return 14}return 2}function Ha(e,t){var r=e.alternate;return r===null?(r=Bn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fd(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")Mm(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Oo:return Es(r.children,i,a,t);case rm:s=8,i|=8;break;case Pp:return e=Bn(12,r,t,i|2),e.elementType=Pp,e.lanes=a,e;case Lp:return e=Bn(13,r,t,i),e.elementType=Lp,e.lanes=a,e;case Tp:return e=Bn(19,r,t,i),e.elementType=Tp,e.lanes=a,e;case ov:return Eh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case av:s=10;break e;case sv:s=9;break e;case nm:s=11;break e;case im:s=14;break e;case Ea:s=16,n=null;break e}throw Error(Ce(130,e==null?e:typeof e,""))}return t=Bn(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Es(e,t,r,n){return e=Bn(7,e,n,t),e.lanes=r,e}function Eh(e,t,r,n){return e=Bn(22,e,n,t),e.elementType=ov,e.lanes=r,e.stateNode={isHidden:!1},e}function np(e,t,r){return e=Bn(6,e,null,t),e.lanes=r,e}function ip(e,t,r){return t=Bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T4(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mf(0),this.expirationTimes=Mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bm(e,t,r,n,i,a,s,l,o){return e=new T4(e,t,r,l,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Bn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_m(a),e}function R4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Xy(e){if(!e)return Ga;e=e._reactInternals;e:{if(Us(e)!==e||e.tag!==1)throw Error(Ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ce(171))}if(e.tag===1){var r=e.type;if(cn(r))return Xv(e,r,t)}return t}function Zy(e,t,r,n,i,a,s,l,o){return e=Bm(r,n,!0,e,i,a,s,l,o),e.context=Xy(null),r=e.current,n=Qr(),i=$a(r),a=Zi(n,i),a.callback=t??null,za(r,a,i),e.current.lanes=i,Xu(e,i,n),dn(e,n),e}function Ch(e,t,r,n){var i=t.current,a=Qr(),s=$a(i);return r=Xy(r),t.context===null?t.context=r:t.pendingContext=r,t=Zi(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=za(i,t,s),e!==null&&(hi(e,i,s,a),Pd(e,i,s)),s}function lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function U1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Um(e,t){U1(e,t),(e=e.alternate)&&U1(e,t)}function O4(){return null}var e5=typeof reportError=="function"?reportError:function(e){console.error(e)};function zm(e){this._internalRoot=e}Ah.prototype.render=zm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ce(409));Ch(e,t,null,null)};Ah.prototype.unmount=zm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ds(function(){Ch(null,e,null,null)}),t[ra]=null}};function Ah(e){this._internalRoot=e}Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pa.length&&t!==0&&t<Pa[r].priority;r++);Pa.splice(r,0,e),r===0&&Rv(e)}};function qm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function z1(){}function I4(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=lh(s);a.call(c)}}var s=Zy(t,n,e,0,null,!1,!1,"",z1);return e._reactRootContainer=s,e[ra]=s.current,Tu(e.nodeType===8?e.parentNode:e),Ds(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=lh(o);l.call(c)}}var o=Bm(e,0,!1,null,null,!1,!1,"",z1);return e._reactRootContainer=o,e[ra]=o.current,Tu(e.nodeType===8?e.parentNode:e),Ds(function(){Ch(t,o,r,n)}),o}function Lh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var o=lh(s);l.call(o)}}Ch(t,s,e,i)}else s=I4(r,t,e,i,n);return lh(s)}Av=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nu(t.pendingLanes);r!==0&&(om(t,r|1),dn(t,ir()),!(yt&6)&&(sl=ir()+500,Xa()))}break;case 13:Ds(function(){var n=na(e,1);if(n!==null){var i=Qr();hi(n,e,1,i)}}),Um(e,1)}};lm=function(e){if(e.tag===13){var t=na(e,134217728);if(t!==null){var r=Qr();hi(t,e,134217728,r)}Um(e,134217728)}};Pv=function(e){if(e.tag===13){var t=$a(e),r=na(e,t);if(r!==null){var n=Qr();hi(r,e,t,n)}Um(e,t)}};Lv=function(){return jt};Tv=function(e,t){var r=jt;try{return jt=e,t()}finally{jt=r}};qp=function(e,t,r){switch(t){case"input":if(Ip(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=xh(n);if(!i)throw Error(Ce(90));uv(n),Ip(n,i)}}}break;case"textarea":dv(e,r);break;case"select":t=r.value,t!=null&&Go(e,!!r.multiple,t,!1)}};yv=Im;wv=Ds;var F4={usingClientEntryPoint:!1,Events:[ec,Mo,xh,gv,vv,Im]},Ql={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D4={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_v(e),e===null?null:e.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{vh=pd.inject(D4),Ti=pd}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F4;En.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qm(t))throw Error(Ce(200));return R4(e,t,null,r)};En.createRoot=function(e,t){if(!qm(e))throw Error(Ce(299));var r=!1,n="",i=e5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Bm(e,1,!1,null,null,r,!1,n,i),e[ra]=t.current,Tu(e.nodeType===8?e.parentNode:e),new zm(t)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ce(188)):(e=Object.keys(e).join(","),Error(Ce(268,e)));return e=_v(t),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return Ds(e)};En.hydrate=function(e,t,r){if(!Ph(t))throw Error(Ce(200));return Lh(null,e,t,!0,r)};En.hydrateRoot=function(e,t,r){if(!qm(e))throw Error(Ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=e5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Zy(t,null,e,1,r??null,i,!1,a,s),e[ra]=t.current,Tu(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Ah(t)};En.render=function(e,t,r){if(!Ph(t))throw Error(Ce(200));return Lh(null,e,t,!1,r)};En.unmountComponentAtNode=function(e){if(!Ph(e))throw Error(Ce(40));return e._reactRootContainer?(Ds(function(){Lh(null,null,e,!1,function(){e._reactRootContainer=null,e[ra]=null})}),!0):!1};En.unstable_batchedUpdates=Im;En.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ph(r))throw Error(Ce(200));if(e==null||e._reactInternals===void 0)throw Error(Ce(38));return Lh(e,t,r,!1,n)};En.version="18.3.1-next-f1338f8080-20240426";function t5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t5)}catch(e){console.error(e)}}t5(),tv.exports=En;var M4=tv.exports,q1=M4;Cp.createRoot=q1.createRoot,Cp.hydrateRoot=q1.hydrateRoot;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $1="popstate";function B4(e={}){function t(n,i){let{pathname:a,search:s,hash:l}=n.location;return x0("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:zu(i)}return z4(t,r,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U4(){return Math.random().toString(36).substring(2,10)}function H1(e,t){return{usr:e.state,key:e.key,idx:t}}function x0(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?dl(t):t,state:r,key:t&&t.key||n||U4()}}function zu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function z4(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l="POP",o=null,c=d();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function m(){l="POP";let N=d(),y=N==null?null:N-c;c=N,o&&o({action:l,location:S.location,delta:y})}function g(N,y){l="PUSH";let x=x0(S.location,N,y);c=d()+1;let w=H1(x,c),j=S.createHref(x);try{s.pushState(w,"",j)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(j)}a&&o&&o({action:l,location:S.location,delta:1})}function p(N,y){l="REPLACE";let x=x0(S.location,N,y);c=d();let w=H1(x,c),j=S.createHref(x);s.replaceState(w,"",j),a&&o&&o({action:l,location:S.location,delta:0})}function b(N){return q4(N)}let S={get action(){return l},get location(){return e(i,s)},listen(N){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener($1,m),o=N,()=>{i.removeEventListener($1,m),o=null}},createHref(N){return t(i,N)},createURL:b,encodeLocation(N){let y=b(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:p,go(N){return s.go(N)}};return S}function q4(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:zu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function r5(e,t,r="/"){return $4(e,t,r,!1)}function $4(e,t,r,n){let i=typeof t=="string"?dl(t):t,a=aa(i.pathname||"/",r);if(a==null)return null;let s=n5(e);H4(s);let l=null;for(let o=0;l==null&&o<s.length;++o){let c=t3(a);l=Z4(s[o],c,n)}return l}function n5(e,t=[],r=[],n="",i=!1){let a=(s,l,o=i,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&o)return;Ht(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let m=ea([n,d.relativePath]),g=r.concat(d);s.children&&s.children.length>0&&(Ht(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),n5(s.children,t,g,m,o)),!(s.path==null&&!s.index)&&t.push({path:m,score:Q4(m,s.index),routesMeta:g})};return e.forEach((s,l)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))a(s,l);else for(let c of i5(s.path))a(s,l,!0,c)}),t}function i5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=i5(n.join("/")),l=[];return l.push(...s.map(o=>o===""?a:[a,o].join("/"))),i&&l.push(...s),l.map(o=>e.startsWith("/")&&o===""?"/":o)}function H4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:X4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var W4=/^:[\w-]+$/,V4=3,G4=2,K4=1,J4=10,Y4=-2,W1=e=>e==="*";function Q4(e,t){let r=e.split("/"),n=r.length;return r.some(W1)&&(n+=Y4),t&&(n+=G4),r.filter(i=>!W1(i)).reduce((i,a)=>i+(W4.test(a)?V4:a===""?K4:J4),n)}function X4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Z4(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let l=0;l<n.length;++l){let o=n[l],c=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",m=uh({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},d),g=o.route;if(!m&&c&&r&&!n[n.length-1].route.index&&(m=uh({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:ea([a,m.pathname]),pathnameBase:a3(ea([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=ea([a,m.pathnameBase]))}return s}function uh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=e3(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:m},g)=>{if(d==="*"){let b=l[g]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const p=l[g];return m&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function e3(e,t=!1,r=!0){pi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,o)=>(n.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function t3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function aa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var a5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r3=e=>a5.test(e);function n3(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?dl(e):e,a;if(r)if(r3(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),pi(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?a=V1(r.substring(1),"/"):a=V1(r,t)}else a=t;return{pathname:a,search:s3(n),hash:o3(i)}}function V1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ap(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function s5(e){let t=i3(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function o5(e,t,r,n=!1){let i;typeof e=="string"?i=dl(e):(i={...e},Ht(!i.pathname||!i.pathname.includes("?"),ap("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),ap("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),ap("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let m=t.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?t[m]:"/"}let o=n3(i,l),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(c||d)&&(o.pathname+="/"),o}var ea=e=>e.join("/").replace(/\/\/+/g,"/"),a3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),s3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,l3=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function u3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function c3(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var l5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function u5(e,t){let r=e;if(typeof r!="string"||!a5.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(l5)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),l=aa(s.pathname,t);s.origin===a.origin&&l!=null?r=l+s.search+s.hash:i=!0}catch{pi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c5=["POST","PUT","PATCH","DELETE"];new Set(c5);var d3=["GET",...c5];new Set(d3);var hl=ne.createContext(null);hl.displayName="DataRouter";var Th=ne.createContext(null);Th.displayName="DataRouterState";var h3=ne.createContext(!1),d5=ne.createContext({isTransitioning:!1});d5.displayName="ViewTransition";var f3=ne.createContext(new Map);f3.displayName="Fetchers";var p3=ne.createContext(null);p3.displayName="Await";var $n=ne.createContext(null);$n.displayName="Navigation";var rc=ne.createContext(null);rc.displayName="Location";var oa=ne.createContext({outlet:null,matches:[],isDataRoute:!1});oa.displayName="Route";var $m=ne.createContext(null);$m.displayName="RouteError";var h5="REACT_ROUTER_ERROR",m3="REDIRECT",g3="ROUTE_ERROR_RESPONSE";function v3(e){if(e.startsWith(`${h5}:${m3}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function y3(e){if(e.startsWith(`${h5}:${g3}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new l3(t.status,t.statusText,t.data)}catch{}}function w3(e,{relative:t}={}){Ht(nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=ne.useContext($n),{hash:i,pathname:a,search:s}=ic(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:ea([r,a])),n.createHref({pathname:l,search:s,hash:i})}function nc(){return ne.useContext(rc)!=null}function zs(){return Ht(nc(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(rc).location}var f5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p5(e){ne.useContext($n).static||ne.useLayoutEffect(e)}function Rh(){let{isDataRoute:e}=ne.useContext(oa);return e?T3():b3()}function b3(){Ht(nc(),"useNavigate() may be used only in the context of a <Router> component.");let e=ne.useContext(hl),{basename:t,navigator:r}=ne.useContext($n),{matches:n}=ne.useContext(oa),{pathname:i}=zs(),a=JSON.stringify(s5(n)),s=ne.useRef(!1);return p5(()=>{s.current=!0}),ne.useCallback((o,c={})=>{if(pi(s.current,f5),!s.current)return;if(typeof o=="number"){r.go(o);return}let d=o5(o,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ea([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,i,e])}ne.createContext(null);function ic(e,{relative:t}={}){let{matches:r}=ne.useContext(oa),{pathname:n}=zs(),i=JSON.stringify(s5(r));return ne.useMemo(()=>o5(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function x3(e,t){return m5(e,t)}function m5(e,t,r,n,i){var x;Ht(nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ne.useContext($n),{matches:s}=ne.useContext(oa),l=s[s.length-1],o=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let w=m&&m.path||"";v5(c,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=zs(),p;if(t){let w=typeof t=="string"?dl(t):t;Ht(d==="/"||((x=w.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=g;let b=p.pathname||"/",S=b;if(d!=="/"){let w=d.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(w.length).join("/")}let N=r5(e,{pathname:S});pi(m||N!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),pi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=j3(N&&N.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:ea([d,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:ea([d,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),s,r,n,i);return t&&y?ne.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function _3(){let e=L3(),t=u3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=ne.createElement(ne.Fragment,null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:a},"ErrorBoundary")," or"," ",ne.createElement("code",{style:a},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},t),r?ne.createElement("pre",{style:i},r):null,s)}var S3=ne.createElement(_3,null),g5=class extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=y3(e.digest);r&&(e=r)}let t=e!==void 0?ne.createElement(oa.Provider,{value:this.props.routeContext},ne.createElement($m.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?ne.createElement(N3,{error:e},t):t}};g5.contextType=h3;var sp=new WeakMap;function N3({children:e,error:t}){let{basename:r}=ne.useContext($n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=v3(t.digest);if(n){let i=sp.get(t);if(i)throw i;let a=u5(n.location,r);if(l5&&!sp.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw sp.set(t,s),s}return ne.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function k3({routeContext:e,match:t,children:r}){let n=ne.useContext(hl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),ne.createElement(oa.Provider,{value:e},r)}function j3(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let d=a.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);Ht(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,o=-1;if(r)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(o=d),m.route.id){let{loaderData:g,errors:p}=r,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!p||p[m.route.id]===void 0);if(m.route.lazy||b){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}let c=r&&n?(d,m)=>{var g,p;n(d,{location:r.location,params:((p=(g=r.matches)==null?void 0:g[0])==null?void 0:p.params)??{},unstable_pattern:c3(r.matches),errorInfo:m})}:void 0;return a.reduceRight((d,m,g)=>{let p,b=!1,S=null,N=null;r&&(p=s&&m.route.id?s[m.route.id]:void 0,S=m.route.errorElement||S3,l&&(o<0&&g===0?(v5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):o===g&&(b=!0,N=m.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,g+1)),x=()=>{let w;return p?w=S:b?w=N:m.route.Component?w=ne.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=d,ne.createElement(k3,{match:m,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?ne.createElement(g5,{location:r.location,revalidation:r.revalidation,component:S,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:c}):x()},null)}function Hm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E3(e){let t=ne.useContext(hl);return Ht(t,Hm(e)),t}function C3(e){let t=ne.useContext(Th);return Ht(t,Hm(e)),t}function A3(e){let t=ne.useContext(oa);return Ht(t,Hm(e)),t}function Wm(e){let t=A3(e),r=t.matches[t.matches.length-1];return Ht(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function P3(){return Wm("useRouteId")}function L3(){var n;let e=ne.useContext($m),t=C3("useRouteError"),r=Wm("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function T3(){let{router:e}=E3("useNavigate"),t=Wm("useNavigate"),r=ne.useRef(!1);return p5(()=>{r.current=!0}),ne.useCallback(async(i,a={})=>{pi(r.current,f5),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var G1={};function v5(e,t,r){!t&&!G1[e]&&(G1[e]=!0,pi(!1,r))}ne.memo(R3);function R3({routes:e,future:t,state:r,onError:n}){return m5(e,void 0,r,n,t)}function ja(e){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O3({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Ht(!nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=ne.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[l,i,a,s]);typeof r=="string"&&(r=dl(r));let{pathname:c="/",search:d="",hash:m="",state:g=null,key:p="default"}=r,b=ne.useMemo(()=>{let S=aa(c,l);return S==null?null:{location:{pathname:S,search:d,hash:m,state:g,key:p},navigationType:n}},[l,c,d,m,g,p,n]);return pi(b!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:ne.createElement($n.Provider,{value:o},ne.createElement(rc.Provider,{children:t,value:b}))}function I3({children:e,location:t}){return x3(_0(e),t)}function _0(e,t=[]){let r=[];return ne.Children.forEach(e,(n,i)=>{if(!ne.isValidElement(n))return;let a=[...t,i];if(n.type===ne.Fragment){r.push.apply(r,_0(n.props.children,a));return}Ht(n.type===ja,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=_0(n.props.children,a)),r.push(s)}),r}var Dd="get",Md="application/x-www-form-urlencoded";function Oh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function F3(e){return Oh(e)&&e.tagName.toLowerCase()==="button"}function D3(e){return Oh(e)&&e.tagName.toLowerCase()==="form"}function M3(e){return Oh(e)&&e.tagName.toLowerCase()==="input"}function B3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U3(e,t){return e.button===0&&(!t||t==="_self")&&!B3(e)}var md=null;function z3(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var q3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(e){return e!=null&&!q3.has(e)?(pi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Md}"`),null):e}function $3(e,t){let r,n,i,a,s;if(D3(e)){let l=e.getAttribute("action");n=l?aa(l,t):null,r=e.getAttribute("method")||Dd,i=op(e.getAttribute("enctype"))||Md,a=new FormData(e)}else if(F3(e)||M3(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||l.getAttribute("action");if(n=o?aa(o,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Dd,i=op(e.getAttribute("formenctype"))||op(l.getAttribute("enctype"))||Md,a=new FormData(l,e),!z3()){let{name:c,type:d,value:m}=e;if(d==="image"){let g=c?`${c}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else c&&a.append(c,m)}}else{if(Oh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Dd,n=null,i=Md,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function H3(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&aa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function W3(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function G3(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await W3(a,r);return s.links?s.links():[]}return[]}));return Q3(n.flat(1).filter(V3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function K1(e,t,r,n,i,a){let s=(o,c)=>r[c]?o.route.id!==r[c].route.id:!0,l=(o,c)=>{var d;return r[c].pathname!==o.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==o.params["*"]};return a==="assets"?t.filter((o,c)=>s(o,c)||l(o,c)):a==="data"?t.filter((o,c)=>{var m;let d=n.routes[o.route.id];if(!d||!d.hasLoader)return!1;if(s(o,c)||l(o,c))return!0;if(o.route.shouldRevalidate){let g=o.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function K3(e,t,{includeHydrateFallback:r}={}){return J3(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function J3(e){return[...new Set(e)]}function Y3(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Q3(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(Y3(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function y5(){let e=ne.useContext(hl);return Vm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function X3(){let e=ne.useContext(Th);return Vm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gm=ne.createContext(void 0);Gm.displayName="FrameworkContext";function w5(){let e=ne.useContext(Gm);return Vm(e,"You must render this element inside a <HydratedRouter> element"),e}function Z3(e,t){let r=ne.useContext(Gm),[n,i]=ne.useState(!1),[a,s]=ne.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:c,onMouseLeave:d,onTouchStart:m}=t,g=ne.useRef(null);ne.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let S=y=>{y.forEach(x=>{s(x.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return g.current&&N.observe(g.current),()=>{N.disconnect()}}},[e]),ne.useEffect(()=>{if(n){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[n]);let p=()=>{i(!0)},b=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,g,{}]:[a,g,{onFocus:Xl(l,p),onBlur:Xl(o,b),onMouseEnter:Xl(c,p),onMouseLeave:Xl(d,b),onTouchStart:Xl(m,p)}]:[!1,g,{}]}function Xl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function e_({page:e,...t}){let{router:r}=y5(),n=ne.useMemo(()=>r5(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?ne.createElement(r_,{page:e,matches:n,...t}):null}function t_(e){let{manifest:t,routeModules:r}=w5(),[n,i]=ne.useState([]);return ne.useEffect(()=>{let a=!1;return G3(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function r_({page:e,matches:t,...r}){let n=zs(),{manifest:i,routeModules:a}=w5(),{basename:s}=y5(),{loaderData:l,matches:o}=X3(),c=ne.useMemo(()=>K1(e,t,o,i,n,"data"),[e,t,o,i,n]),d=ne.useMemo(()=>K1(e,t,o,i,n,"assets"),[e,t,o,i,n]),m=ne.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,S=!1;if(t.forEach(y=>{var w;let x=i.routes[y.route.id];!x||!x.hasLoader||(!c.some(j=>j.route.id===y.route.id)&&y.route.id in l&&((w=a[y.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?S=!0:b.add(y.route.id))}),b.size===0)return[];let N=H3(e,s,"data");return S&&b.size>0&&N.searchParams.set("_routes",t.filter(y=>b.has(y.route.id)).map(y=>y.route.id).join(",")),[N.pathname+N.search]},[s,l,n,i,c,t,e,a]),g=ne.useMemo(()=>K3(d,i),[d,i]),p=t_(d);return ne.createElement(ne.Fragment,null,m.map(b=>ne.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>ne.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),p.map(({key:b,link:S})=>ne.createElement("link",{key:b,nonce:r.nonce,...S})))}function n_(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var i_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i_&&(window.__reactRouterVersion="7.11.0")}catch{}function a_({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=ne.useRef();i.current==null&&(i.current=B4({window:n,v5Compat:!0}));let a=i.current,[s,l]=ne.useState({action:a.action,location:a.location}),o=ne.useCallback(c=>{r===!1?l(c):ne.startTransition(()=>l(c))},[r]);return ne.useLayoutEffect(()=>a.listen(o),[a,o]),ne.createElement(O3,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:r})}var b5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=ne.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:l,target:o,to:c,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...p},b){let{basename:S,unstable_useTransitions:N}=ne.useContext($n),y=typeof c=="string"&&b5.test(c),x=u5(c,S);c=x.to;let w=w3(c,{relative:i}),[j,O,F]=Z3(n,p),L=u_(c,{replace:s,state:l,target:o,preventScrollReset:d,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:N});function P(K){t&&t(K),K.defaultPrevented||L(K)}let $=ne.createElement("a",{...p,...F,href:x.absoluteURL||w,onClick:x.isExternal||a?t:P,ref:n_(b,O),target:o,"data-discover":!y&&r==="render"?"true":void 0});return j&&!y?ne.createElement(ne.Fragment,null,$,ne.createElement(e_,{page:w})):$});Qt.displayName="Link";var s_=ne.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:l,children:o,...c},d){let m=ic(s,{relative:c.relative}),g=zs(),p=ne.useContext(Th),{navigator:b,basename:S}=ne.useContext($n),N=p!=null&&p_(m)&&l===!0,y=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,x=g.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&S&&(w=aa(w,S)||w);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=x===y||!i&&x.startsWith(y)&&x.charAt(j)==="/",F=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),L={isActive:O,isPending:F,isTransitioning:N},P=O?t:void 0,$;typeof n=="function"?$=n(L):$=[n,O?"active":null,F?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(L):a;return ne.createElement(Qt,{...c,"aria-current":P,className:$,ref:d,style:K,to:s,viewTransition:l},typeof o=="function"?o(L):o)});s_.displayName="NavLink";var o_=ne.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=Dd,action:l,onSubmit:o,relative:c,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...p},b)=>{let{unstable_useTransitions:S}=ne.useContext($n),N=h_(),y=f_(l,{relative:c}),x=s.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&b5.test(l),j=O=>{if(o&&o(O),O.defaultPrevented)return;O.preventDefault();let F=O.nativeEvent.submitter,L=(F==null?void 0:F.getAttribute("formmethod"))||s,P=()=>N(F||O.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:i,state:a,relative:c,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g});S&&r!==!1?ne.startTransition(()=>P()):P()};return ne.createElement("form",{ref:b,method:x,action:y,onSubmit:n?o:j,...p,"data-discover":!w&&e==="render"?"true":void 0})});o_.displayName="Form";function l_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x5(e){let t=ne.useContext(hl);return Ht(t,l_(e)),t}function u_(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:o}={}){let c=Rh(),d=zs(),m=ic(e,{relative:a});return ne.useCallback(g=>{if(U3(g,t)){g.preventDefault();let p=r!==void 0?r:zu(d)===zu(m),b=()=>c(e,{replace:p,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l});o?ne.startTransition(()=>b()):b()}},[d,c,m,r,n,t,e,i,a,s,l,o])}var c_=0,d_=()=>`__${String(++c_)}__`;function h_(){let{router:e}=x5("useSubmit"),{basename:t}=ne.useContext($n),r=P3(),n=e.fetch,i=e.navigate;return ne.useCallback(async(a,s={})=>{let{action:l,method:o,encType:c,formData:d,body:m}=$3(a,t);if(s.navigate===!1){let g=s.fetcherKey||d_();await n(g,r,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,t,r])}function f_(e,{relative:t}={}){let{basename:r}=ne.useContext($n),n=ne.useContext(oa);Ht(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...ic(e||".",{relative:t})},s=zs();if(e==null){a.search=s.search;let l=new URLSearchParams(a.search),o=l.getAll("index");if(o.some(d=>d==="")){l.delete("index"),o.filter(m=>m).forEach(m=>l.append("index",m));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:ea([r,a.pathname])),zu(a)}function p_(e,{relative:t}={}){let r=ne.useContext(d5);Ht(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=x5("useViewTransitionState"),i=ic(e,{relative:t});if(!r.isTransitioning)return!1;let a=aa(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=aa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return uh(i.pathname,s)!=null||uh(i.pathname,a)!=null}function Ih(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function m_(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{c(n.next(d))}catch(m){s(m)}}function o(d){try{c(n.throw(d))}catch(m){s(m)}}function c(d){d.done?a(d.value):i(d.value).then(l,o)}c((n=n.apply(e,t||[])).next())})}const g_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Km extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class v_ extends Km{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class J1 extends Km{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Y1 extends Km{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var S0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(S0||(S0={}));class y_{constructor(t,{headers:r={},customFetch:n,region:i=S0.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=g_(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return m_(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:l,method:o,body:c,signal:d,timeout:m}=n;let g={},{region:p}=n;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(g["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let S;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",S=c):typeof c=="string"?(g["Content-Type"]="text/plain",S=c):typeof FormData<"u"&&c instanceof FormData?S=c:(g["Content-Type"]="application/json",S=JSON.stringify(c)):S=c;let N=d;m&&(s=new AbortController,a=setTimeout(()=>s.abort(),m),d?(N=s.signal,d.addEventListener("abort",()=>s.abort())):N=s.signal);const y=yield this.fetch(b.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:S,signal:N}).catch(O=>{throw new v_(O)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new J1(y);if(!y.ok)throw new Y1(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield y.json():w==="application/octet-stream"||w==="application/pdf"?j=yield y.blob():w==="text/event-stream"?j=y:w==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Y1||l instanceof J1?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var w_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},b_=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,l=null,o=null,c=a.status,d=a.statusText;if(a.ok){var m,g;if(r.method!=="HEAD"){var p;const y=await a.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const S=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),N=(g=a.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&N&&N.length>1&&(o=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,o=null,c=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const S=await a.text();try{s=JSON.parse(S),Array.isArray(s)&&a.status===404&&(l=[],s=null,c=200,d="OK")}catch{a.status===404&&S===""?(c=204,d="No Content"):s={message:S}}if(s&&r.isMaybeSingle&&(!(s==null||(b=s.details)===null||b===void 0)&&b.includes("0 rows"))&&(s=null,c=200,d="OK"),s&&r.shouldThrowOnError)throw new w_(s)}return{error:s,data:l,count:o,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let l="";const o=a==null?void 0:a.cause;if(o){var c,d,m,g;const b=(c=o==null?void 0:o.message)!==null&&c!==void 0?c:"",S=(d=o==null?void 0:o.code)!==null&&d!==void 0?d:"";l=`${(m=a==null?void 0:a.name)!==null&&m!==void 0?m:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(g=o==null?void 0:o.name)!==null&&g!==void 0?g:"Error"}: ${b}`,S&&(l+=` (${S})`),o!=null&&o.stack&&(l+=`
${o.stack}`)}else{var p;l=(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},x_=class extends b_{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${o}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Q1=new RegExp("[,()]");var Co=class extends x_{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Q1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Q1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},__=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new Co({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(a.length>0){const s=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new Co({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Co({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Co({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Co({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},S_=class _5{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new __(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _5(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{o.searchParams.append(m,g)})):(l="POST",c=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new Co({method:l,url:o,headers:d,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class N_{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const k_="2.89.0",j_=`realtime-js/${k_}`,S5="1.0.0",E_="2.0.0",X1=S5,N0=1e4,C_=1e3,A_=100;var Aa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Aa||(Aa={}));var vr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vr||(vr={}));var ui;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ui||(ui={}));var k0;(function(e){e.websocket="websocket"})(k0||(k0={}));var ws;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ws||(ws={}));class P_{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var i,a;const s=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",o=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(d).length===0?"":JSON.stringify(d);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+l.length+s.length+c.length+m.length,p=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(p),S=0;b.setUint8(S++,this.KINDS.userBroadcastPush),b.setUint8(S++,o.length),b.setUint8(S++,l.length),b.setUint8(S++,s.length),b.setUint8(S++,c.length),b.setUint8(S++,m.length),b.setUint8(S++,r),Array.from(o,y=>b.setUint8(S++,y.charCodeAt(0))),Array.from(l,y=>b.setUint8(S++,y.charCodeAt(0))),Array.from(s,y=>b.setUint8(S++,y.charCodeAt(0))),Array.from(c,y=>b.setUint8(S++,y.charCodeAt(0))),Array.from(m,y=>b.setUint8(S++,y.charCodeAt(0)));var N=new Uint8Array(p.byteLength+n.byteLength);return N.set(new Uint8Array(p),0),N.set(new Uint8Array(n),p.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,l,o]=n;return r({join_ref:i,ref:a,topic:s,event:l,payload:o})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let o=this.HEADER_LENGTH+4;const c=n.decode(t.slice(o,o+i));o=o+i;const d=n.decode(t.slice(o,o+a));o=o+a;const m=n.decode(t.slice(o,o+s));o=o+s;const g=t.slice(o,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,b={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class N5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rt||(Rt={}));const Z1=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=L_(s,e,t,i),a),{}):{}},L_=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?k5(a,s):j0(s)},k5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return I_(t,r)}switch(e){case Rt.bool:return T_(t);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return R_(t);case Rt.json:case Rt.jsonb:return O_(t);case Rt.timestamp:return F_(t);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return j0(t);default:return j0(t)}},j0=e=>e,T_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},R_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},O_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},I_=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>k5(t,l))}return e},F_=e=>typeof e=="string"?e.replace(" ","T"):e,j5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class lp{constructor(t,r,n={},i=N0){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var e2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(e2||(e2={}));class gu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gu.syncState(this.state,i,a,s),this.pendingDiffs.forEach(o=>{this.state=gu.syncDiff(this.state,o,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gu.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),l={},o={};return this.map(a,(c,d)=>{s[c]||(o[c]=d)}),this.map(s,(c,d)=>{const m=a[c];if(m){const g=d.map(N=>N.presence_ref),p=m.map(N=>N.presence_ref),b=d.filter(N=>p.indexOf(N.presence_ref)<0),S=m.filter(N=>g.indexOf(N.presence_ref)<0);b.length>0&&(l[c]=b),S.length>0&&(o[c]=S)}else l[c]=d}),this.syncDiff(a,{joins:l,leaves:o},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,o)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(o),d.length>0){const m=t[l].map(p=>p.presence_ref),g=d.filter(p=>m.indexOf(p.presence_ref)<0);t[l].unshift(...g)}n(l,d,o)}),this.map(s,(l,o)=>{let c=t[l];if(!c)return;const d=o.map(m=>m.presence_ref);c=c.filter(m=>d.indexOf(m.presence_ref)<0),t[l]=c,i(l,c,o),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var t2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(t2||(t2={}));var vu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vu||(vu={}));var Ji;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ji||(Ji={}));class Wo{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lp(this,ui.join,this.params,this.timeout),this.rejoinTimer=new N5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ui.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new gu(this),this.broadcastEndpointURL=j5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==vr.closed){const{config:{broadcast:s,presence:l,private:o}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[vu.PRESENCE]&&this.bindings[vu.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},g={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ji.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ji.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Ji.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,N=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,y=[];for(let x=0;x<N;x++){const w=S[x],{filter:{event:j,schema:O,table:F,filter:L}}=w,P=p&&p[x];if(P&&P.event===j&&Wo.isFilterValueEqual(P.schema,O)&&Wo.isFilterValueEqual(P.table,F)&&Wo.isFilterValueEqual(P.filter,L))y.push(Object.assign(Object.assign({},w),{id:P.id}));else{this.unsubscribe(),this.state=vr.errored,t==null||t(Ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ji.SUBSCRIBED);return}}).receive("error",p=>{this.state=vr.errored,t==null||t(Ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===vr.joined&&t===vu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const c=await l.json();o=c.error||c.message||o}catch{}return Promise.reject(new Error(o))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,o;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ui.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new lp(this,ui.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lp(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>A_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:o,leave:c,join:d}=ui;if(n&&[l,o,c,d].indexOf(s)>=0&&n!==this._joinRef())return;let g=this._onMessage(s,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var b,S,N;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((N=(S=p.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===s}).map(p=>p.callback(g,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var b,S,N,y,x,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const j=p.id,O=(b=p.filter)===null||b===void 0?void 0:b.event;return j&&((S=r.ids)===null||S===void 0?void 0:S.includes(j))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const j=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:S,table:N,commit_timestamp:y,type:x,errors:w}=b;g=Object.assign(Object.assign({},{schema:S,table:N,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(b))}p.callback(g,n)})}_isClosed(){return this.state===vr.closed}_isJoined(){return this.state===vr.joined}_isJoining(){return this.state===vr.joining}_isLeaving(){return this.state===vr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Wo.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ui.close,{},t)}_onError(t){this._on(ui.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Z1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Z1(t.columns,t.old_record)),r}}const up=()=>{},gd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D_=[1e3,2e3,5e3,1e4],M_=1e4,B_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U_{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=N0,this.transport=null,this.heartbeatIntervalMs=gd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=up,this.ref=0,this.reconnectTimer=null,this.vsn=X1,this.logger=up,this.conn=null,this.sendBuffer=[],this.serializer=new P_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${k0.websocket}`,this.httpEndpoint=j5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=N_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Aa.connecting:return ws.Connecting;case Aa.open:return ws.Open;case Aa.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Wo(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(C_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",o=a.status||"";this.log("receive",`${o} ${n} ${i} ${l}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Aa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Aa.open||this.conn.readyState===Aa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ui.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([B_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:j_};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(ui.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new N5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,l,o,c,d,m,g,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:N0,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:gd.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:up,this.vsn=(o=t==null?void 0:t.vsn)!==null&&o!==void 0?o:X1,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:b=>D_[b-1]||M_,this.vsn){case S5:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,S)=>S(JSON.stringify(b)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(b,S)=>S(JSON.parse(b));break;case E_:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var qu=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function z_(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function q_(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $_(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const l=z_(e.baseUrl,n,i),o=await q_(e.auth),c=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...o,...s},body:a?JSON.stringify(a):void 0}),d=await c.text(),m=(c.headers.get("content-type")||"").includes("application/json"),g=m&&d?JSON.parse(d):d;if(!c.ok){const p=m?g:void 0,b=p==null?void 0:p.error;throw new qu((b==null?void 0:b.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:p})}return{status:c.status,headers:c.headers,data:g}}}}function vd(e){return e.join("")}var H_=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:vd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vd(e.namespace)}`}),!0}catch(t){if(t instanceof qu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof qu&&r.status===409)return;throw r}}};function bo(e){return e.join("")}var W_=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof qu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof qu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},V_=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$_({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new H_(this.client,t),this.tableOps=new W_(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Fh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var G_=class extends Fh{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},E0=class extends Fh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Jm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),K_=()=>Response,C0=e=>{if(Array.isArray(e))return e.map(r=>C0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=C0(n)}),t},J_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Y_=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Q_(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X_(e){var t=Q_(e,"string");return $u(t)=="symbol"?t:t+""}function Z_(e,t,r){return(t=X_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){Z_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const cp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},eS=async(e,t,r)=>{e instanceof await K_()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,a=(n==null?void 0:n.statusCode)||i+"";t(new G_(cp(n),i,a))}).catch(n=>{t(new E0(cp(n),n))}):t(new E0(cp(e),e))},tS=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(J_(n)?(i.headers=et({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),et(et({},i),r))};async function ac(e,t,r,n,i,a){return new Promise((s,l)=>{e(r,tS(t,n,i,a)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>s(o)).catch(o=>eS(o,l,n))})}async function Hu(e,t,r,n){return ac(e,"GET",t,r,n)}async function si(e,t,r,n,i){return ac(e,"POST",t,n,i,r)}async function A0(e,t,r,n,i){return ac(e,"PUT",t,n,i,r)}async function rS(e,t,r,n){return ac(e,"HEAD",t,et(et({},r),{},{noResolveJson:!0}),n)}async function Ym(e,t,r,n,i){return ac(e,"DELETE",t,n,i,r)}var nS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(zt(t))return{data:null,error:t};throw t}}};let E5;E5=Symbol.toStringTag;var iS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[E5]="BlobDownloadBuilder",this.promise=null}asStream(){return new nS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(zt(t))return{data:null,error:t};throw t}}};const aS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},n2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sS=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Jm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var i=this;try{let a;const s=et(et({},n2),n);let l=et(et({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const o=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",i.encodeMetadata(o)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),o&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(o))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,o&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(o))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=et(et({},l),n.headers));const c=i._removeEmptyFolders(t),d=i._getFinalPath(c),m=await(e=="PUT"?A0:si)(i.fetch,`${i.url}/object/${d}`,a,et({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(zt(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),s=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${s}`);l.searchParams.set("token",t);try{let o;const c=et({upsert:n2.upsert},n),d=et(et({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",c.cacheControl)):(o=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:a,fullPath:(await A0(i.fetch,l.toString(),o,{headers:d})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const i=et({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await si(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),l=s.searchParams.get("token");if(!l)throw new Fh("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await si(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async copy(e,t,r){var n=this;try{return{data:{path:(await si(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var n=this;try{let i=n._getFinalPath(e),a=await si(n.fetch,`${n.url}/object/sign/${i}`,et({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var n=this;try{const i=await si(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>et(et({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),s=()=>Hu(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new iS(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:C0(await Hu(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await rS(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zt(n)&&n instanceof E0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Ym(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const i=et(et(et({},aS),t),{},{prefix:e||""});return{data:await si(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const n=et({},e);return{data:await si(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const C5="2.89.0",A5={"X-Client-Info":`storage-js/${C5}`};var oS=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=et(et({},A5),t),this.fetch=Jm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Hu(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Hu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await si(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await A0(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await si(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ym(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},lS=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=et(et({},A5),t),this.fetch=Jm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await si(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Hu(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ym(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Y_(e))throw new Fh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new V_({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(i,l),error:null}}catch(o){if(n)throw o;return{data:null,error:o}}}}})}};const Qm={"X-Client-Info":`storage-js/${C5}`,"Content-Type":"application/json"};var P5=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function bn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var dp=class extends P5{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uS=class extends P5{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Xm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},i2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dS=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new dp(i2(a),n,s))}).catch(()=>{const a=n+"";t(new dp(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new dp(i.statusText||`HTTP ${n} error`,n,a))}}else t(new uS(i2(e),e))},hS=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(cS(n)?(i.headers=et({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,et(et({},i),r)):i};async function fS(e,t,r,n,i,a){return new Promise((s,l)=>{e(r,hS(t,n,i,a)).then(o=>{if(!o.ok)throw o;if(n!=null&&n.noResolveJson)return o;const c=o.headers.get("content-type");return!c||!c.includes("application/json")?{}:o.json()}).then(o=>s(o)).catch(o=>dS(o,l,n))})}async function xn(e,t,r,n,i){return fS(e,"POST",t,n,i,r)}var pS=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=et(et({},Qm),t),this.fetch=Xm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await xn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await xn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await xn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await xn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}},mS=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=et(et({},Qm),t),this.fetch=Xm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await xn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await xn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await xn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await xn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await xn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}},gS=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=et(et({},Qm),t),this.fetch=Xm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await xn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await xn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await xn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await xn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}},vS=class extends gS{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new yS(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},yS=class extends pS{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new wS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},wS=class extends mS{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,et(et({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},bS=class extends oS{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new sS(this.url,this.headers,e,this.fetch)}get vectors(){return new vS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lS(this.url+"/iceberg",this.headers,this.fetch)}};const L5="2.89.0",Ao=30*1e3,P0=3,hp=P0*Ao,xS="http://localhost:9999",_S="supabase.auth.token",SS={"X-Client-Info":`gotrue-js/${L5}`},L0="X-Supabase-Api-Version",T5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kS=10*60*1e3;class Wu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jS extends Wu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ES(e){return $e(e)&&e.name==="AuthApiError"}class bs extends Wu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class la extends Wu{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class yn extends la{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CS(e){return $e(e)&&e.name==="AuthSessionMissingError"}class xo extends la{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yd extends la{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wd extends la{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AS(e){return $e(e)&&e.name==="AuthImplicitGrantRedirectError"}class a2 extends la{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PS extends la{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class T0 extends la{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function fp(e){return $e(e)&&e.name==="AuthRetryableFetchError"}class s2 extends la{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class R0 extends la{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),o2=` 	
\r=`.split(""),LS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<o2.length;t+=1)e[o2[t].charCodeAt(0)]=-2;for(let t=0;t<ch.length;t+=1)e[ch[t].charCodeAt(0)]=t;return e})();function l2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ch[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ch[n]),t.queuedBits-=6}}function R5(e,t,r){const n=LS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function u2(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{OS(s,n,r)};for(let s=0;s<e.length;s+=1)R5(e.charCodeAt(s),i,a);return t.join("")}function TS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}TS(n,t)}}function OS(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Zo(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)R5(e.charCodeAt(i),r,n);return new Uint8Array(t)}function IS(e){const t=[];return RS(e,r=>t.push(r)),new Uint8Array(t)}function Ns(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>l2(i,r,n)),l2(null,r,n),t.join("")}function FS(e){return Math.round(Date.now()/1e3)+e}function DS(){return Symbol("auth-callback")}const Pr=()=>typeof window<"u"&&typeof document<"u",fs={tested:!1,writable:!1},O5=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fs.tested)return fs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fs.tested=!0,fs.writable=!0}catch{fs.tested=!0,fs.writable=!1}return fs.writable};function MS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const I5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Po=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ps=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ar=async(e,t)=>{await e.removeItem(t)};class Dh{constructor(){this.promise=new Dh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Dh.promiseConstructor=Promise;function pp(e){const t=e.split(".");if(t.length!==3)throw new R0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!NS.test(t[n]))throw new R0("JWT not in base64url format");return{header:JSON.parse(u2(t[0])),payload:JSON.parse(u2(t[1])),signature:Zo(t[2]),raw:{header:t[0],payload:t[1]}}}async function US(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zS(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function qS(e){return("0"+e.toString(16)).substr(-2)}function $S(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,qS).join("")}async function HS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function WS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await HS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(e,t,r=!1){const n=$S();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Po(e,`${t}-code-verifier`,i);const a=await WS(n);return[a,n===a?"plain":"s256"]}const VS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GS(e){const t=e.headers.get(L0);if(!t||!t.match(VS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function So(e){if(!YS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QS(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function c2(e){return JSON.parse(JSON.stringify(e))}const vs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XS=[502,503,504];async function d2(e){var t;if(!BS(e))throw new T0(vs(e),0);if(XS.includes(e.status))throw new T0(vs(e),e.status);let r;try{r=await e.json()}catch(a){throw new bs(vs(a),a)}let n;const i=GS(e);if(i&&i.getTime()>=T5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new s2(vs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new s2(vs(r),e.status,r.weak_password.reasons);throw new jS(vs(r),e.status||500,n)}const ZS=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ze(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[L0]||(a[L0]=T5["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",o=await eN(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function eN(e,t,r,n,i,a){const s=ZS(t,n,i,a);let l;try{l=await e(r,Object.assign({},s))}catch(o){throw console.error(o),new T0(vs(o),0)}if(l.ok||await d2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(o){await d2(o)}}function ii(e){var t;let r=null;nN(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=FS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function h2(e){const t=ii(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ta(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tN(e){return{data:e,error:null}}function rN(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=Ih(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},o=Object.assign({},s);return{data:{properties:l,user:o},error:null}}function f2(e){return e}function nN(e){return e.access_token&&e.refresh_token&&e.expires_in}const gp=["global","local","others"];class iN{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=I5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=gp[0]){if(gp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gp.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ta})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ih(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ta})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,l,o;try{const c={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:f2});if(d.error)throw d.error;const m=await d.json(),g=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(b.split(";")[1].split("=")[1]);c[`${N}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if($e(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){So(t);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ta})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){So(t);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ta})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){So(t);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ta})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){So(t.userId);try{const{data:r,error:n}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){So(t.userId),So(t.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,l,o;try{const c={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:f2});if(d.error)throw d.error;const m=await d.json(),g=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(b.split(";")[1].split("=")[1]);c[`${N}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if($e(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}}function p2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const No={debug:!!(globalThis&&O5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F5 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aN extends F5{}async function sN(e,t,r){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(No.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function oN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function D5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function lN(e){return parseInt(e,16)}function uN(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function cN(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:o,resources:c,scheme:d,uri:m,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=D5(e.address),b=d?`${d}://${n}`:n,S=e.statement?`${e.statement}
`:"",N=`${b} wants you to sign in with your Ethereum account:
${p}

${S}`;let y=`URI: ${m}
Version: ${g}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),o&&(y+=`
Request ID: ${o}`),c){let x=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}y+=x}return`${N}
${y}`}class hr extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class dh extends hr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function dN({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new hr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new hr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new hr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new hr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new hr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new hr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new hr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(M5(s)){if(a.rp.id!==s)return new hr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new hr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new hr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hN({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new hr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new hr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(M5(n)){if(r.rpId!==n)return new hr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new hr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class fN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const pN=new fN;function mN(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ih(e,["challenge","user","excludeCredentials"]),a=Zo(t).buffer,s=Object.assign(Object.assign({},r),{id:Zo(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];l.excludeCredentials[o]=Object.assign(Object.assign({},c),{id:Zo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function gN(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ih(e,["challenge","allowCredentials"]),i=Zo(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Zo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function vN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ns(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ns(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ns(new Uint8Array(i.authenticatorData)),clientDataJSON:Ns(new Uint8Array(i.clientDataJSON)),signature:Ns(new Uint8Array(i.signature)),userHandle:i.userHandle?Ns(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function M5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function m2(){var e,t;return!!(Pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function wN(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dh("Browser returned unexpected credential type",t)}:{data:null,error:new dh("Empty credential response",t)}}catch(t){return{data:null,error:dN({error:t,options:e})}}}async function bN(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dh("Browser returned unexpected credential type",t)}:{data:null,error:new dh("Empty credential response",t)}}catch(t){return{data:null,error:hN({error:t,options:e})}}}const xN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_N={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const l=n[a];t(l)?n[a]=hh(l,s):n[a]=hh(s)}else n[a]=s}return n}function SN(e,t){return hh(xN,e,t||{})}function NN(e,t){return hh(_N,e,t||{})}class kN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:l};const o=i??pN.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=SN(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:m}=await wN({publicKey:c,signal:o});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}case"request":{const c=NN(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:m}=await bN(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:o}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}}}catch(s){return $e(s)?{data:null,error:s}:{data:null,error:new bs("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Wu("rpId is required for WebAuthn authentication")};try{if(!m2())return{data:null,error:new bs("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:o}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:o.type,rpId:r,rpOrigins:n,credential_response:o.credential_response}})}catch(s){return $e(s)?{data:null,error:s}:{data:null,error:new bs("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Wu("rpId is required for WebAuthn registration")};try{if(!m2())return{data:null,error:new bs("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var m;return(m=d.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:o,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return o?this._verify({factorId:s.id,challengeId:o.challengeId,webauthn:{rpId:r,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:c}}catch(s){return $e(s)?{data:null,error:s}:{data:null,error:new bs("Unexpected error in register",s)}}}}oN();const jN={url:xS,storageKey:_S,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function g2(e,t,r){return await r()}const ko={};class Vu{get jwks(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},jN),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Vu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Vu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Pr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new iN({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=I5(a.fetch),this.lock=a.lock||g2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Pr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=sN:this.lock=g2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:O5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=p2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=p2(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${L5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pr()&&(r=MS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),AS(a)){const o=(t=a.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $e(r)?this._returnResult({error:r}):this._returnResult({error:new bs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ii}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const o=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:c,session:o},error:null})}catch(a){if($e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:m,options:g}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await _o(this.storage,this.storageKey)),a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},xform:ii})}else if("phone"in t){const{phone:d,password:m,options:g}=t;a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:ii})}else throw new yd("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return await Ar(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const o=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:c,session:o},error:null})}catch(a){if(await Ar(this.storage,`${this.storageKey}-code-verifier`),$e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:l}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h2})}else if("phone"in t){const{phone:a,password:s,options:l}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h2})}else throw new yd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new xo;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,l,o,c,d,m,g;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:S,wallet:N,statement:y,options:x}=t;let w;if(Pr())if(typeof N=="object")w=N;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")w=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=N}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),O=await w.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=D5(O[0]);let L=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const $=await w.request({method:"eth_chainId"});L=lN($)}const P={domain:j.host,address:F,statement:y,uri:j.href,version:"1",chainId:L,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=cN(P),b=await w.request({method:"personal_sign",params:[uN(p),F]})}try{const{data:S,error:N}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ii});if(N)throw N;if(!S||!S.session||!S.user){const y=new xo;return this._returnResult({data:{user:null,session:null},error:y})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:N})}catch(S){if($e(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,i,a,s,l,o,c,d,m,g,p;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:N,wallet:y,statement:x,options:w}=t;let j;if(Pr())if(typeof y=="object")j=y;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))j=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const O=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const F=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),x?{statement:x}:null));let L;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")L=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)L=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)b=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),S=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((m=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...w.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const F=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=F}}try{const{data:N,error:y}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ns(S)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ii});if(y)throw y;if(!N||!N.session||!N.user){const x=new xo;return this._returnResult({data:{user:null,session:null},error:x})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:y})}catch(N){if($e(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const r=await ps(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new PS;const{data:a,error:s}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ii});if(await Ar(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new xo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Ar(this.storage,`${this.storageKey}-code-verifier`),$e(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,l=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ii}),{data:o,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const d=new xo;return this._returnResult({data:{user:null,session:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:c})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:l,options:o}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await _o(this.storage,this.storageKey));const{error:m}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:o}=t,{data:c,error:d}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(s=o==null?void 0:o.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new yd("You must provide either an email or phone number.")}catch(l){if(await Ar(this.storage,`${this.storageKey}-code-verifier`),$e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ii});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,c=s.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:c,session:o},error:null})}catch(i){if($e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let l=null,o=null;this.flowType==="pkce"&&([l,o]=await _o(this.storage,this.storageKey));const c=await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:o}),headers:this.headers,xform:tN});return!((a=c.data)===null||a===void 0)&&a.url&&Pr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(await Ar(this.storage,`${this.storageKey}-code-verifier`),$e(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new yn;const{error:i}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if($e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:l}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new yd("You must provide either an email or phone number and a type")}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await ps(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=mp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=QS(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ta}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ta})})}catch(r){if($e(r))return CS(r)&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new yn;const s=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await _o(this.storage,this.storageKey));const{data:c,error:d}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:s.access_token,xform:Ta});if(d)throw d;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Ar(this.storage,`${this.storageKey}-code-verifier`),$e(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=pp(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if($e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new yn;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pr())throw new wd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new a2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new a2("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:o,token_type:c}=t;if(!a||!l||!s||!c)throw new wd("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(l);let g=d+m;o&&(g=parseInt(o));const p=g-d;p*1e3<=Ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const b=g-m;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,d);const{data:S,error:N}=await this._getUser(a);if(N)throw N;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:s,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if($e(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ps(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(ES(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=DS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _o(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Ar(this.storage,`${this.storageKey}-code-verifier`),$e(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,o,c,d;const{data:m,error:g}=a;if(g)throw g;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Pr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if($e(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:l,token:o,access_token:c,nonce:d}=t,m=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:o,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ii}),{data:g,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new xo}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:p}))}catch(i){if(await Ar(this.storage,`${this.storageKey}-code-verifier`),$e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zS(async i=>(i>0&&await US(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ii})),(i,a)=>{const s=200*Math.pow(2,i);return a&&fp(a)&&Date.now()+s-n<Ao})}catch(n){if(this._debug(r,"error",n),$e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ps(this.storage,this.storageKey);if(i&&this.userStorage){let s=await ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Po(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:mp()}else if(i&&!i.user&&!i.user){const s=await ps(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Ar(this.storage,this.storageKey+"-user"),await Po(this.storage,this.storageKey,i)):i.user=mp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${hp}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),fp(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dh;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new yn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),$e(a)){const s={data:null,error:a};return fp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(o){a.push(o)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ar(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Po(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=c2(i);await Po(this.storage,this.storageKey,a)}else{const i=c2(r);await Po(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ar(this.storage,this.storageKey),await Ar(this.storage,this.storageKey+"-code-verifier"),await Ar(this.storage,this.storageKey+"-user"),this.userStorage&&await Ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ao);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ao}ms, refresh threshold is ${P0} ticks`),i<=P0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F5)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await _o(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:c}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?vN(t.webauthn.credential_response):yN(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:o}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:mN(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:gN(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=pp(n.access_token);let s=null;a.aal&&(s=a.aal);let l=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new yn})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new yn});const s=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new yn});const s=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new yn})})}catch(t){if($e(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yn})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+kS>i)return n;const{data:a,error:s}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:o}}=pp(n);r!=null&&r.allowExpired||KS(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=JS(i.alg),m=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,s,IS(`${l}.${o}`)))throw new R0("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}}Vu.nextInstanceID={};const EN=Vu,CN="2.89.0";let au="";typeof Deno<"u"?au="deno":typeof document<"u"?au="web":typeof navigator<"u"&&navigator.product==="ReactNative"?au="react-native":au="node";const AN={"X-Client-Info":`supabase-js-${au}/${CN}`},PN={headers:AN},LN={schema:"public"},TN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RN={};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function ON(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IN(e){var t=ON(e,"string");return Gu(t)=="symbol"?t:t+""}function FN(e,t,r){return(t=IN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){FN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const DN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MN=()=>Headers,BN=(e,t,r)=>{const n=DN(r),i=MN();return async(a,s)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),n(a,Zt(Zt({},s),{},{headers:c}))}};function UN(e){return e.endsWith("/")?e:e+"/"}function zN(e,t){var r,n;const{db:i,auth:a,realtime:s,global:l}=e,{db:o,auth:c,realtime:d,global:m}=t,g={db:Zt(Zt({},o),i),auth:Zt(Zt({},c),a),realtime:Zt(Zt({},d),s),storage:{},global:Zt(Zt(Zt({},m),l),{},{headers:Zt(Zt({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function qN(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(UN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $N=class extends EN{constructor(e){super(e)}},HN=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=qN(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:LN,realtime:RN,auth:Zt(Zt({},TN),{},{storageKey:s}),global:PN},o=zN(r??{},l);if(this.storageKey=(n=o.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=o.global.headers)!==null&&i!==void 0?i:{},o.accessToken)this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=o.auth)!==null&&c!==void 0?c:{},this.headers,o.global.fetch)}this.fetch=BN(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Zt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new S_(new URL("rest/v1",a).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new bS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new y_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:l,debug:o,throwOnError:c},d,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $N({url:this.authUrl.href,headers:Zt(Zt({},g),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:l,debug:o,throwOnError:c,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new U_(this.realtimeUrl.href,Zt(Zt({},e),{},{params:Zt(Zt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const WN=(e,t,r)=>new HN(e,t,r);function VN(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}VN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GN="https://qnskmrlqsdwbtgnufwdm.supabase.co",KN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuc2ttcmxxc2R3YnRnbnVmd2RtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NjM5MzUsImV4cCI6MjA4MTAzOTkzNX0.EZj_LQeTiOzonwprqkTRnqRCAHCSqVo1aRguxmzzFhw",rt=WN(GN,KN),B5=ne.createContext();function JN({children:e}){const[t,r]=ne.useState(null),[n,i]=ne.useState(!0);ne.useEffect(()=>{const d=localStorage.getItem("autorah_user_id");d?a(d):i(!1)},[]);async function a(d){try{const{data:m,error:g}=await rt.from("users").select("*").eq("id",d).single();g||!m?(localStorage.removeItem("autorah_user_id"),r(null)):r(m)}catch(m){console.error("Error restoring session:",m),localStorage.removeItem("autorah_user_id")}finally{i(!1)}}async function s(d,m){try{const{data:g,error:p}=await rt.from("users").select("*").eq("email",d).eq("password",m).single();if(p||!g)throw new Error("Credenciales incorrectas");return r(g),localStorage.setItem("autorah_user_id",g.id),g}catch(g){throw g}}async function l(d){try{const{data:m}=await rt.from("users").select("id").eq("email",d.email).maybeSingle();if(m)throw new Error("El correo ya est registrado");const{data:g,error:p}=await rt.from("users").insert([d]).select().single();if(p)throw p;return r(g),localStorage.setItem("autorah_user_id",g.id),g}catch(m){throw m}}function o(){r(null),localStorage.removeItem("autorah_user_id")}const c={user:t,profile:t,loading:n,login:s,register:l,signOut:o};return f.jsx(B5.Provider,{value:c,children:!n&&e})}function Za(){return ne.useContext(B5)}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),y2=e=>{const t=QN(e);return t.charAt(0).toUpperCase()+t.slice(1)},U5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),XN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ne.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...l},o)=>ne.createElement("svg",{ref:o,...ZN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:U5("lucide",i),...!a&&!XN(l)&&{"aria-hidden":"true"},...l},[...s.map(([c,d])=>ne.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const r=ne.forwardRef(({className:n,...i},a)=>ne.createElement(e6,{ref:a,iconNode:t,className:U5(`lucide-${YN(y2(e))}`,`lucide-${e}`,n),...i}));return r.displayName=y2(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],r6=mt("arrow-right-left",t6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mh=mt("badge-check",n6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],a6=mt("bell",i6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vp=mt("calendar",s6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],sc=mt("car",o6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],u6=mt("check",l6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z5=mt("circle-alert",c6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O0=mt("circle-check-big",d6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],f6=mt("copy",h6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],m6=mt("dollar-sign",p6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],v6=mt("download",g6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w6=mt("eye",y6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],bd=mt("file-down",b6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zm=mt("file-text",x6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],S6=mt("fuel",_6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],w2=mt("gauge",N6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Sn=mt("loader",k6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],E6=mt("lock",j6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],A6=mt("log-out",C6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],q5=mt("map-pin",P6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],T6=mt("menu",L6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ku=mt("plus",R6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],$5=mt("qr-code",O6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],F6=mt("refresh-cw",I6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bh=mt("search",D6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],B6=mt("settings",M6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],z6=mt("shield-alert",U6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],su=mt("shield-check",q6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],H5=mt("square-pen",$6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oc=mt("trash-2",H6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fl=mt("triangle-alert",W6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yu=mt("upload",V6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],K6=mt("user",G6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],eg=mt("wrench",J6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$r=mt("x",Y6);function Q6(){const{user:e,profile:t,signOut:r}=Za(),n=Rh(),[i,a]=ne.useState(!1),s=async()=>{await r(),n("/")};return f.jsxs("nav",{className:"bg-[#0B0E11] border-b border-gray-800 text-white sticky top-0 z-50",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 cursor-pointer",onClick:()=>n("/"),children:[f.jsx("div",{className:"w-8 h-8 bg-[#1E5EFF] rounded-lg flex items-center justify-center",children:f.jsx(sc,{className:"w-5 h-5 text-white"})}),f.jsx("span",{className:"font-bold text-xl tracking-wider",children:"AUTORAH"})]}),f.jsx("div",{className:"hidden md:block",children:f.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[f.jsx(Qt,{to:"/",className:"hover:text-[#1E5EFF] px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Home"}),f.jsx(Qt,{to:"/marketplace",className:"hover:text-[#1E5EFF] px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Marketplace"}),e&&(t==null?void 0:t.role)==="conductor"&&f.jsx(Qt,{to:"/driver/vehicles",className:"hover:text-[#1E5EFF] px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Mis Vehculos"}),e&&(t==null?void 0:t.role)==="taller"&&f.jsx(Qt,{to:"/workshop/dashboard",className:"hover:text-[#1E5EFF] px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Panel Taller"}),f.jsx(Qt,{to:"/deposit",className:"hover:text-[#1E5EFF] px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Depsito Digital"})]})}),f.jsx("div",{className:"hidden md:block",children:f.jsx("div",{className:"flex items-center gap-4",children:e?f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[f.jsx(K6,{className:"w-4 h-4"}),(t==null?void 0:t.full_name)||e.email]}),f.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[f.jsx(A6,{className:"w-4 h-4"}),"Salir"]})]}):f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Qt,{to:"/login",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Acceder"}),f.jsx(Qt,{to:"/register",className:"bg-[#1E5EFF] hover:bg-[#3C7BFF] px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Registrarse"})]})})}),f.jsx("div",{className:"-mr-2 flex md:hidden",children:f.jsx("button",{onClick:()=>a(!i),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none",children:i?f.jsx($r,{className:"w-6 h-6"}):f.jsx(T6,{className:"w-6 h-6"})})})]})}),i&&f.jsx("div",{className:"md:hidden bg-[#0B0E11] border-b border-gray-800",children:f.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[f.jsx(Qt,{to:"/",className:"block hover:bg-gray-800 px-3 py-2 rounded-md text-base font-medium",children:"Home"}),f.jsx(Qt,{to:"/marketplace",className:"block hover:bg-gray-800 px-3 py-2 rounded-md text-base font-medium",children:"Marketplace"}),e&&(t==null?void 0:t.role)==="conductor"&&f.jsx(Qt,{to:"/driver/vehicles",className:"block hover:bg-gray-800 px-3 py-2 rounded-md text-base font-medium",children:"Mis Vehculos"}),e&&(t==null?void 0:t.role)==="taller"&&f.jsx(Qt,{to:"/workshop/dashboard",className:"block hover:bg-gray-800 px-3 py-2 rounded-md text-base font-medium",children:"Panel Taller"}),f.jsx(Qt,{to:"/deposit",className:"block hover:bg-gray-800 px-3 py-2 rounded-md text-base font-medium",children:"Depsito Digital"}),!e&&f.jsxs(f.Fragment,{children:[f.jsx(Qt,{to:"/login",className:"block hover:bg-gray-800 px-3 py-2 rounded-md text-base font-medium",children:"Acceder"}),f.jsx(Qt,{to:"/register",className:"block bg-[#1E5EFF] px-3 py-2 rounded-md text-base font-medium mt-2",children:"Registrarse"})]}),e&&f.jsx("button",{onClick:s,className:"w-full text-left block hover:bg-gray-800 px-3 py-2 rounded-md text-base font-medium text-red-400",children:"Cerrar Sesin"})]})})]})}function X6(){return f.jsx("footer",{className:"bg-[#0B0E11] border-t border-gray-800 text-gray-400 py-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-0",children:[f.jsx("div",{className:"w-8 h-8 bg-[#1E5EFF] rounded-lg flex items-center justify-center",children:f.jsx(sc,{className:"w-5 h-5 text-white"})}),f.jsx("span",{className:"font-bold text-xl text-white tracking-wider",children:"AUTORAH"})]}),f.jsxs("div",{className:"flex gap-6 text-sm",children:[f.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Trminos"}),f.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacidad"}),f.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contacto"})]}),f.jsxs("div",{className:"mt-4 md:mt-0 text-sm",children:[" ",new Date().getFullYear()," AUTORAH. El Pasaporte Global del Vehculo."]})]}),f.jsxs("div",{className:"mt-8 p-4 bg-gray-900 rounded-lg border border-gray-800 text-center",children:[f.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-widest mb-1",children:"Publicidad"}),f.jsx("p",{className:"text-white font-medium",children:"Aceites Premium X - El mejor cuidado para tu motor. Encuntranos en talleres afiliados!"})]})]})})}function Z6({children:e}){return f.jsxs("div",{className:"min-h-screen bg-[#0B0E11] flex flex-col font-sans text-white",children:[f.jsx(Q6,{}),f.jsx("main",{className:"flex-grow",children:e}),f.jsx(X6,{})]})}function ek(){return f.jsxs("div",{className:"bg-[#0B0E11] text-white",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32",children:[f.jsxs("div",{className:"text-center relative z-10",children:[f.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-6",children:["AUTORAH",f.jsx("span",{className:"block text-[#1E5EFF] mt-2",children:"El Pasaporte Global del Vehculo"})]}),f.jsx("p",{className:"mt-4 text-xl text-gray-400 max-w-3xl mx-auto",children:"Un sistema universal que registra la vida mecnica de cada auto. Gratis para usuarios y talleres. Historial verificable, transferible y seguro."}),f.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsxs(Qt,{to:"/register",className:"px-8 py-4 bg-[#1E5EFF] hover:bg-[#3C7BFF] rounded-lg font-bold text-lg transition-all shadow-lg shadow-blue-900/20 flex items-center justify-center gap-2",children:[f.jsx(sc,{className:"w-5 h-5"}),"Soy Conductor"]}),f.jsxs(Qt,{to:"/register",className:"px-8 py-4 bg-[#151921] border border-gray-700 hover:border-[#1E5EFF] rounded-lg font-bold text-lg transition-all flex items-center justify-center gap-2",children:[f.jsx(eg,{className:"w-5 h-5"}),"Soy Taller"]}),f.jsxs(Qt,{to:"/marketplace",className:"px-8 py-4 bg-transparent border border-gray-700 hover:bg-gray-800 rounded-lg font-bold text-lg transition-all flex items-center justify-center gap-2",children:[f.jsx(Bh,{className:"w-5 h-5"}),"Ver Marketplace"]})]})]}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-[#1E5EFF]/10 rounded-full blur-3xl -z-0 pointer-events-none"})]})}),f.jsx("div",{className:"py-24 bg-[#0F1216]",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsx(yp,{icon:f.jsx(su,{className:"w-8 h-8 text-[#1E5EFF]"}),title:"Historial Universal",description:"Cada mantenimiento queda registrado para siempre. Verifica el estado real de cualquier vehculo antes de comprar."}),f.jsx(yp,{icon:f.jsx(F6,{className:"w-8 h-8 text-[#1E5EFF]"}),title:"Transferencia Digital",description:"Transfiere el historial completo al nuevo dueo con un clic. Si no tiene cuenta, el auto queda en Depsito Digital."}),f.jsx(yp,{icon:f.jsx($5,{className:"w-8 h-8 text-[#1E5EFF]"}),title:"QR nico",description:"Cada vehculo tiene una identidad digital nica. Escanea para ver su estado, historial pblico y validaciones."})]})})}),f.jsx("div",{className:"py-24",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Para Conductores"}),f.jsxs("ul",{className:"space-y-4",children:[f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"mt-1 w-5 h-5 rounded-full bg-[#1E5EFF]/20 flex items-center justify-center",children:f.jsx("div",{className:"w-2 h-2 rounded-full bg-[#1E5EFF]"})}),f.jsx("p",{className:"text-gray-300",children:"Valoriza tu vehculo con un historial transparente."})]}),f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"mt-1 w-5 h-5 rounded-full bg-[#1E5EFF]/20 flex items-center justify-center",children:f.jsx("div",{className:"w-2 h-2 rounded-full bg-[#1E5EFF]"})}),f.jsx("p",{className:"text-gray-300",children:"Recibe alertas de mantenimiento y ofertas exclusivas."})]}),f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"mt-1 w-5 h-5 rounded-full bg-[#1E5EFF]/20 flex items-center justify-center",children:f.jsx("div",{className:"w-2 h-2 rounded-full bg-[#1E5EFF]"})}),f.jsx("p",{className:"text-gray-300",children:"Vende ms rpido en nuestro Marketplace certificado."})]})]})]}),f.jsxs("div",{className:"bg-[#151921] p-8 rounded-xl border border-gray-800",children:[f.jsx("h3",{className:"text-xl font-bold mb-4 text-[#A8B0BA]",children:"Depsito Digital"}),f.jsx("p",{className:"text-gray-400 mb-6",children:'Vendiste tu auto a alguien que no usa AUTORAH? No hay problema. El vehculo queda en el "Limbo" seguro hasta que el nuevo dueo lo reclame con el VIN.'}),f.jsx(Qt,{to:"/deposit",className:"text-[#1E5EFF] font-medium hover:underline",children:"Explorar Depsito Digital "})]})]})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-24",children:f.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl p-8 text-center border border-gray-700",children:[f.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-widest mb-2",children:"Publicidad"}),f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Talleres Certificados en tu Ciudad"}),f.jsx("p",{className:"text-gray-400",children:"Encuentra los mejores especialistas para tu marca con garanta AUTORAH."})]})})]})}function yp({icon:e,title:t,description:r}){return f.jsxs("div",{className:"bg-[#151921] p-8 rounded-xl border border-gray-800 hover:border-[#1E5EFF]/50 transition-colors",children:[f.jsx("div",{className:"mb-4",children:e}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:t}),f.jsx("p",{className:"text-gray-400 leading-relaxed",children:r})]})}function tk(){const e=Rh(),{login:t}=Za(),[r,n]=ne.useState(!1),[i,a]=ne.useState(null),[s,l]=ne.useState(""),[o,c]=ne.useState(""),d=async m=>{m.preventDefault(),n(!0),a(null);try{(await t(s,o)).role==="taller"?e("/workshop/dashboard"):e("/driver/vehicles")}catch(g){a(g.message)}finally{n(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-[#0B0E11]",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-[#151921] p-8 rounded-xl border border-gray-800",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-white",children:"Iniciar Sesin"}),f.jsx("p",{className:"mt-2 text-gray-400",children:"Accede a tu Pasaporte Global del Vehculo"})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[i&&f.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-3 rounded text-sm text-center",children:i}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Correo Electrnico"}),f.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[#1E5EFF]",value:s,onChange:m=>l(m.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Contrasea"}),f.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[#1E5EFF]",value:o,onChange:m=>c(m.target.value)})]})]}),f.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#1E5EFF] hover:bg-[#3C7BFF] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1E5EFF] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?f.jsx(Sn,{className:"w-5 h-5 animate-spin"}):"Entrar"}),f.jsxs("div",{className:"text-center text-sm",children:[f.jsx("span",{className:"text-gray-400",children:"No tienes cuenta? "}),f.jsx(Qt,{to:"/register",className:"font-medium text-[#1E5EFF] hover:text-[#3C7BFF]",children:"Regstrate gratis"})]})]})]})})}function rk(){const e=Rh(),{register:t}=Za(),[r,n]=ne.useState(!1),[i,a]=ne.useState(null),[s,l]=ne.useState("conductor"),[o,c]=ne.useState({email:"",password:"",fullName:"",phone:"",city:"",country:""}),d=g=>{c({...o,[g.target.name]:g.target.value})},m=async g=>{g.preventDefault(),n(!0),a(null);try{await t({email:o.email,password:o.password,full_name:o.fullName,role:s,phone:o.phone,city:o.city,country:o.country,created_at:new Date().toISOString()}),e(s==="taller"?"/workshop/dashboard":"/driver/vehicles")}catch(p){console.error("Registration error:",p),a(p.message||"Hubo un error al registrar. Por favor revisa tus datos e intntalo de nuevo.")}finally{n(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-[#0B0E11]",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-[#151921] p-8 rounded-xl border border-gray-800",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-white",children:"Crear Cuenta"}),f.jsx("p",{className:"mt-2 text-gray-400",children:"nete a la red global de AUTORAH"})]}),f.jsxs("div",{className:"flex gap-4 justify-center mt-6",children:[f.jsxs("button",{type:"button",onClick:()=>l("conductor"),className:`flex-1 flex flex-col items-center p-4 rounded-lg border transition-all ${s==="conductor"?"bg-[#1E5EFF]/10 border-[#1E5EFF] text-[#1E5EFF]":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}`,children:[f.jsx(sc,{className:"w-6 h-6 mb-2"}),f.jsx("span",{className:"font-medium",children:"Soy Conductor"})]}),f.jsxs("button",{type:"button",onClick:()=>l("taller"),className:`flex-1 flex flex-col items-center p-4 rounded-lg border transition-all ${s==="taller"?"bg-[#1E5EFF]/10 border-[#1E5EFF] text-[#1E5EFF]":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}`,children:[f.jsx(eg,{className:"w-6 h-6 mb-2"}),f.jsx("span",{className:"font-medium",children:"Soy Taller"})]})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[i&&f.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-3 rounded text-sm text-center",children:i}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Nombre Completo / Nombre del Taller"}),f.jsx("input",{name:"fullName",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[#1E5EFF]",value:o.fullName,onChange:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Correo Electrnico"}),f.jsx("input",{name:"email",type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[#1E5EFF]",value:o.email,onChange:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Contrasea"}),f.jsx("input",{name:"password",type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[#1E5EFF]",value:o.password,onChange:d})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Pas"}),f.jsx("input",{name:"country",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[#1E5EFF]",value:o.country,onChange:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Ciudad"}),f.jsx("input",{name:"city",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[#1E5EFF]",value:o.city,onChange:d})]})]})]}),f.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#1E5EFF] hover:bg-[#3C7BFF] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1E5EFF] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?f.jsx(Sn,{className:"w-5 h-5 animate-spin"}):"Registrarse"}),f.jsxs("div",{className:"text-center text-sm",children:[f.jsx("span",{className:"text-gray-400",children:"Ya tienes cuenta? "}),f.jsx(Qt,{to:"/login",className:"font-medium text-[#1E5EFF] hover:text-[#3C7BFF]",children:"Inicia Sesin"})]})]})]})})}const W5=[{code:"SV",name:"El Salvador"},{code:"GT",name:"Guatemala"},{code:"HN",name:"Honduras"},{code:"NI",name:"Nicaragua"},{code:"CR",name:"Costa Rica"},{code:"PA",name:"Panam"},{code:"MX",name:"Mxico"},{code:"US",name:"Estados Unidos"},{code:"CA",name:"Canad"},{code:"CO",name:"Colombia"},{code:"AR",name:"Argentina"},{code:"CL",name:"Chile"},{code:"PE",name:"Per"},{code:"EC",name:"Ecuador"},{code:"VE",name:"Venezuela"},{code:"BO",name:"Bolivia"},{code:"PY",name:"Paraguay"},{code:"UY",name:"Uruguay"},{code:"BR",name:"Brasil"},{code:"ES",name:"Espaa"},{code:"DO",name:"Repblica Dominicana"},{code:"PR",name:"Puerto Rico"},{code:"CU",name:"Cuba"},{code:"JM",name:"Jamaica"},{code:"HT",name:"Hait"},{code:"BZ",name:"Belice"},{code:"AF",name:"Afganistn"},{code:"AL",name:"Albania"},{code:"DE",name:"Alemania"},{code:"AD",name:"Andorra"},{code:"AO",name:"Angola"},{code:"SA",name:"Arabia Saudita"},{code:"DZ",name:"Argelia"},{code:"AM",name:"Armenia"},{code:"AU",name:"Australia"},{code:"AT",name:"Austria"},{code:"AZ",name:"Azerbaiyn"},{code:"BS",name:"Bahamas"},{code:"BD",name:"Banglads"},{code:"BB",name:"Barbados"},{code:"BH",name:"Barin"},{code:"BE",name:"Blgica"},{code:"BJ",name:"Benn"},{code:"BY",name:"Bielorrusia"},{code:"MM",name:"Birmania"},{code:"BA",name:"Bosnia y Herzegovina"},{code:"BW",name:"Botsuana"},{code:"BN",name:"Bruni"},{code:"BG",name:"Bulgaria"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"BT",name:"Butn"},{code:"CV",name:"Cabo Verde"},{code:"KH",name:"Camboya"},{code:"CM",name:"Camern"},{code:"QA",name:"Catar"},{code:"TD",name:"Chad"},{code:"CN",name:"China"},{code:"CY",name:"Chipre"},{code:"VA",name:"Ciudad del Vaticano"},{code:"KM",name:"Comoras"},{code:"KP",name:"Corea del Norte"},{code:"KR",name:"Corea del Sur"},{code:"CI",name:"Costa de Marfil"},{code:"HR",name:"Croacia"},{code:"DK",name:"Dinamarca"},{code:"DM",name:"Dominica"},{code:"EG",name:"Egipto"},{code:"AE",name:"Emiratos rabes Unidos"},{code:"ER",name:"Eritrea"},{code:"SK",name:"Eslovaquia"},{code:"SI",name:"Eslovenia"},{code:"EE",name:"Estonia"},{code:"ET",name:"Etiopa"},{code:"PH",name:"Filipinas"},{code:"FI",name:"Finlandia"},{code:"FJ",name:"Fiyi"},{code:"FR",name:"Francia"},{code:"GA",name:"Gabn"},{code:"GM",name:"Gambia"},{code:"GE",name:"Georgia"},{code:"GH",name:"Ghana"},{code:"GD",name:"Granada"},{code:"GR",name:"Grecia"},{code:"GN",name:"Guinea"},{code:"GQ",name:"Guinea Ecuatorial"},{code:"GW",name:"Guinea-Bisu"},{code:"GY",name:"Guyana"},{code:"HU",name:"Hungra"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"IQ",name:"Irak"},{code:"IR",name:"Irn"},{code:"IE",name:"Irlanda"},{code:"IS",name:"Islandia"},{code:"MH",name:"Islas Marshall"},{code:"SB",name:"Islas Salomn"},{code:"IL",name:"Israel"},{code:"IT",name:"Italia"},{code:"JP",name:"Japn"},{code:"JO",name:"Jordania"},{code:"KZ",name:"Kazajistn"},{code:"KE",name:"Kenia"},{code:"KG",name:"Kirguistn"},{code:"KI",name:"Kiribati"},{code:"KW",name:"Kuwait"},{code:"LA",name:"Laos"},{code:"LS",name:"Lesoto"},{code:"LV",name:"Letonia"},{code:"LB",name:"Lbano"},{code:"LR",name:"Liberia"},{code:"LY",name:"Libia"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lituania"},{code:"LU",name:"Luxemburgo"},{code:"MK",name:"Macedonia del Norte"},{code:"MG",name:"Madagascar"},{code:"MY",name:"Malasia"},{code:"MW",name:"Malaui"},{code:"MV",name:"Maldivas"},{code:"ML",name:"Mal"},{code:"MT",name:"Malta"},{code:"MA",name:"Marruecos"},{code:"MU",name:"Mauricio"},{code:"MR",name:"Mauritania"},{code:"FM",name:"Micronesia"},{code:"MD",name:"Moldavia"},{code:"MC",name:"Mnaco"},{code:"MN",name:"Mongolia"},{code:"ME",name:"Montenegro"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NR",name:"Nauru"},{code:"NP",name:"Nepal"},{code:"NE",name:"Nger"},{code:"NG",name:"Nigeria"},{code:"NO",name:"Noruega"},{code:"NZ",name:"Nueva Zelanda"},{code:"OM",name:"Omn"},{code:"NL",name:"Pases Bajos"},{code:"PK",name:"Pakistn"},{code:"PW",name:"Palaos"},{code:"PG",name:"Papa Nueva Guinea"},{code:"PL",name:"Polonia"},{code:"PT",name:"Portugal"},{code:"GB",name:"Reino Unido"},{code:"CF",name:"Repblica Centroafricana"},{code:"CZ",name:"Repblica Checa"},{code:"CG",name:"Repblica del Congo"},{code:"CD",name:"Repblica Democrtica del Congo"},{code:"RW",name:"Ruanda"},{code:"RO",name:"Rumana"},{code:"RU",name:"Rusia"},{code:"WS",name:"Samoa"},{code:"KN",name:"San Cristbal y Nieves"},{code:"SM",name:"San Marino"},{code:"VC",name:"San Vicente y las Granadinas"},{code:"LC",name:"Santa Luca"},{code:"ST",name:"Santo Tom y Prncipe"},{code:"SN",name:"Senegal"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leona"},{code:"SG",name:"Singapur"},{code:"SY",name:"Siria"},{code:"SO",name:"Somalia"},{code:"LK",name:"Sri Lanka"},{code:"SZ",name:"Suazilandia"},{code:"ZA",name:"Sudfrica"},{code:"SD",name:"Sudn"},{code:"SS",name:"Sudn del Sur"},{code:"SE",name:"Suecia"},{code:"CH",name:"Suiza"},{code:"SR",name:"Surinam"},{code:"TH",name:"Tailandia"},{code:"TW",name:"Taiwn"},{code:"TZ",name:"Tanzania"},{code:"TJ",name:"Tayikistn"},{code:"TL",name:"Timor Oriental"},{code:"TG",name:"Togo"},{code:"TO",name:"Tonga"},{code:"TT",name:"Trinidad y Tobago"},{code:"TN",name:"Tnez"},{code:"TM",name:"Turkmenistn"},{code:"TR",name:"Turqua"},{code:"TV",name:"Tuvalu"},{code:"UA",name:"Ucrania"},{code:"UG",name:"Uganda"},{code:"UZ",name:"Uzbekistn"},{code:"VU",name:"Vanuatu"},{code:"VN",name:"Vietnam"},{code:"YE",name:"Yemen"},{code:"DJ",name:"Yibuti"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabue"}];function tg({vehicle:e,isOwner:t=!1,onAction:r}){var o,c;const{structuralChangesCount:n,hasEngineChange:i,ownerNotesCount:a,isCertified:s}=e,l=e.photo_url||e.marketplacePhotoUrl;return f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-gray-800 overflow-hidden hover:border-[#1E5EFF]/50 transition-all h-full flex flex-col",children:[f.jsxs("div",{className:"h-48 bg-gray-800 relative shrink-0",children:[l?f.jsx("img",{src:l,alt:e.model,className:"w-full h-full object-cover",onError:d=>{d.target.onerror=null,d.target.style.display="none",d.target.nextSibling.style.display="flex"}}):null,f.jsx("div",{className:`w-full h-full flex items-center justify-center text-gray-600 ${l?"hidden":""}`,children:f.jsx(sc,{className:"w-12 h-12"})}),f.jsx("div",{className:"absolute top-2 right-2 bg-black/50 backdrop-blur px-2 py-1 rounded text-xs font-bold text-white border border-gray-700 z-10",children:e.year}),s&&f.jsxs("div",{className:"absolute bottom-2 left-2 bg-yellow-500/90 backdrop-blur px-2 py-1 rounded text-xs font-bold text-black flex items-center gap-1 shadow-lg z-10",children:[f.jsx(Mh,{className:"w-4 h-4"}),"CERTIFICADO"]})]}),f.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[f.jsxs("div",{onClick:()=>r("view",e),className:"cursor-pointer hover:opacity-80 transition-opacity",children:[f.jsxs("h3",{className:"text-lg font-bold text-white",children:[e.brand," ",e.model]}),t&&f.jsx("p",{className:"text-gray-400 text-sm mb-4",children:e.plate}),!t&&f.jsx("div",{className:"mb-4"})]}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"VIN:"}),f.jsx("span",{className:"font-mono text-gray-300",children:t?e.vin_full:`****${((o=e.vin_full)==null?void 0:o.slice(-4))||"****"}`})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Motor:"}),f.jsx("span",{className:"font-mono text-gray-300",children:t?e.engine_number_full:`****${((c=e.engine_number_full)==null?void 0:c.slice(-4))||"****"}`})]})]}),(e.traction||e.fuel_type||e.location||e.city&&e.country)&&f.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-xs text-gray-400",children:[e.traction&&f.jsxs("div",{className:"bg-gray-900 p-1.5 rounded flex items-center gap-1",children:[f.jsx(w2,{className:"w-3 h-3"})," ",e.traction]}),e.fuel_type&&f.jsxs("div",{className:"bg-gray-900 p-1.5 rounded flex items-center gap-1",children:[f.jsx(S6,{className:"w-3 h-3"})," ",e.fuel_type]}),(e.location||e.city&&e.country)&&f.jsxs("div",{className:"col-span-2 bg-gray-900 p-1.5 rounded flex items-center gap-1",children:[f.jsx(q5,{className:"w-3 h-3"}),e.city&&e.country?`${e.city}, ${e.country}`:e.location]}),e.odometer_not_working&&f.jsxs("div",{className:"col-span-2 bg-red-900/20 text-red-400 p-1.5 rounded flex items-center gap-1 border border-red-900/30",children:[f.jsx(w2,{className:"w-3 h-3"})," Odmetro no funciona"]})]}),n>0&&f.jsxs("div",{className:"mt-auto p-3 bg-gray-900 rounded-lg text-xs text-gray-400 border border-gray-700 mb-2",children:[f.jsxs("p",{children:["Este vehculo tiene ",n," cambio(s) estructural(es) registrado(s) por talleres afiliados."]}),i&&f.jsx("p",{className:"mt-1 text-yellow-400 font-semibold",children:"Motor reemplazado y registrado en AUTORAH."})]}),a>0&&f.jsx("div",{className:"mt-2 p-3 bg-gray-900 rounded-lg text-xs text-gray-400 border border-gray-700",children:f.jsxs("p",{children:["Este vehculo tiene ",a," nota(s) privada(s) registrada(s) por su propietario."]})}),t&&f.jsxs("div",{className:"mt-4 grid grid-cols-5 gap-2",children:[f.jsxs("button",{onClick:()=>r("edit",e),className:"flex flex-col items-center justify-center p-2 bg-gray-800 rounded hover:bg-gray-700 transition-colors text-xs gap-1",children:[f.jsx(H5,{className:"w-4 h-4 text-blue-400"}),f.jsx("span",{children:"Editar"})]}),f.jsxs("button",{onClick:()=>r("qr",e),className:"flex flex-col items-center justify-center p-2 bg-gray-800 rounded hover:bg-gray-700 transition-colors text-xs gap-1",children:[f.jsx($5,{className:"w-4 h-4 text-[#1E5EFF]"}),f.jsx("span",{children:"QR"})]}),f.jsxs("button",{onClick:()=>r("transfer",e),className:"flex flex-col items-center justify-center p-2 bg-gray-800 rounded hover:bg-gray-700 transition-colors text-xs gap-1",children:[f.jsx(r6,{className:"w-4 h-4 text-green-500"}),f.jsx("span",{children:"Transferir"})]}),f.jsxs("button",{onClick:()=>r("sell",e),className:"flex flex-col items-center justify-center p-2 bg-gray-800 rounded hover:bg-gray-700 transition-colors text-xs gap-1",children:[f.jsx(m6,{className:"w-4 h-4 text-yellow-500"}),f.jsx("span",{children:"Vender"})]}),f.jsxs("button",{onClick:()=>r("delete",e),className:"flex flex-col items-center justify-center p-2 bg-gray-800 rounded hover:bg-red-900/30 transition-colors text-xs gap-1 group",children:[f.jsx(oc,{className:"w-4 h-4 text-red-500 group-hover:text-red-400"}),f.jsx("span",{className:"text-red-500 group-hover:text-red-400",children:"Eliminar"})]})]})]})]})}const nk="modulepreload",ik=function(e){return"/"+e},b2={},I0=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(o=>{if(o=ik(o),o in b2)return;b2[o]=!0;const c=o.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":nk,c||(m.as="script"),m.crossOrigin="",m.href=o,l&&m.setAttribute("nonce",l),document.head.appendChild(m),c)return new Promise((g,p)=>{m.addEventListener("load",g),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function kt(e){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(e)}var Wr=Uint8Array,Nn=Uint16Array,rg=Int32Array,Uh=new Wr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zh=new Wr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),F0=new Wr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V5=function(e,t){for(var r=new Nn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new rg(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},G5=V5(Uh,2),K5=G5.b,D0=G5.r;K5[28]=258,D0[258]=28;var J5=V5(zh,0),ak=J5.b,x2=J5.r,M0=new Nn(32768);for(var Ft=0;Ft<32768;++Ft){var Na=(Ft&43690)>>1|(Ft&21845)<<1;Na=(Na&52428)>>2|(Na&13107)<<2,Na=(Na&61680)>>4|(Na&3855)<<4,M0[Ft]=((Na&65280)>>8|(Na&255)<<8)>>1}var Oi=function(e,t,r){for(var n=e.length,i=0,a=new Nn(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new Nn(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(r){l=new Nn(1<<t);var o=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],d=t-e[i],m=s[e[i]-1]++<<d,g=m|(1<<d)-1;m<=g;++m)l[M0[m]>>o]=c}else for(l=new Nn(n),i=0;i<n;++i)e[i]&&(l[i]=M0[s[e[i]-1]++]>>15-e[i]);return l},Ka=new Wr(288);for(var Ft=0;Ft<144;++Ft)Ka[Ft]=8;for(var Ft=144;Ft<256;++Ft)Ka[Ft]=9;for(var Ft=256;Ft<280;++Ft)Ka[Ft]=7;for(var Ft=280;Ft<288;++Ft)Ka[Ft]=8;var Ju=new Wr(32);for(var Ft=0;Ft<32;++Ft)Ju[Ft]=5;var sk=Oi(Ka,9,0),ok=Oi(Ka,9,1),lk=Oi(Ju,5,0),uk=Oi(Ju,5,1),wp=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ri=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},bp=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},ng=function(e){return(e+7)/8|0},Y5=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Wr(e.subarray(t,r))},ck=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],oi=function(e,t,r){var n=new Error(t||ck[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,oi),!r)throw n;return n},dk=function(e,t,r,n){var i=e.length,a=0;if(!i||t.f&&!t.l)return r||new Wr(0);var s=!r,l=s||t.i!=2,o=t.i;s&&(r=new Wr(i*3));var c=function(ke){var Ae=r.length;if(ke>Ae){var Te=new Wr(Math.max(Ae*2,ke));Te.set(r),r=Te}},d=t.f||0,m=t.p||0,g=t.b||0,p=t.l,b=t.d,S=t.m,N=t.n,y=i*8;do{if(!p){d=ri(e,m,1);var x=ri(e,m+1,3);if(m+=3,x)if(x==1)p=ok,b=uk,S=9,N=5;else if(x==2){var F=ri(e,m,31)+257,L=ri(e,m+10,15)+4,P=F+ri(e,m+5,31)+1;m+=14;for(var $=new Wr(P),K=new Wr(19),A=0;A<L;++A)K[F0[A]]=ri(e,m+A*3,7);m+=L*3;for(var C=wp(K),V=(1<<C)-1,W=Oi(K,C,1),A=0;A<P;){var te=W[ri(e,m,V)];m+=te&15;var w=te>>4;if(w<16)$[A++]=w;else{var H=0,J=0;for(w==16?(J=3+ri(e,m,3),m+=2,H=$[A-1]):w==17?(J=3+ri(e,m,7),m+=3):w==18&&(J=11+ri(e,m,127),m+=7);J--;)$[A++]=H}}var z=$.subarray(0,F),G=$.subarray(F);S=wp(z),N=wp(G),p=Oi(z,S,1),b=Oi(G,N,1)}else oi(1);else{var w=ng(m)+4,j=e[w-4]|e[w-3]<<8,O=w+j;if(O>i){o&&oi(0);break}l&&c(g+j),r.set(e.subarray(w,O),g),t.b=g+=j,t.p=m=O*8,t.f=d;continue}if(m>y){o&&oi(0);break}}l&&c(g+131072);for(var re=(1<<S)-1,de=(1<<N)-1,E=m;;E=m){var H=p[bp(e,m)&re],B=H>>4;if(m+=H&15,m>y){o&&oi(0);break}if(H||oi(2),B<256)r[g++]=B;else if(B==256){E=m,p=null;break}else{var q=B-254;if(B>264){var A=B-257,Q=Uh[A];q=ri(e,m,(1<<Q)-1)+K5[A],m+=Q}var Z=b[bp(e,m)&de],ue=Z>>4;Z||oi(3),m+=Z&15;var G=ak[ue];if(ue>3){var Q=zh[ue];G+=bp(e,m)&(1<<Q)-1,m+=Q}if(m>y){o&&oi(0);break}l&&c(g+131072);var he=g+q;if(g<G){var me=a-G,je=Math.min(G,he);for(me+g<0&&oi(3);g<je;++g)r[g]=n[me+g]}for(;g<he;++g)r[g]=r[g-G]}}t.l=p,t.p=E,t.b=g,t.f=d,p&&(d=1,t.m=S,t.d=b,t.n=N)}while(!d);return g!=r.length&&s?Y5(r,0,g):r.subarray(0,g)},Gi=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Zl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},xp=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:X5,l:0};if(i==1){var s=new Wr(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(O,F){return O.f-F.f}),r.push({s:-1,f:25001});var l=r[0],o=r[1],c=0,d=1,m=2;for(r[0]={s:-1,f:l.f+o.f,l,r:o};d!=i-1;)l=r[r[c].f<r[m].f?c++:m++],o=r[c!=d&&r[c].f<r[m].f?c++:m++],r[d++]={s:-1,f:l.f+o.f,l,r:o};for(var g=a[0].s,n=1;n<i;++n)a[n].s>g&&(g=a[n].s);var p=new Nn(g+1),b=B0(r[d-1],p,0);if(b>t){var n=0,S=0,N=b-t,y=1<<N;for(a.sort(function(F,L){return p[L.s]-p[F.s]||F.f-L.f});n<i;++n){var x=a[n].s;if(p[x]>t)S+=y-(1<<b-p[x]),p[x]=t;else break}for(S>>=N;S>0;){var w=a[n].s;p[w]<t?S-=1<<t-p[w]++-1:++n}for(;n>=0&&S;--n){var j=a[n].s;p[j]==t&&(--p[j],++S)}b=t}return{t:new Wr(p),l:b}},B0=function(e,t,r){return e.s==-1?Math.max(B0(e.l,t,r+1),B0(e.r,t,r+1)):t[e.s]=r},_2=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Nn(++t),n=0,i=e[0],a=1,s=function(o){r[n++]=o},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:r.subarray(0,n),n:t}},eu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Q5=function(e,t,r){var n=r.length,i=ng(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},S2=function(e,t,r,n,i,a,s,l,o,c,d){Gi(t,d++,r),++i[256];for(var m=xp(i,15),g=m.t,p=m.l,b=xp(a,15),S=b.t,N=b.l,y=_2(g),x=y.c,w=y.n,j=_2(S),O=j.c,F=j.n,L=new Nn(19),P=0;P<x.length;++P)++L[x[P]&31];for(var P=0;P<O.length;++P)++L[O[P]&31];for(var $=xp(L,7),K=$.t,A=$.l,C=19;C>4&&!K[F0[C-1]];--C);var V=c+5<<3,W=eu(i,Ka)+eu(a,Ju)+s,te=eu(i,g)+eu(a,S)+s+14+3*C+eu(L,K)+2*L[16]+3*L[17]+7*L[18];if(o>=0&&V<=W&&V<=te)return Q5(t,d,e.subarray(o,o+c));var H,J,z,G;if(Gi(t,d,1+(te<W)),d+=2,te<W){H=Oi(g,p,0),J=g,z=Oi(S,N,0),G=S;var re=Oi(K,A,0);Gi(t,d,w-257),Gi(t,d+5,F-1),Gi(t,d+10,C-4),d+=14;for(var P=0;P<C;++P)Gi(t,d+3*P,K[F0[P]]);d+=3*C;for(var de=[x,O],E=0;E<2;++E)for(var B=de[E],P=0;P<B.length;++P){var q=B[P]&31;Gi(t,d,re[q]),d+=K[q],q>15&&(Gi(t,d,B[P]>>5&127),d+=B[P]>>12)}}else H=sk,J=Ka,z=lk,G=Ju;for(var P=0;P<l;++P){var Q=n[P];if(Q>255){var q=Q>>18&31;Zl(t,d,H[q+257]),d+=J[q+257],q>7&&(Gi(t,d,Q>>23&31),d+=Uh[q]);var Z=Q&31;Zl(t,d,z[Z]),d+=G[Z],Z>3&&(Zl(t,d,Q>>5&8191),d+=zh[Z])}else Zl(t,d,H[Q]),d+=J[Q]}return Zl(t,d,H[256]),d+J[256]},hk=new rg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),X5=new Wr(0),fk=function(e,t,r,n,i,a){var s=a.z||e.length,l=new Wr(n+s+5*(1+Math.ceil(s/7e3))+i),o=l.subarray(n,l.length-i),c=a.l,d=(a.r||0)&7;if(t){d&&(o[0]=a.r>>3);for(var m=hk[t-1],g=m>>13,p=m&8191,b=(1<<r)-1,S=a.p||new Nn(32768),N=a.h||new Nn(b+1),y=Math.ceil(r/3),x=2*y,w=function(Ke){return(e[Ke]^e[Ke+1]<<y^e[Ke+2]<<x)&b},j=new rg(25e3),O=new Nn(288),F=new Nn(32),L=0,P=0,$=a.i||0,K=0,A=a.w||0,C=0;$+2<s;++$){var V=w($),W=$&32767,te=N[V];if(S[W]=te,N[V]=W,A<=$){var H=s-$;if((L>7e3||K>24576)&&(H>423||!c)){d=S2(e,o,0,j,O,F,P,K,C,$-C,d),K=L=P=0,C=$;for(var J=0;J<286;++J)O[J]=0;for(var J=0;J<30;++J)F[J]=0}var z=2,G=0,re=p,de=W-te&32767;if(H>2&&V==w($-de))for(var E=Math.min(g,H)-1,B=Math.min(32767,$),q=Math.min(258,H);de<=B&&--re&&W!=te;){if(e[$+z]==e[$+z-de]){for(var Q=0;Q<q&&e[$+Q]==e[$+Q-de];++Q);if(Q>z){if(z=Q,G=de,Q>E)break;for(var Z=Math.min(de,Q-2),ue=0,J=0;J<Z;++J){var he=$-de+J&32767,me=S[he],je=he-me&32767;je>ue&&(ue=je,te=he)}}}W=te,te=S[W],de+=W-te&32767}if(G){j[K++]=268435456|D0[z]<<18|x2[G];var ke=D0[z]&31,Ae=x2[G]&31;P+=Uh[ke]+zh[Ae],++O[257+ke],++F[Ae],A=$+z,++L}else j[K++]=e[$],++O[e[$]]}}for($=Math.max($,A);$<s;++$)j[K++]=e[$],++O[e[$]];d=S2(e,o,c,j,O,F,P,K,C,$-C,d),c||(a.r=d&7|o[d/8|0]<<3,d-=7,a.h=N,a.p=S,a.i=$,a.w=A)}else{for(var $=a.w||0;$<s+c;$+=65535){var Te=$+65535;Te>=s&&(o[d/8|0]=c,Te=s),d=Q5(o,d+1,e.subarray($,Te))}a.i=s}return Y5(l,0,n+ng(d)+i)},Z5=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},pk=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new Wr(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return fk(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},ew=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},mk=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Z5();i.p(t.dictionary),ew(e,2,i.d())}},gk=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&oi(6,"invalid zlib data"),(e[1]>>5&1)==1&&oi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function U0(e,t){t||(t={});var r=Z5();r.p(e);var n=pk(e,t,t.dictionary?6:2,4);return mk(n,t),ew(n,n.length-4,r.d()),n}function vk(e,t){return dk(e.subarray(gk(e),-4),{i:2},t,t)}var yk=typeof TextDecoder<"u"&&new TextDecoder,wk=0;try{yk.decode(X5,{stream:!0}),wk=1}catch{}var tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _p(){tt.console&&typeof tt.console.log=="function"&&tt.console.log.apply(tt.console,arguments)}var Pt={log:_p,warn:function(e){tt.console&&(typeof tt.console.warn=="function"?tt.console.warn.apply(tt.console,arguments):_p.call(null,arguments))},error:function(e){tt.console&&(typeof tt.console.error=="function"?tt.console.error.apply(tt.console,arguments):_p(e))}};function Sp(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){ys(n.response,t,r)},n.onerror=function(){Pt.error("could not download file")},n.send()}function N2(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function xd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var wu,z0,ys=tt.saveAs||((typeof window>"u"?"undefined":kt(window))!=="object"||window!==tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=tt.URL||tt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?N2(i.href)?Sp(e,t,r):xd(i,i.target="_blank"):xd(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){xd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(N2(e))Sp(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){xd(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:kt(a)!=="object"&&(Pt.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Sp(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(tt.HTMLElement)||tt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":kt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var o=tt.URL||tt.webkitURL,c=o.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){o.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tw(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),o=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),"#"+l+o+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Np(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Br(r,n,i,a,t[0],7,-680876936),a=Br(a,r,n,i,t[1],12,-389564586),i=Br(i,a,r,n,t[2],17,606105819),n=Br(n,i,a,r,t[3],22,-1044525330),r=Br(r,n,i,a,t[4],7,-176418897),a=Br(a,r,n,i,t[5],12,1200080426),i=Br(i,a,r,n,t[6],17,-1473231341),n=Br(n,i,a,r,t[7],22,-45705983),r=Br(r,n,i,a,t[8],7,1770035416),a=Br(a,r,n,i,t[9],12,-1958414417),i=Br(i,a,r,n,t[10],17,-42063),n=Br(n,i,a,r,t[11],22,-1990404162),r=Br(r,n,i,a,t[12],7,1804603682),a=Br(a,r,n,i,t[13],12,-40341101),i=Br(i,a,r,n,t[14],17,-1502002290),r=Ur(r,n=Br(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Ur(a,r,n,i,t[6],9,-1069501632),i=Ur(i,a,r,n,t[11],14,643717713),n=Ur(n,i,a,r,t[0],20,-373897302),r=Ur(r,n,i,a,t[5],5,-701558691),a=Ur(a,r,n,i,t[10],9,38016083),i=Ur(i,a,r,n,t[15],14,-660478335),n=Ur(n,i,a,r,t[4],20,-405537848),r=Ur(r,n,i,a,t[9],5,568446438),a=Ur(a,r,n,i,t[14],9,-1019803690),i=Ur(i,a,r,n,t[3],14,-187363961),n=Ur(n,i,a,r,t[8],20,1163531501),r=Ur(r,n,i,a,t[13],5,-1444681467),a=Ur(a,r,n,i,t[2],9,-51403784),i=Ur(i,a,r,n,t[7],14,1735328473),r=zr(r,n=Ur(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=zr(a,r,n,i,t[8],11,-2022574463),i=zr(i,a,r,n,t[11],16,1839030562),n=zr(n,i,a,r,t[14],23,-35309556),r=zr(r,n,i,a,t[1],4,-1530992060),a=zr(a,r,n,i,t[4],11,1272893353),i=zr(i,a,r,n,t[7],16,-155497632),n=zr(n,i,a,r,t[10],23,-1094730640),r=zr(r,n,i,a,t[13],4,681279174),a=zr(a,r,n,i,t[0],11,-358537222),i=zr(i,a,r,n,t[3],16,-722521979),n=zr(n,i,a,r,t[6],23,76029189),r=zr(r,n,i,a,t[9],4,-640364487),a=zr(a,r,n,i,t[12],11,-421815835),i=zr(i,a,r,n,t[15],16,530742520),r=qr(r,n=zr(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=qr(a,r,n,i,t[7],10,1126891415),i=qr(i,a,r,n,t[14],15,-1416354905),n=qr(n,i,a,r,t[5],21,-57434055),r=qr(r,n,i,a,t[12],6,1700485571),a=qr(a,r,n,i,t[3],10,-1894986606),i=qr(i,a,r,n,t[10],15,-1051523),n=qr(n,i,a,r,t[1],21,-2054922799),r=qr(r,n,i,a,t[8],6,1873313359),a=qr(a,r,n,i,t[15],10,-30611744),i=qr(i,a,r,n,t[6],15,-1560198380),n=qr(n,i,a,r,t[13],21,1309151649),r=qr(r,n,i,a,t[4],6,-145523070),a=qr(a,r,n,i,t[11],10,-1120210379),i=qr(i,a,r,n,t[2],15,718787259),n=qr(n,i,a,r,t[9],21,-343485551),e[0]=Fa(r,e[0]),e[1]=Fa(n,e[1]),e[2]=Fa(i,e[2]),e[3]=Fa(a,e[3])}function qh(e,t,r,n,i,a){return t=Fa(Fa(t,e),Fa(n,a)),Fa(t<<i|t>>>32-i,r)}function Br(e,t,r,n,i,a,s){return qh(t&r|~t&n,e,t,i,a,s)}function Ur(e,t,r,n,i,a,s){return qh(t&n|r&~n,e,t,i,a,s)}function zr(e,t,r,n,i,a,s){return qh(t^r^n,e,t,i,a,s)}function qr(e,t,r,n,i,a,s){return qh(r^(t|~n),e,t,i,a,s)}function rw(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Np(n,bk(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Np(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Np(n,i),n}function bk(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}wu=tt.atob.bind(tt),z0=tt.btoa.bind(tt);var k2="0123456789abcdef".split("");function xk(e){for(var t="",r=0;r<4;r++)t+=k2[e>>8*r+4&15]+k2[e>>8*r&15];return t}function _k(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function q0(e){return rw(e).map(_k).join("")}var Sk=function(e){for(var t=0;t<e.length;t++)e[t]=xk(e[t]);return e.join("")}(rw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fa(e,t){if(Sk){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $0(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],o=0;o<256;o++)l[o]=o;var c=0;for(o=0;o<256;o++){var d=l[o];c=(c+d+s.charCodeAt(o))%256,l[o]=l[c],l[c]=d}r=e,n=l}else l=n;var m=t.length,g=0,p=0,b="";for(o=0;o<m;o++)p=(p+(d=l[g=(g+1)%256]))%256,l[g]=l[p],l[p]=d,s=l[(l[g]+l[p])%256],b+=String.fromCharCode(t.charCodeAt(o)^s);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var j2={print:4,modify:8,copy:16,"annot-forms":32};function Lo(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(j2.perm!==void 0)throw new Error("Invalid permission: "+l);i+=j2[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=q0(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=$0(this.encryptionKey,this.padding)}function To(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function E2(e){if(kt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(l){tt.console&&Pt.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Yu(e){if(!(this instanceof Yu))return new Yu(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function nw(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ra(e,t,r,n,i){if(!(this instanceof Ra))return new Ra(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,nw.call(this,n,i)}function ks(e,t,r,n,i){if(!(this instanceof ks))return new ks(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,nw.call(this,n,i)}function Ge(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,o=16,c="S",d=null;kt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(o=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=E2;var b="1.3",S=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(v){b=v};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var y=p.__private__.getPageFormat=function(v){return N[v]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},w=x.COMPAT;function j(){this.saveGraphicsState(),ee(new Xe(Ie,0,0,-Ie,0,da()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),c="n",w=x.ADVANCED}function O(){this.restoreGraphicsState(),c="S",w=x.COMPAT}var F=p.__private__.combineFontStyleAndFontWeight=function(v,R){if(v=="bold"&&R=="normal"||v=="bold"&&R==400||v=="normal"&&R=="italic"||v=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(v=R==400||R==="normal"?v==="italic"?"italic":"normal":R!=700&&R!=="bold"||v!=="normal"?(R==700?"bold":R)+""+v:"bold"),v};p.advancedAPI=function(v){var R=w===x.COMPAT;return R&&j.call(this),typeof v!="function"||(v(this),R&&O.call(this)),this},p.compatAPI=function(v){var R=w===x.ADVANCED;return R&&O.call(this),typeof v!="function"||(v(this),R&&j.call(this)),this},p.isAdvancedAPI=function(){return w===x.ADVANCED};var L,P=function(v){if(w!==x.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=p.roundToPrecision=p.__private__.roundToPrecision=function(v,R){var X=t||R;if(isNaN(v)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(X).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof o=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,o)}:o==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,16)};var K=p.f2=p.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return $(v,2)},A=p.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return $(v,3)},C=p.scale=p.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return w===x.COMPAT?v*Ie:w===x.ADVANCED?v:void 0},V=function(v){return w===x.COMPAT?da()-v:w===x.ADVANCED?v:void 0},W=function(v){return C(V(v))};p.__private__.setPrecision=p.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var te,H="00000000000000000000000000000000",J=p.__private__.getFileId=function(){return H},z=p.__private__.setFileId=function(v){return H=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ir=new Lo(d.userPermissions,d.userPassword,d.ownerPassword,H)),H};p.setFileId=function(v){return z(v),this},p.getFileId=function(){return J()};var G=p.__private__.convertDateToPDFDate=function(v){var R=v.getTimezoneOffset(),X=R<0?"+":"-",ie=Math.floor(Math.abs(R/60)),ce=Math.abs(R%60),we=[X,q(ie),"'",q(ce),"'"].join("");return["D:",v.getFullYear(),q(v.getMonth()+1),q(v.getDate()),q(v.getHours()),q(v.getMinutes()),q(v.getSeconds()),we].join("")},re=p.__private__.convertPDFDateToDate=function(v){var R=parseInt(v.substr(2,4),10),X=parseInt(v.substr(6,2),10)-1,ie=parseInt(v.substr(8,2),10),ce=parseInt(v.substr(10,2),10),we=parseInt(v.substr(12,2),10),Ne=parseInt(v.substr(14,2),10);return new Date(R,X,ie,ce,we,Ne,0)},de=p.__private__.setCreationDate=function(v){var R;if(v===void 0&&(v=new Date),v instanceof Date)R=G(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=v}return te=R},E=p.__private__.getCreationDate=function(v){var R=te;return v==="jsDate"&&(R=re(te)),R};p.setCreationDate=function(v){return de(v),this},p.getCreationDate=function(v){return E(v)};var B,q=p.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},Q=p.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Z=0,ue=[],he=[],me=0,je=[],ke=[],Ae=!1,Te=he,Ke=function(){Z=0,me=0,he=[],ue=[],je=[],Di=lr(),Gn=lr()};p.__private__.setCustomOutputDestination=function(v){Ae=!0,Te=v};var ye=function(v){Ae||(Te=v)};p.__private__.resetCustomOutputDestination=function(){Ae=!1,Te=he};var ee=p.__private__.out=function(v){return v=v.toString(),me+=v.length+1,Te.push(v),Te},nt=p.__private__.write=function(v){return ee(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},qe=p.__private__.getArrayBuffer=function(v){for(var R=v.length,X=new ArrayBuffer(R),ie=new Uint8Array(X);R--;)ie[R]=v.charCodeAt(R);return X},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ee};var Pe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(v){return Pe=w===x.ADVANCED?v/Ie:v,this};var De,Oe=p.__private__.getFontSize=p.getFontSize=function(){return w===x.COMPAT?Pe:Pe*Ie},He=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(v){return He=v,this},p.__private__.getR2L=p.getR2L=function(){return He};var ge,Le=p.__private__.setZoomMode=function(v){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))De=v;else if(isNaN(v)){if(R.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');De=v}else De=parseInt(v,10)};p.__private__.getZoomMode=function(){return De};var We,Qe=p.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');ge=v};p.__private__.getPageMode=function(){return ge};var ct=p.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');We=v};p.__private__.getLayoutMode=function(){return We},p.__private__.setDisplayMode=p.setDisplayMode=function(v,R,X){return Le(v),ct(R),Qe(X),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(v){if(Object.keys(Je).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[v]},p.__private__.getDocumentProperties=function(){return Je},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(v){for(var R in Je)Je.hasOwnProperty(R)&&v[R]&&(Je[R]=v[R]);return this},p.__private__.setDocumentProperty=function(v,R){if(Object.keys(Je).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[v]=R};var dt,Ie,Or,wt,Hn,Ct={},Mt={},vi=[],xt={},es={},Vt={},Wn={},Fi=null,Gt=0,at=[],_t=new E2(p),ts=e.hotfixes||[],jr={},yi={},wi=[],Xe=function v(R,X,ie,ce,we,Ne){if(!(this instanceof v))return new v(R,X,ie,ce,we,Ne);isNaN(R)&&(R=1),isNaN(X)&&(X=0),isNaN(ie)&&(ie=0),isNaN(ce)&&(ce=1),isNaN(we)&&(we=0),isNaN(Ne)&&(Ne=0),this._matrix=[R,X,ie,ce,we,Ne]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(v)},Xe.prototype.multiply=function(v){var R=v.sx*this.sx+v.shy*this.shx,X=v.sx*this.shy+v.shy*this.sy,ie=v.shx*this.sx+v.sy*this.shx,ce=v.shx*this.shy+v.sy*this.sy,we=v.tx*this.sx+v.ty*this.shx+this.tx,Ne=v.tx*this.shy+v.ty*this.sy+this.ty;return new Xe(R,X,ie,ce,we,Ne)},Xe.prototype.decompose=function(){var v=this.sx,R=this.shy,X=this.shx,ie=this.sy,ce=this.tx,we=this.ty,Ne=Math.sqrt(v*v+R*R),Me=(v/=Ne)*X+(R/=Ne)*ie;X-=v*Me,ie-=R*Me;var Ve=Math.sqrt(X*X+ie*ie);return Me/=Ve,v*(ie/=Ve)<R*(X/=Ve)&&(v=-v,R=-R,Me=-Me,Ne=-Ne),{scale:new Xe(Ne,0,0,Ve,0,0),translate:new Xe(1,0,0,1,ce,we),rotate:new Xe(v,R,-R,v,0,0),skew:new Xe(1,0,Me,1,0,0)}},Xe.prototype.toString=function(v){return this.join(" ")},Xe.prototype.inversed=function(){var v=this.sx,R=this.shy,X=this.shx,ie=this.sy,ce=this.tx,we=this.ty,Ne=1/(v*ie-R*X),Me=ie*Ne,Ve=-R*Ne,lt=-X*Ne,st=v*Ne;return new Xe(Me,Ve,lt,st,-Me*ce-lt*we,-Ve*ce-st*we)},Xe.prototype.applyToPoint=function(v){var R=v.x*this.sx+v.y*this.shx+this.tx,X=v.x*this.shy+v.y*this.sy+this.ty;return new ro(R,X)},Xe.prototype.applyToRectangle=function(v){var R=this.applyToPoint(v),X=this.applyToPoint(new ro(v.x+v.w,v.y+v.h));return new Nl(R.x,R.y,X.x-R.x,X.y-R.y)},Xe.prototype.clone=function(){var v=this.sx,R=this.shy,X=this.shx,ie=this.sy,ce=this.tx,we=this.ty;return new Xe(v,R,X,ie,ce,we)},p.Matrix=Xe;var Vn=p.matrixMult=function(v,R){return R.multiply(v)},bi=new Xe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=bi;var en=function(v,R){if(!es[v]){var X=(R instanceof Ra?"Sh":"P")+(Object.keys(xt).length+1).toString(10);R.id=X,es[v]=X,xt[X]=R,_t.publish("addPattern",R)}};p.ShadingPattern=Ra,p.TilingPattern=ks,p.addShadingPattern=function(v,R){return P("addShadingPattern()"),en(v,R),this},p.beginTilingPattern=function(v){P("beginTilingPattern()"),jc(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},p.endTilingPattern=function(v,R){P("endTilingPattern()"),R.stream=ke[B].join(`
`),en(v,R),_t.publish("endTilingPattern",R),wi.pop().restore()};var mr=p.__private__.newObject=function(){var v=lr();return fn(v,!0),v},lr=p.__private__.newObjectDeferred=function(){return Z++,ue[Z]=function(){return me},Z},fn=function(v,R){return R=typeof R=="boolean"&&R,ue[v]=me,R&&ee(v+" 0 obj"),v},$s=p.__private__.newAdditionalObject=function(){var v={objId:lr(),content:""};return je.push(v),v},Di=lr(),Gn=lr(),Kn=p.__private__.decodeColorString=function(v){var R=v.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var X=parseFloat(R[0]);R=[X,X,X,"r"]}for(var ie="#",ce=0;ce<3;ce++)ie+=("0"+Math.floor(255*parseFloat(R[ce])).toString(16)).slice(-2);return ie},Jn=p.__private__.encodeColorString=function(v){var R;typeof v=="string"&&(v={ch1:v});var X=v.ch1,ie=v.ch2,ce=v.ch3,we=v.ch4,Ne=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var Me=new tw(X);if(Me.ok)X=Me.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var Ve=parseInt(X.substr(1),16);X=Ve>>16&255,ie=Ve>>8&255,ce=255&Ve}if(ie===void 0||we===void 0&&X===ie&&ie===ce)if(typeof X=="string")R=X+" "+Ne[0];else switch(v.precision){case 2:R=K(X/255)+" "+Ne[0];break;case 3:default:R=A(X/255)+" "+Ne[0]}else if(we===void 0||kt(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return R=["1.","1.","1.",Ne[1]].join(" ");if(typeof X=="string")R=[X,ie,ce,Ne[1]].join(" ");else switch(v.precision){case 2:R=[K(X/255),K(ie/255),K(ce/255),Ne[1]].join(" ");break;default:case 3:R=[A(X/255),A(ie/255),A(ce/255),Ne[1]].join(" ")}}else if(typeof X=="string")R=[X,ie,ce,we,Ne[2]].join(" ");else switch(v.precision){case 2:R=[K(X),K(ie),K(ce),K(we),Ne[2]].join(" ");break;case 3:default:R=[A(X),A(ie),A(ce),A(we),Ne[2]].join(" ")}return R},xi=p.__private__.getFilters=function(){return s},An=p.__private__.putStream=function(v){var R=(v=v||{}).data||"",X=v.filters||xi(),ie=v.alreadyAppliedFilters||[],ce=v.addLength1||!1,we=R.length,Ne=v.objectId,Me=function(Fr){return Fr};if(d!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Me=Ir.encryptor(Ne,0));var Ve={};X===!0&&(X=["FlateEncode"]);var lt=v.additionalKeyValues||[],st=(Ve=Ge.API.processDataByFilters!==void 0?Ge.API.processDataByFilters(R,X):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(Ve.data.length!==0&&(lt.push({key:"Length",value:Ve.data.length}),ce===!0&&lt.push({key:"Length1",value:we})),st.length!=0)if(st.split("/").length-1==1)lt.push({key:"Filter",value:st});else{lt.push({key:"Filter",value:"["+st+"]"});for(var gt=0;gt<lt.length;gt+=1)if(lt[gt].key==="DecodeParms"){for(var Ut=[],Kt=0;Kt<Ve.reverseChain.split("/").length-1;Kt+=1)Ut.push("null");Ut.push(lt[gt].value),lt[gt].value="["+Ut.join(" ")+"]"}}ee("<<");for(var ur=0;ur<lt.length;ur++)ee("/"+lt[ur].key+" "+lt[ur].value);ee(">>"),Ve.data.length!==0&&(ee("stream"),ee(Me(Ve.data)),ee("endstream"))},_i=p.__private__.putPage=function(v){var R=v.number,X=v.data,ie=v.objId,ce=v.contentsObjId;fn(ie,!0),ee("<</Type /Page"),ee("/Parent "+v.rootDictionaryObjId+" 0 R"),ee("/Resources "+v.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(L(v.mediaBox.bottomLeftX))+" "+parseFloat(L(v.mediaBox.bottomLeftY))+" "+L(v.mediaBox.topRightX)+" "+L(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&ee("/CropBox ["+L(v.cropBox.bottomLeftX)+" "+L(v.cropBox.bottomLeftY)+" "+L(v.cropBox.topRightX)+" "+L(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&ee("/BleedBox ["+L(v.bleedBox.bottomLeftX)+" "+L(v.bleedBox.bottomLeftY)+" "+L(v.bleedBox.topRightX)+" "+L(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&ee("/TrimBox ["+L(v.trimBox.bottomLeftX)+" "+L(v.trimBox.bottomLeftY)+" "+L(v.trimBox.topRightX)+" "+L(v.trimBox.topRightY)+"]"),v.artBox!==null&&ee("/ArtBox ["+L(v.artBox.bottomLeftX)+" "+L(v.artBox.bottomLeftY)+" "+L(v.artBox.topRightX)+" "+L(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&ee("/UserUnit "+v.userUnit),_t.publish("putPage",{objId:ie,pageContext:at[R],pageNumber:R,page:X}),ee("/Contents "+ce+" 0 R"),ee(">>"),ee("endobj");var we=X.join(`
`);return w===x.ADVANCED&&(we+=`
Q`),fn(ce,!0),An({data:we,filters:xi(),objectId:ce}),ee("endobj"),ie},rs=p.__private__.putPages=function(){var v,R,X=[];for(v=1;v<=Gt;v++)at[v].objId=lr(),at[v].contentsObjId=lr();for(v=1;v<=Gt;v++)X.push(_i({number:v,data:ke[v],objId:at[v].objId,contentsObjId:at[v].contentsObjId,mediaBox:at[v].mediaBox,cropBox:at[v].cropBox,bleedBox:at[v].bleedBox,trimBox:at[v].trimBox,artBox:at[v].artBox,userUnit:at[v].userUnit,rootDictionaryObjId:Di,resourceDictionaryObjId:Gn}));fn(Di,!0),ee("<</Type /Pages");var ie="/Kids [";for(R=0;R<Gt;R++)ie+=X[R]+" 0 R ";ee(ie+"]"),ee("/Count "+Gt),ee(">>"),ee("endobj"),_t.publish("postPutPages")},Hs=function(v){_t.publish("putFont",{font:v,out:ee,newObject:mr,putStream:An}),v.isAlreadyPutted!==!0&&(v.objectNumber=mr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+To(v.postScriptName)),ee("/Subtype /Type1"),typeof v.encoding=="string"&&ee("/Encoding /"+v.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Ws=function(){for(var v in Ct)Ct.hasOwnProperty(v)&&(m===!1||m===!0&&g.hasOwnProperty(v))&&Hs(Ct[v])},Vs=function(v){v.objectNumber=mr();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[L(v.x),L(v.y),L(v.x+v.width),L(v.y+v.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var X=v.pages[1].join(`
`);An({data:X,additionalKeyValues:R,objectId:v.objectNumber}),ee("endobj")},Gs=function(){for(var v in jr)jr.hasOwnProperty(v)&&Vs(jr[v])},lc=function(v,R){var X,ie=[],ce=1/(R-1);for(X=0;X<1;X+=ce)ie.push(X);if(ie.push(1),v[0].offset!=0){var we={offset:0,color:v[0].color};v.unshift(we)}if(v[v.length-1].offset!=1){var Ne={offset:1,color:v[v.length-1].color};v.push(Ne)}for(var Me="",Ve=0,lt=0;lt<ie.length;lt++){for(X=ie[lt];X>v[Ve+1].offset;)Ve++;var st=v[Ve].offset,gt=(X-st)/(v[Ve+1].offset-st),Ut=v[Ve].color,Kt=v[Ve+1].color;Me+=Q(Math.round((1-gt)*Ut[0]+gt*Kt[0]).toString(16))+Q(Math.round((1-gt)*Ut[1]+gt*Kt[1]).toString(16))+Q(Math.round((1-gt)*Ut[2]+gt*Kt[2]).toString(16))}return Me.trim()},$h=function(v,R){R||(R=21);var X=mr(),ie=lc(v.colors,R),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+R+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),An({data:ie,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),ee("endobj"),v.objectNumber=mr(),ee("<< /ShadingType "+v.type),ee("/ColorSpace /DeviceRGB");var we="/Coords ["+L(parseFloat(v.coords[0]))+" "+L(parseFloat(v.coords[1]))+" ";v.type===2?we+=L(parseFloat(v.coords[2]))+" "+L(parseFloat(v.coords[3])):we+=L(parseFloat(v.coords[2]))+" "+L(parseFloat(v.coords[3]))+" "+L(parseFloat(v.coords[4]))+" "+L(parseFloat(v.coords[5])),ee(we+="]"),v.matrix&&ee("/Matrix ["+v.matrix.toString()+"]"),ee("/Function "+X+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Hh=function(v,R){var X=lr(),ie=mr();R.push({resourcesOid:X,objectOid:ie}),v.objectNumber=ie;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+v.boundingBox.map(L).join(" ")+"]"}),ce.push({key:"XStep",value:L(v.xStep)}),ce.push({key:"YStep",value:L(v.yStep)}),ce.push({key:"Resources",value:X+" 0 R"}),v.matrix&&ce.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),An({data:v.stream,additionalKeyValues:ce,objectId:v.objectNumber}),ee("endobj")},Ks=function(v){var R;for(R in xt)xt.hasOwnProperty(R)&&(xt[R]instanceof Ra?$h(xt[R]):xt[R]instanceof ks&&Hh(xt[R],v))},uc=function(v){for(var R in v.objectNumber=mr(),ee("<<"),v)switch(R){case"opacity":ee("/ca "+K(v[R]));break;case"stroke-opacity":ee("/CA "+K(v[R]))}ee(">>"),ee("endobj")},Wh=function(){var v;for(v in Vt)Vt.hasOwnProperty(v)&&uc(Vt[v])},pl=function(){for(var v in ee("/XObject <<"),jr)jr.hasOwnProperty(v)&&jr[v].objectNumber>=0&&ee("/"+v+" "+jr[v].objectNumber+" 0 R");_t.publish("putXobjectDict"),ee(">>")},Vh=function(){Ir.oid=mr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Ir.v),ee("/R "+Ir.r),ee("/U <"+Ir.toHexString(Ir.U)+">"),ee("/O <"+Ir.toHexString(Ir.O)+">"),ee("/P "+Ir.P),ee(">>"),ee("endobj")},cc=function(){for(var v in ee("/Font <<"),Ct)Ct.hasOwnProperty(v)&&(m===!1||m===!0&&g.hasOwnProperty(v))&&ee("/"+v+" "+Ct[v].objectNumber+" 0 R");ee(">>")},Gh=function(){if(Object.keys(xt).length>0){for(var v in ee("/Shading <<"),xt)xt.hasOwnProperty(v)&&xt[v]instanceof Ra&&xt[v].objectNumber>=0&&ee("/"+v+" "+xt[v].objectNumber+" 0 R");_t.publish("putShadingPatternDict"),ee(">>")}},Js=function(v){if(Object.keys(xt).length>0){for(var R in ee("/Pattern <<"),xt)xt.hasOwnProperty(R)&&xt[R]instanceof p.TilingPattern&&xt[R].objectNumber>=0&&xt[R].objectNumber<v&&ee("/"+R+" "+xt[R].objectNumber+" 0 R");_t.publish("putTilingPatternDict"),ee(">>")}},Kh=function(){if(Object.keys(Vt).length>0){var v;for(v in ee("/ExtGState <<"),Vt)Vt.hasOwnProperty(v)&&Vt[v].objectNumber>=0&&ee("/"+v+" "+Vt[v].objectNumber+" 0 R");_t.publish("putGStateDict"),ee(">>")}},tr=function(v){fn(v.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),cc(),Gh(),Js(v.objectOid),Kh(),pl(),ee(">>"),ee("endobj")},dc=function(){var v=[];Ws(),Wh(),Gs(),Ks(v),_t.publish("putResources"),v.forEach(tr),tr({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),_t.publish("postPutResources")},hc=function(){_t.publish("putAdditionalObjects");for(var v=0;v<je.length;v++){var R=je[v];fn(R.objId,!0),ee(R.content),ee("endobj")}_t.publish("postPutAdditionalObjects")},fc=function(v){Mt[v.fontName]=Mt[v.fontName]||{},Mt[v.fontName][v.fontStyle]=v.id},ml=function(v,R,X,ie,ce){var we={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:v,fontName:R,fontStyle:X,encoding:ie,isStandardFont:ce||!1,metadata:{}};return _t.publish("addFont",{font:we,instance:this}),Ct[we.id]=we,fc(we),we.id},Jh=function(v){for(var R=0,X=Ee.length;R<X;R++){var ie=ml.call(this,v[R][0],v[R][1],v[R][2],Ee[R][3],!0);m===!1&&(g[ie]=!0);var ce=v[R][0].split("-");fc({id:ie,fontName:ce[0],fontStyle:ce[1]||""})}_t.publish("addFonts",{fonts:Ct,dictionary:Mt})},Yn=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ie){var R=ie.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var X="Error in function "+R.split(`
`)[0].split("<")[0]+": "+ie.message;if(!tt.console)throw new Error(X);tt.console.error(X,ie),tt.alert&&alert(X)}},v.foo.bar=v,v.foo},Ys=function(v,R){var X,ie,ce,we,Ne,Me,Ve,lt,st;if(ce=(R=R||{}).sourceEncoding||"Unicode",Ne=R.outputEncoding,(R.autoencode||Ne)&&Ct[dt].metadata&&Ct[dt].metadata[ce]&&Ct[dt].metadata[ce].encoding&&(we=Ct[dt].metadata[ce].encoding,!Ne&&Ct[dt].encoding&&(Ne=Ct[dt].encoding),!Ne&&we.codePages&&(Ne=we.codePages[0]),typeof Ne=="string"&&(Ne=we[Ne]),Ne)){for(Ve=!1,Me=[],X=0,ie=v.length;X<ie;X++)(lt=Ne[v.charCodeAt(X)])?Me.push(String.fromCharCode(lt)):Me.push(v[X]),Me[X].charCodeAt(0)>>8&&(Ve=!0);v=Me.join("")}for(X=v.length;Ve===void 0&&X!==0;)v.charCodeAt(X-1)>>8&&(Ve=!0),X--;if(!Ve)return v;for(Me=R.noBOM?[]:[254,255],X=0,ie=v.length;X<ie;X++){if((st=(lt=v.charCodeAt(X))>>8)>>8)throw new Error("Character at position "+X+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Me.push(st),Me.push(lt-(st<<8))}return String.fromCharCode.apply(void 0,Me)},tn=p.__private__.pdfEscape=p.pdfEscape=function(v,R){return Ys(v,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gl=p.__private__.beginPage=function(v){ke[++Gt]=[],at[Gt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},mc(Gt),ye(ke[B])},pc=function(v,R){var X,ie,ce;switch(r=R||r,typeof v=="string"&&(X=y(v.toLowerCase()),Array.isArray(X)&&(ie=X[0],ce=X[1])),Array.isArray(v)&&(ie=v[0]*Ie,ce=v[1]*Ie),isNaN(ie)&&(ie=i[0],ce=i[1]),(ie>14400||ce>14400)&&(Pt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),ce=Math.min(14400,ce)),i=[ie,ce],r.substr(0,1)){case"l":ce>ie&&(i=[ce,ie]);break;case"p":ie>ce&&(i=[ce,ie])}gl(i),xc(bl),ee(Qn),_l!==0&&ee(_l+" J"),Sl!==0&&ee(Sl+" j"),_t.publish("addPage",{pageNumber:Gt})},Yh=function(v){v>0&&v<=Gt&&(ke.splice(v,1),at.splice(v,1),Gt--,B>Gt&&(B=Gt),this.setPage(B))},mc=function(v){v>0&&v<=Gt&&(B=v)},Qh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ke.length-1},gc=function(v,R,X){var ie,ce=void 0;return X=X||{},v=v!==void 0?v:Ct[dt].fontName,R=R!==void 0?R:Ct[dt].fontStyle,ie=v.toLowerCase(),Mt[ie]!==void 0&&Mt[ie][R]!==void 0?ce=Mt[ie][R]:Mt[v]!==void 0&&Mt[v][R]!==void 0?ce=Mt[v][R]:X.disableWarning===!1&&Pt.warn("Unable to look up font label for font '"+v+"', '"+R+"'. Refer to getFontList() for available fonts."),ce||X.noFallback||(ce=Mt.times[R])==null&&(ce=Mt.times.normal),ce},Xh=p.__private__.putInfo=function(){var v=mr(),R=function(ie){return ie};for(var X in d!==null&&(R=Ir.encryptor(v,0)),ee("<<"),ee("/Producer ("+tn(R("jsPDF "+Ge.version))+")"),Je)Je.hasOwnProperty(X)&&Je[X]&&ee("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+tn(R(Je[X]))+")");ee("/CreationDate ("+tn(R(te))+")"),ee(">>"),ee("endobj")},vl=p.__private__.putCatalog=function(v){var R=(v=v||{}).rootDictionaryObjId||Di;switch(mr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+R+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+De;X.substr(X.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+K(De)+"]")}switch(We||(We="continuous"),We){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}ge&&ee("/PageMode /"+ge),_t.publish("putCatalog"),ee(">>"),ee("endobj")},Zh=p.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(Z+1)),ee("/Root "+Z+" 0 R"),ee("/Info "+(Z-1)+" 0 R"),d!==null&&ee("/Encrypt "+Ir.oid+" 0 R"),ee("/ID [ <"+H+"> <"+H+"> ]"),ee(">>")},ef=p.__private__.putHeader=function(){ee("%PDF-"+b),ee("%")},tf=p.__private__.putXRef=function(){var v="0000000000";ee("xref"),ee("0 "+(Z+1)),ee("0000000000 65535 f ");for(var R=1;R<=Z;R++)typeof ue[R]=="function"?ee((v+ue[R]()).slice(-10)+" 00000 n "):ue[R]!==void 0?ee((v+ue[R]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Mi=p.__private__.buildDocument=function(){Ke(),ye(he),_t.publish("buildDocument"),ef(),rs(),hc(),dc(),d!==null&&Vh(),Xh(),vl();var v=me;return tf(),Zh(),ee("startxref"),ee(""+v),ee("%%EOF"),ye(ke[B]),he.join(`
`)},Qs=p.__private__.getBlob=function(v){return new Blob([qe(v)],{type:"application/pdf"})},Xs=p.output=p.__private__.output=Yn(function(v,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",v){case void 0:return Mi();case"save":p.save(R.filename);break;case"arraybuffer":return qe(Mi());case"blob":return Qs(Mi());case"bloburi":case"bloburl":if(tt.URL!==void 0&&typeof tt.URL.createObjectURL=="function")return tt.URL&&tt.URL.createObjectURL(Qs(Mi()))||void 0;Pt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",ie=Mi();try{X=z0(ie)}catch{X=z0(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+R.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(tt)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(ce=R.pdfObjectUrl,we="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Me=tt.open();return Me!==null&&Me.document.write(Ne),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(tt)==="[object Window]"){var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',lt=tt.open();if(lt!==null){lt.document.write(Ve);var st=this;lt.document.documentElement.querySelector("#pdfViewer").onload=function(){lt.document.title=R.filename,lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(st.output("bloburl"))}}return lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Ut=tt.open();if(Ut!==null&&(Ut.document.write(gt),Ut.document.title=R.filename),Ut||typeof safari>"u")return Ut;break;case"datauri":case"dataurl":return tt.document.location.href=this.output("datauristring",R);default:return null}}),vc=function(v){return Array.isArray(ts)===!0&&ts.indexOf(v)>-1};switch(n){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=vc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ie=n}var Ir=null;de(),z();var rf=function(v){return d!==null?Ir.encryptor(v,0):function(R){return R}},yc=p.__private__.getPageInfo=p.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:at[v].objId,pageNumber:v,pageContext:at[v]}},it=p.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in at)if(at[R].objId===v)break;return yc(R)},nf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:at[B].objId,pageNumber:B,pageContext:at[B]}};p.addPage=function(){return pc.apply(this,arguments),this},p.setPage=function(){return mc.apply(this,arguments),ye.call(this,ke[B]),this},p.insertPage=function(v){return this.addPage(),this.movePage(B,v),this},p.movePage=function(v,R){var X,ie;if(v>R){X=ke[v],ie=at[v];for(var ce=v;ce>R;ce--)ke[ce]=ke[ce-1],at[ce]=at[ce-1];ke[R]=X,at[R]=ie,this.setPage(R)}else if(v<R){X=ke[v],ie=at[v];for(var we=v;we<R;we++)ke[we]=ke[we+1],at[we]=at[we+1];ke[R]=X,at[R]=ie,this.setPage(R)}return this},p.deletePage=function(){return Yh.apply(this,arguments),this},p.__private__.text=p.text=function(v,R,X,ie,ce){var we,Ne,Me,Ve,lt,st,gt,Ut,Kt,ur=(ie=ie||{}).scope||this;if(typeof v=="number"&&typeof R=="number"&&(typeof X=="string"||Array.isArray(X))){var Fr=X;X=R,R=v,v=Fr}if(arguments[3]instanceof Xe?(P("The transform parameter of text() with a Matrix value"),Kt=ce):(Me=arguments[4],Ve=arguments[5],kt(gt=arguments[3])==="object"&&gt!==null||(typeof Me=="string"&&(Ve=Me,Me=null),typeof gt=="string"&&(Ve=gt,gt=null),typeof gt=="number"&&(Me=gt,gt=null),ie={flags:gt,angle:Me,align:Ve})),isNaN(R)||isNaN(X)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return ur;var xr="",Xn=!1,pn=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:is,ki=ur.internal.scaleFactor;function Ec(Lt){return Lt=Lt.split("	").join(Array(ie.TabLen||9).join(" ")),tn(Lt,gt)}function Cl(Lt){for(var Tt,nr=Lt.concat(),gr=[],$i=nr.length;$i--;)typeof(Tt=nr.shift())=="string"?gr.push(Tt):Array.isArray(Lt)&&(Tt.length===1||Tt[1]===void 0&&Tt[2]===void 0)?gr.push(Tt[0]):gr.push([Tt[0],Tt[1],Tt[2]]);return gr}function Al(Lt,Tt){var nr;if(typeof Lt=="string")nr=Tt(Lt)[0];else if(Array.isArray(Lt)){for(var gr,$i,Dl=Lt.concat(),po=[],Tc=Dl.length;Tc--;)typeof(gr=Dl.shift())=="string"?po.push(Tt(gr)[0]):Array.isArray(gr)&&typeof gr[0]=="string"&&($i=Tt(gr[0],gr[1],gr[2]),po.push([$i[0],$i[1],$i[2]]));nr=po}return nr}var io=!1,Pl=!0;if(typeof v=="string")io=!0;else if(Array.isArray(v)){var Ll=v.concat();Ne=[];for(var ao,Er=Ll.length;Er--;)(typeof(ao=Ll.shift())!="string"||Array.isArray(ao)&&typeof ao[0]!="string")&&(Pl=!1);io=Pl}if(io===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var so=Pe/ur.internal.scaleFactor,oo=so*(pn-1);switch(ie.baseline){case"bottom":X-=oo;break;case"top":X+=so-oo;break;case"hanging":X+=so-2*oo;break;case"middle":X+=so/2-oo}if((st=ie.maxWidth||0)>0&&(typeof v=="string"?v=ur.splitTextToSize(v,st):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Lt,Tt){return Lt.concat(ur.splitTextToSize(Tt,st))},[]))),we={text:v,x:R,y:X,options:ie,mutex:{pdfEscape:tn,activeFontKey:dt,fonts:Ct,activeFontSize:Pe}},_t.publish("preProcessText",we),v=we.text,Me=(ie=we.options).angle,!(Kt instanceof Xe)&&Me&&typeof Me=="number"){Me*=Math.PI/180,ie.rotationDirection===0&&(Me=-Me),w===x.ADVANCED&&(Me=-Me);var lo=Math.cos(Me),Tl=Math.sin(Me);Kt=new Xe(lo,Tl,-Tl,lo,0,0)}else Me&&Me instanceof Xe&&(Kt=Me);w!==x.ADVANCED||Kt||(Kt=bi),(lt=ie.charSpace||to)!==void 0&&(xr+=L(C(lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ut=ie.horizontalScale)!==void 0&&(xr+=L(100*Ut)+` Tz
`),ie.lang;var rn=-1,pf=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,Rl=ur.internal.getCurrentPageInfo().pageContext;switch(pf){case 0:case!1:case"fill":rn=0;break;case 1:case!0:case"stroke":rn=1;break;case 2:case"fillThenStroke":rn=2;break;case 3:case"invisible":rn=3;break;case 4:case"fillAndAddForClipping":rn=4;break;case 5:case"strokeAndAddPathForClipping":rn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":rn=6;break;case 7:case"addToPathForClipping":rn=7}var Cc=Rl.usedRenderingMode!==void 0?Rl.usedRenderingMode:-1;rn!==-1?xr+=rn+` Tr
`:Cc!==-1&&(xr+=`0 Tr
`),rn!==-1&&(Rl.usedRenderingMode=rn),Ve=ie.align||"left";var Pn,uo=Pe*pn,Ac=ur.internal.pageSize.getWidth(),Pc=Ct[dt];lt=ie.charSpace||to,st=ie.maxWidth||0,gt=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var ha=[],os=function(Lt){return ur.getStringUnitWidth(Lt,{font:Pc,charSpace:lt,fontSize:Pe,doKerning:!1})*Pe/ki};if(Object.prototype.toString.call(v)==="[object Array]"){var nn;Ne=Cl(v),Ve!=="left"&&(Pn=Ne.map(os));var Gr,fa=0;if(Ve==="right"){R-=Pn[0],v=[],Er=Ne.length;for(var Ui=0;Ui<Er;Ui++)Ui===0?(Gr=Ni(R),nn=Bi(X)):(Gr=C(fa-Pn[Ui]),nn=-uo),v.push([Ne[Ui],Gr,nn]),fa=Pn[Ui]}else if(Ve==="center"){R-=Pn[0]/2,v=[],Er=Ne.length;for(var zi=0;zi<Er;zi++)zi===0?(Gr=Ni(R),nn=Bi(X)):(Gr=C((fa-Pn[zi])/2),nn=-uo),v.push([Ne[zi],Gr,nn]),fa=Pn[zi]}else if(Ve==="left"){v=[],Er=Ne.length;for(var co=0;co<Er;co++)v.push(Ne[co])}else if(Ve==="justify"&&Pc.encoding==="Identity-H"){v=[],Er=Ne.length,st=st!==0?st:Ac;for(var qi=0,rr=0;rr<Er;rr++)if(nn=rr===0?Bi(X):-uo,Gr=rr===0?Ni(R):qi,rr<Er-1){var Ol=C((st-Pn[rr])/(Ne[rr].split(" ").length-1)),Kr=Ne[rr].split(" ");v.push([Kr[0]+" ",Gr,nn]),qi=0;for(var Ln=1;Ln<Kr.length;Ln++){var ho=(os(Kr[Ln-1]+" "+Kr[Ln])-os(Kr[Ln]))*ki+Ol;Ln==Kr.length-1?v.push([Kr[Ln],ho,0]):v.push([Kr[Ln]+" ",ho,0]),qi-=ho}}else v.push([Ne[rr],Gr,nn]);v.push(["",qi,0])}else{if(Ve!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Er=Ne.length,st=st!==0?st:Ac,rr=0;rr<Er;rr++)nn=rr===0?Bi(X):-uo,Gr=rr===0?Ni(R):0,rr<Er-1?ha.push(L(C((st-Pn[rr])/(Ne[rr].split(" ").length-1)))):ha.push(0),v.push([Ne[rr],Gr,nn])}}var Lc=typeof ie.R2L=="boolean"?ie.R2L:He;Lc===!0&&(v=Al(v,function(Lt,Tt,nr){return[Lt.split("").reverse().join(""),Tt,nr]})),we={text:v,x:R,y:X,options:ie,mutex:{pdfEscape:tn,activeFontKey:dt,fonts:Ct,activeFontSize:Pe}},_t.publish("postProcessText",we),v=we.text,Xn=we.mutex.isHex||!1;var Il=Ct[dt].encoding;Il!=="WinAnsiEncoding"&&Il!=="StandardEncoding"||(v=Al(v,function(Lt,Tt,nr){return[Ec(Lt),Tt,nr]})),Ne=Cl(v),v=[];for(var ls,us,pa,cs=0,fo=1,ds=Array.isArray(Ne[0])?fo:cs,ma="",Fl=function(Lt,Tt,nr){var gr="";return nr instanceof Xe?(nr=typeof ie.angle=="number"?Vn(nr,new Xe(1,0,0,1,Lt,Tt)):Vn(new Xe(1,0,0,1,Lt,Tt),nr),w===x.ADVANCED&&(nr=Vn(new Xe(1,0,0,-1,0,0),nr)),gr=nr.join(" ")+` Tm
`):gr=L(Lt)+" "+L(Tt)+` Td
`,gr},Tn=0;Tn<Ne.length;Tn++){switch(ma="",ds){case fo:pa=(Xn?"<":"(")+Ne[Tn][0]+(Xn?">":")"),ls=parseFloat(Ne[Tn][1]),us=parseFloat(Ne[Tn][2]);break;case cs:pa=(Xn?"<":"(")+Ne[Tn]+(Xn?">":")"),ls=Ni(R),us=Bi(X)}ha!==void 0&&ha[Tn]!==void 0&&(ma=ha[Tn]+` Tw
`),Tn===0?v.push(ma+Fl(ls,us,Kt)+pa):ds===cs?v.push(ma+pa):ds===fo&&v.push(ma+Fl(ls,us,Kt)+pa)}v=ds===cs?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Rn=`BT
/`;return Rn+=dt+" "+Pe+` Tf
`,Rn+=L(Pe*pn)+` TL
`,Rn+=as+`
`,Rn+=xr,Rn+=v,ee(Rn+="ET"),g[dt]=!0,ur};var af=p.__private__.clip=p.clip=function(v){return ee(v==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return af("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ee("n"),this};var Si=p.__private__.isValidStyle=function(v){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(v){return Si(v)&&(c=v),this};var wc=p.__private__.getStyle=p.getStyle=function(v){var R=c;switch(v){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=v}return R},bc=p.close=function(){return ee("h"),this};p.stroke=function(){return ee("S"),this},p.fill=function(v){return Zs("f",v),this},p.fillEvenOdd=function(v){return Zs("f*",v),this},p.fillStroke=function(v){return Zs("B",v),this},p.fillStrokeEvenOdd=function(v){return Zs("B*",v),this};var Zs=function(v,R){kt(R)==="object"?of(R,v):ee(v)},yl=function(v){v===null||w===x.ADVANCED&&v===void 0||(v=wc(v),ee(v))};function sf(v,R,X,ie,ce){var we=new ks(R||this.boundingBox,X||this.xStep,ie||this.yStep,this.gState,ce||this.matrix);we.stream=this.stream;var Ne=v+"$$"+this.cloneIndex+++"$$";return en(Ne,we),we}var of=function(v,R){var X=es[v.key],ie=xt[X];if(ie instanceof Ra)ee("q"),ee(lf(R)),ie.gState&&p.setGState(ie.gState),ee(v.matrix.toString()+" cm"),ee("/"+X+" sh"),ee("Q");else if(ie instanceof ks){var ce=new Xe(1,0,0,-1,0,da());v.matrix&&(ce=ce.multiply(v.matrix||bi),X=sf.call(ie,v.key,v.boundingBox,v.xStep,v.yStep,ce).id),ee("q"),ee("/Pattern cs"),ee("/"+X+" scn"),ie.gState&&p.setGState(ie.gState),ee(R),ee("Q")}},lf=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wl=p.moveTo=function(v,R){return ee(L(C(v))+" "+L(W(R))+" m"),this},ns=p.lineTo=function(v,R){return ee(L(C(v))+" "+L(W(R))+" l"),this},ua=p.curveTo=function(v,R,X,ie,ce,we){return ee([L(C(v)),L(W(R)),L(C(X)),L(W(ie)),L(C(ce)),L(W(we)),"c"].join(" ")),this};p.__private__.line=p.line=function(v,R,X,ie,ce){if(isNaN(v)||isNaN(R)||isNaN(X)||isNaN(ie)||!Si(ce))throw new Error("Invalid arguments passed to jsPDF.line");return w===x.COMPAT?this.lines([[X-v,ie-R]],v,R,[1,1],ce||"S"):this.lines([[X-v,ie-R]],v,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(v,R,X,ie,ce,we){var Ne,Me,Ve,lt,st,gt,Ut,Kt,ur,Fr,xr,Xn;if(typeof v=="number"&&(Xn=X,X=R,R=v,v=Xn),ie=ie||[1,1],we=we||!1,isNaN(R)||isNaN(X)||!Array.isArray(v)||!Array.isArray(ie)||!Si(ce)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wl(R,X),Ne=ie[0],Me=ie[1],lt=v.length,Fr=R,xr=X,Ve=0;Ve<lt;Ve++)(st=v[Ve]).length===2?(Fr=st[0]*Ne+Fr,xr=st[1]*Me+xr,ns(Fr,xr)):(gt=st[0]*Ne+Fr,Ut=st[1]*Me+xr,Kt=st[2]*Ne+Fr,ur=st[3]*Me+xr,Fr=st[4]*Ne+Fr,xr=st[5]*Me+xr,ua(gt,Ut,Kt,ur,Fr,xr));return we&&bc(),yl(ce),this},p.path=function(v){for(var R=0;R<v.length;R++){var X=v[R],ie=X.c;switch(X.op){case"m":wl(ie[0],ie[1]);break;case"l":ns(ie[0],ie[1]);break;case"c":ua.apply(this,ie);break;case"h":bc()}}return this},p.__private__.rect=p.rect=function(v,R,X,ie,ce){if(isNaN(v)||isNaN(R)||isNaN(X)||isNaN(ie)||!Si(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return w===x.COMPAT&&(ie=-ie),ee([L(C(v)),L(W(R)),L(C(X)),L(C(ie)),"re"].join(" ")),yl(ce),this},p.__private__.triangle=p.triangle=function(v,R,X,ie,ce,we,Ne){if(isNaN(v)||isNaN(R)||isNaN(X)||isNaN(ie)||isNaN(ce)||isNaN(we)||!Si(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-v,ie-R],[ce-X,we-ie],[v-ce,R-we]],v,R,[1,1],Ne,!0),this},p.__private__.roundedRect=p.roundedRect=function(v,R,X,ie,ce,we,Ne){if(isNaN(v)||isNaN(R)||isNaN(X)||isNaN(ie)||isNaN(ce)||isNaN(we)||!Si(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*X),we=Math.min(we,.5*ie),this.lines([[X-2*ce,0],[ce*Me,0,ce,we-we*Me,ce,we],[0,ie-2*we],[0,we*Me,-ce*Me,we,-ce,we],[2*ce-X,0],[-ce*Me,0,-ce,-we*Me,-ce,-we],[0,2*we-ie],[0,-we*Me,ce*Me,-we,ce,-we]],v+ce,R,[1,1],Ne,!0),this},p.__private__.ellipse=p.ellipse=function(v,R,X,ie,ce){if(isNaN(v)||isNaN(R)||isNaN(X)||isNaN(ie)||!Si(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*X,Ne=4/3*(Math.SQRT2-1)*ie;return wl(v+X,R),ua(v+X,R-Ne,v+we,R-ie,v,R-ie),ua(v-we,R-ie,v-X,R-Ne,v-X,R),ua(v-X,R+Ne,v-we,R+ie,v,R+ie),ua(v+we,R+ie,v+X,R+Ne,v+X,R),yl(ce),this},p.__private__.circle=p.circle=function(v,R,X,ie){if(isNaN(v)||isNaN(R)||isNaN(X)||!Si(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,R,X,X,ie)},p.setFont=function(v,R,X){return X&&(R=F(R,X)),dt=gc(v,R,{disableWarning:!1}),this};var uf=p.__private__.getFont=p.getFont=function(){return Ct[gc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var v,R,X={};for(v in Mt)if(Mt.hasOwnProperty(v))for(R in X[v]=[],Mt[v])Mt[v].hasOwnProperty(R)&&X[v].push(R);return X},p.addFont=function(v,R,X,ie,ce){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(X=F(X,ie)),ce=ce||"Identity-H",ml.call(this,v,R,X,ce)};var is,bl=e.lineWidth||.200025,eo=p.__private__.getLineWidth=p.getLineWidth=function(){return bl},xc=p.__private__.setLineWidth=p.setLineWidth=function(v){return bl=v,ee(L(C(v))+" w"),this};p.__private__.setLineDash=Ge.API.setLineDash=Ge.API.setLineDashPattern=function(v,R){if(v=v||[],R=R||0,isNaN(R)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(X){return L(C(X))}).join(" "),R=L(C(R)),ee("["+v+"] "+R+" d"),this};var _c=p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*is};p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*is};var Sc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(is=v),this},Nc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return is};Sc(e.lineHeight);var Ni=p.__private__.getHorizontalCoordinate=function(v){return C(v)},Bi=p.__private__.getVerticalCoordinate=function(v){return w===x.ADVANCED?v:at[B].mediaBox.topRightY-at[B].mediaBox.bottomLeftY-C(v)},cf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(v){return L(Ni(v))},ca=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(v){return L(Bi(v))},Qn=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Kn(Qn)},p.__private__.setStrokeColor=p.setDrawColor=function(v,R,X,ie){return Qn=Jn({ch1:v,ch2:R,ch3:X,ch4:ie,pdfColorType:"draw",precision:2}),ee(Qn),this};var xl=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Kn(xl)},p.__private__.setFillColor=p.setFillColor=function(v,R,X,ie){return xl=Jn({ch1:v,ch2:R,ch3:X,ch4:ie,pdfColorType:"fill",precision:2}),ee(xl),this};var as=e.textColor||"0 g",df=p.__private__.getTextColor=p.getTextColor=function(){return Kn(as)};p.__private__.setTextColor=p.setTextColor=function(v,R,X,ie){return as=Jn({ch1:v,ch2:R,ch3:X,ch4:ie,pdfColorType:"text",precision:3}),this};var to=e.charSpace,hf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(to||0)};p.__private__.setCharSpace=p.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return to=v,this};var _l=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(v){var R=p.CapJoinStyles[v];if(R===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _l=R,ee(R+" J"),this};var Sl=0;p.__private__.setLineJoin=p.setLineJoin=function(v){var R=p.CapJoinStyles[v];if(R===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=R,ee(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(L(C(v))+" M"),this},p.GState=Yu,p.setGState=function(v){(v=typeof v=="string"?Vt[Wn[v]]:kc(null,v)).equals(Fi)||(ee("/"+v.id+" gs"),Fi=v)};var kc=function(v,R){if(!v||!Wn[v]){var X=!1;for(var ie in Vt)if(Vt.hasOwnProperty(ie)&&Vt[ie].equals(R)){X=!0;break}if(X)R=Vt[ie];else{var ce="GS"+(Object.keys(Vt).length+1).toString(10);Vt[ce]=R,R.id=ce}return v&&(Wn[v]=R.id),_t.publish("addGState",R),R}};p.addGState=function(v,R){return kc(v,R),this},p.saveGraphicsState=function(){return ee("q"),vi.push({key:dt,size:Pe,color:as}),this},p.restoreGraphicsState=function(){ee("Q");var v=vi.pop();return dt=v.key,Pe=v.size,as=v.color,Fi=null,this},p.setCurrentTransformationMatrix=function(v){return ee(v.toString()+" cm"),this},p.comment=function(v){return ee("#"+v),this};var ro=function(v,R){var X=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(we){isNaN(we)||(X=parseFloat(we))}});var ie=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(we){isNaN(we)||(ie=parseFloat(we))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(we){ce=we.toString()}}),this},Nl=function(v,R,X,ie){ro.call(this,v,R),this.type="rect";var ce=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Ne){isNaN(Ne)||(ce=parseFloat(Ne))}});var we=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(Ne){isNaN(Ne)||(we=parseFloat(Ne))}}),this},kl=function(){this.page=Gt,this.currentPage=B,this.pages=ke.slice(0),this.pagesContext=at.slice(0),this.x=Or,this.y=wt,this.matrix=Hn,this.width=ss(B),this.height=da(B),this.outputDestination=Te,this.id="",this.objectNumber=-1};kl.prototype.restore=function(){Gt=this.page,B=this.currentPage,at=this.pagesContext,ke=this.pages,Or=this.x,wt=this.y,Hn=this.matrix,jl(B,this.width),El(B,this.height),Te=this.outputDestination};var jc=function(v,R,X,ie,ce){wi.push(new kl),Gt=B=0,ke=[],Or=v,wt=R,Hn=ce,gl([X,ie])},ff=function(v){if(yi[v])wi.pop().restore();else{var R=new kl,X="Xo"+(Object.keys(jr).length+1).toString(10);R.id=X,yi[v]=X,jr[X]=R,_t.publish("addFormObject",R),wi.pop().restore()}};for(var no in p.beginFormObject=function(v,R,X,ie,ce){return jc(v,R,X,ie,ce),this},p.endFormObject=function(v){return ff(v),this},p.doFormObject=function(v,R){var X=jr[yi[v]];return ee("q"),ee(R.toString()+" cm"),ee("/"+X.id+" Do"),ee("Q"),this},p.getFormObject=function(v){var R=jr[yi[v]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(v,R){return v=v||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(ys(Qs(Mi()),v),typeof ys.unload=="function"&&tt.setTimeout&&setTimeout(ys.unload,911),this):new Promise(function(X,ie){try{var ce=ys(Qs(Mi()),v);typeof ys.unload=="function"&&tt.setTimeout&&setTimeout(ys.unload,911),X(ce)}catch(we){ie(we.message)}})},Ge.API)Ge.API.hasOwnProperty(no)&&(no==="events"&&Ge.API.events.length?function(v,R){var X,ie,ce;for(ce=R.length-1;ce!==-1;ce--)X=R[ce][0],ie=R[ce][1],v.subscribe.apply(v,[X].concat(typeof ie=="function"?[ie]:ie))}(_t,Ge.API.events):p[no]=Ge.API[no]);var ss=p.getPageWidth=function(v){return(at[v=v||B].mediaBox.topRightX-at[v].mediaBox.bottomLeftX)/Ie},jl=p.setPageWidth=function(v,R){at[v].mediaBox.topRightX=R*Ie+at[v].mediaBox.bottomLeftX},da=p.getPageHeight=function(v){return(at[v=v||B].mediaBox.topRightY-at[v].mediaBox.bottomLeftY)/Ie},El=p.setPageHeight=function(v,R){at[v].mediaBox.topRightY=R*Ie+at[v].mediaBox.bottomLeftY};return p.internal={pdfEscape:tn,getStyle:wc,getFont:uf,getFontSize:Oe,getCharSpace:hf,getTextColor:df,getLineHeight:_c,getLineHeightFactor:Nc,getLineWidth:eo,write:nt,getHorizontalCoordinate:Ni,getVerticalCoordinate:Bi,getCoordinateString:cf,getVerticalCoordinateString:ca,collections:{},newObject:mr,newAdditionalObject:$s,newObjectDeferred:lr,newObjectDeferredBegin:fn,getFilters:xi,putStream:An,events:_t,scaleFactor:Ie,pageSize:{getWidth:function(){return ss(B)},setWidth:function(v){jl(B,v)},getHeight:function(){return da(B)},setHeight:function(v){El(B,v)}},encryptionOptions:d,encryption:Ir,getEncryptor:rf,output:Xs,getNumberOfPages:Qh,pages:ke,out:ee,f2:K,f3:A,getPageInfo:yc,getPageInfoByObjId:it,getCurrentPageInfo:nf,getPDFVersion:S,Point:ro,Rectangle:Nl,Matrix:Xe,hasHotfix:vc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ss(B)},set:function(v){jl(B,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return da(B)},set:function(v){El(B,v)},enumerable:!0,configurable:!0}),Jh.call(p,Ee),dt="F1",pc(i,r),_t.publish("initialized"),p}Lo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Lo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lo.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Lo.prototype.processOwnerPassword=function(e,t){return $0(q0(t).substr(0,5),e)},Lo.prototype.encryptor=function(e,t){var r=q0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return $0(r,n)}},Yu.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||kt(e)!==kt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ge.API={events:[]},Ge.version="2.5.2";var Xt=Ge.API,ig=1,qs=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ot=function(e){return e.toFixed(2)},ka=function(e){return e.toFixed(5)};Xt.__acroform__={};var hn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},C2=function(e){return e*ig},Ci=function(e){var t=new aw,r=ze.internal.getHeight(e)||0,n=ze.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ot(n)),Number(ot(r))],t},Nk=Xt.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},kk=Xt.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},jk=Xt.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ar=Xt.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jk(e,t-1)},sr=Xt.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Nk(e,t-1)},or=Xt.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kk(e,t-1)},Ek=Xt.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],l=e[3],o={};return o.lowerLeft_X=r(i)||0,o.lowerLeft_Y=n(a+l)||0,o.upperRight_X=r(i+s)||0,o.upperRight_Y=n(a)||0,[Number(ot(o.lowerLeft_X)),Number(ot(o.lowerLeft_Y)),Number(ot(o.upperRight_X)),Number(ot(o.upperRight_Y))]},Ck=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=H0(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ot(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ci(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},H0=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var a=r,s=ze.internal.getHeight(e)||0;s=s<0?-s:s;var l=ze.internal.getWidth(e)||0;l=l<0?-l:l;var o=function(A,C,V){if(A+1<i.length){var W=C+" "+i[A+1][0];return _d(W,e,V).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var c,d,m=_d("3",e,a).height,g=e.multiline?s-a:(s-m)/2,p=g+=2,b=0,S=0,N=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+_d(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",x=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var j=!1;if(i[w].length!==1&&N!==i[w].length-1){if((m+2)*(x+2)+2>s)continue e;y+=i[w][N],j=!0,S=w,w--}else{y=(y+=i[w][N]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var O=parseInt(w),F=o(O,y,a),L=w>=i.length-1;if(F&&!L){y+=" ",N=0;continue}if(F||L){if(L)S=O;else if(e.multiline&&(m+2)*(x+2)+2>s)continue e}else{if(!e.multiline||(m+2)*(x+2)+2>s)continue e;S=O}}for(var P="",$=b;$<=S;$++){var K=i[$];if(e.multiline){if($===S){P+=K[N]+" ",N=(N+1)%K.length;continue}if($===b){P+=K[K.length-1]+" ";continue}}P+=K[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,d=_d(P,e,a).width,e.textAlign){case"right":c=l-d-2;break;case"center":c=(l-d)/2;break;case"left":default:c=2}t+=ot(c)+" "+ot(p)+` Td
`,t+="("+qs(P)+`) Tj
`,t+=-ot(c)+` 0 Td
`,p=-(a+2),d=0,b=j?S:S+1,x++,y=""}break}return n.text=t,n.fontSize=a,n},_d=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Ak={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Pk=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Lk=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),kt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},Tk=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(mi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ak)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ig=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new sw,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Pk(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],o=[],c=l.Rect;if(l.Rect&&(l.Rect=Ek(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ze.createDefaultAppearanceStream(l),kt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(o=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Ck(l);o.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var m="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var p=l.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var b=p[s];typeof b=="function"&&(b=b.call(i,l)),m+="/"+s+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(i,l)),m+="/"+s+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);m+=">>"}o.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:o,objectId:l.objId}),i.internal.out("endobj")}a&&Lk(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},iw=Xt.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),kt(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+qs(n(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kp=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+qs(n(e))+")"},Li=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Li.prototype.toString=function(){return this.objId+" 0 R"},Li.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Li.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:iw(i,this.objId,this.scope)}):i instanceof Li?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var aw=function(){Li.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};hn(aw,Li);var sw=function(){Li.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+qs(r(e))+")"}},set:function(r){e=r}})};hn(sw,Li);var mi=function e(){Li.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ar(t,3)},set:function(y){y?this.F=sr(t,3):this.F=or(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof fh)return;a="FieldObject"+e.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+qs(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var o=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ig:c},set:function(y){c=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof fh||this instanceof Wa))return kp(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof wr?g:kp(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof wr?y:y.substr(0,1)==="("?jo(y.substr(1,y.length-2)):jo(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wr?jo(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof wr?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof wr?p:kp(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof wr?y:y.substr(0,1)==="("?jo(y.substr(1,y.length-2)):jo(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wr?jo(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof wr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(y){y=!!y,S=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(y){b=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,1)},set:function(y){y?this.Ff=sr(this.Ff,1):this.Ff=or(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,2)},set:function(y){y?this.Ff=sr(this.Ff,2):this.Ff=or(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,3)},set:function(y){y?this.Ff=sr(this.Ff,3):this.Ff=or(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');N=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(N){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};hn(mi,Li);var Cs=function(){mi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return iw(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,l){l||(l=1);for(var o,c=[];o=s.exec(a);)c.push(o[l]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,18)},set:function(r){r?this.Ff=sr(this.Ff,18):this.Ff=or(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=sr(this.Ff,19):this.Ff=or(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,20)},set:function(r){r?(this.Ff=sr(this.Ff,20),t.sort()):this.Ff=or(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,22)},set:function(r){r?this.Ff=sr(this.Ff,22):this.Ff=or(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,23)},set:function(r){r?this.Ff=sr(this.Ff,23):this.Ff=or(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,27)},set:function(r){r?this.Ff=sr(this.Ff,27):this.Ff=or(this.Ff,27)}}),this.hasAppearanceStream=!1};hn(Cs,mi);var As=function(){Cs.call(this),this.fontName="helvetica",this.combo=!1};hn(As,Cs);var Ps=function(){As.call(this),this.combo=!0};hn(Ps,As);var bu=function(){Ps.call(this),this.edit=!0};hn(bu,Ps);var wr=function(){mi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,15)},set:function(r){r?this.Ff=sr(this.Ff,15):this.Ff=or(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,16)},set:function(r){r?this.Ff=sr(this.Ff,16):this.Ff=or(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,17)},set:function(r){r?this.Ff=sr(this.Ff,17):this.Ff=or(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,26)},set:function(r){r?this.Ff=sr(this.Ff,26):this.Ff=or(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+qs(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){kt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};hn(wr,mi);var xu=function(){wr.call(this),this.pushButton=!0};hn(xu,wr);var Ls=function(){wr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};hn(Ls,wr);var fh=function(){var e,t;mi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+qs(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){kt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hn(fh,mi),Ls.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ls.prototype.createOption=function(e){var t=new fh;return t.Parent=this,t.optionName=e,this.Kids.push(t),Rk.call(this.scope,t),t};var _u=function(){wr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ze.CheckBox.createAppearanceStream()};hn(_u,wr);var Wa=function(){mi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,13)},set:function(t){t?this.Ff=sr(this.Ff,13):this.Ff=or(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,21)},set:function(t){t?this.Ff=sr(this.Ff,21):this.Ff=or(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,23)},set:function(t){t?this.Ff=sr(this.Ff,23):this.Ff=or(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,24)},set:function(t){t?this.Ff=sr(this.Ff,24):this.Ff=or(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,25)},set:function(t){t?this.Ff=sr(this.Ff,25):this.Ff=or(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,26)},set:function(t){t?this.Ff=sr(this.Ff,26):this.Ff=or(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hn(Wa,mi);var Su=function(){Wa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,14)},set:function(e){e?this.Ff=sr(this.Ff,14):this.Ff=or(this.Ff,14)}}),this.password=!0};hn(Su,Wa);var ze={CheckBox:{createAppearanceStream:function(){return{N:{On:ze.CheckBox.YesNormal},D:{On:ze.CheckBox.YesPushDown,Off:ze.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ci(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=H0(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ot(ze.internal.getWidth(e))+" "+ot(ze.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ot(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ci(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=ze.internal.getHeight(e),s=ze.internal.getWidth(e),l=H0(e,e.caption);return i.push("1 g"),i.push("0 0 "+ot(s)+" "+ot(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ot(s-1)+" "+ot(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ot(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Ci(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ot(ze.internal.getWidth(e))+" "+ot(ze.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ze.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ze.RadioButton.Circle.YesNormal,t.D[e]=ze.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ci(e);t.scope=e.scope;var r=[],n=ze.internal.getWidth(e)<=ze.internal.getHeight(e)?ze.internal.getWidth(e)/4:ze.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=ze.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ka(ze.internal.getWidth(e)/2)+" "+ka(ze.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ci(e);t.scope=e.scope;var r=[],n=ze.internal.getWidth(e)<=ze.internal.getHeight(e)?ze.internal.getWidth(e)/4:ze.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ze.internal.Bezier_C).toFixed(5)),s=Number((n*ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ka(ze.internal.getWidth(e)/2)+" "+ka(ze.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ka(ze.internal.getWidth(e)/2)+" "+ka(ze.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ci(e);t.scope=e.scope;var r=[],n=ze.internal.getWidth(e)<=ze.internal.getHeight(e)?ze.internal.getWidth(e)/4:ze.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ka(ze.internal.getWidth(e)/2)+" "+ka(ze.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ze.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ze.RadioButton.Cross.YesNormal,t.D[e]=ze.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ci(e);t.scope=e.scope;var r=[],n=ze.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ot(ze.internal.getWidth(e)-2)+" "+ot(ze.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ot(n.x1.x)+" "+ot(n.x1.y)+" m"),r.push(ot(n.x2.x)+" "+ot(n.x2.y)+" l"),r.push(ot(n.x4.x)+" "+ot(n.x4.y)+" m"),r.push(ot(n.x3.x)+" "+ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ci(e);t.scope=e.scope;var r=ze.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ot(ze.internal.getWidth(e))+" "+ot(ze.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ot(ze.internal.getWidth(e)-2)+" "+ot(ze.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ot(r.x1.x)+" "+ot(r.x1.y)+" m"),n.push(ot(r.x2.x)+" "+ot(r.x2.y)+" l"),n.push(ot(r.x4.x)+" "+ot(r.x4.y)+" m"),n.push(ot(r.x3.x)+" "+ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ci(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ot(ze.internal.getWidth(e))+" "+ot(ze.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ze.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ze.internal.getWidth(e),r=ze.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ze.internal.getWidth=function(e){var t=0;return kt(e)==="object"&&(t=C2(e.Rect[2])),t},ze.internal.getHeight=function(e){var t=0;return kt(e)==="object"&&(t=C2(e.Rect[3])),t};var Rk=Xt.addField=function(e){if(Tk(this,e),!(e instanceof mi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Xt.AcroFormChoiceField=Cs,Xt.AcroFormListBox=As,Xt.AcroFormComboBox=Ps,Xt.AcroFormEditBox=bu,Xt.AcroFormButton=wr,Xt.AcroFormPushButton=xu,Xt.AcroFormRadioButton=Ls,Xt.AcroFormCheckBox=_u,Xt.AcroFormTextField=Wa,Xt.AcroFormPasswordField=Su,Xt.AcroFormAppearance=ze,Xt.AcroForm={ChoiceField:Cs,ListBox:As,ComboBox:Ps,EditBox:bu,Button:wr,PushButton:xu,RadioButton:Ls,CheckBox:_u,TextField:Wa,PasswordField:Su,Appearance:ze},Ge.AcroForm={ChoiceField:Cs,ListBox:As,ComboBox:Ps,EditBox:bu,Button:wr,PushButton:xu,RadioButton:Ls,CheckBox:_u,TextField:Wa,PasswordField:Su,Appearance:ze};var Ok=Ge.AcroForm;function ow(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(A,C){var V,W,te,H,J,z=t;if((C=C||t)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(F(A))for(J in r)for(te=r[J],V=0;V<te.length;V+=1){for(H=!0,W=0;W<te[V].length;W+=1)if(te[V][W]!==void 0&&te[V][W]!==A[W]){H=!1;break}if(H===!0){z=J;break}}else for(J in r)for(te=r[J],V=0;V<te.length;V+=1){for(H=!0,W=0;W<te[V].length;W+=1)if(te[V][W]!==void 0&&te[V][W]!==A.charCodeAt(W)){H=!1;break}if(H===!0){z=J;break}}return z===t&&C!==t&&(z=C),z},i=function A(C){for(var V=this.internal.write,W=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:C.width}),H.push({key:"Height",value:C.height}),C.colorSpace===N.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===N.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var J="",z=0,G=C.transparency.length;z<G;z++)J+=C.transparency[z]+" "+C.transparency[z]+" ";H.push({key:"Mask",value:"["+J+"]"})}C.sMask!==void 0&&H.push({key:"SMask",value:C.objectId+1+" 0 R"});var re=C.filter!==void 0?["/"+C.filter]:void 0;if(W({data:C.data,additionalKeyValues:H,alreadyAppliedFilters:re,objectId:C.objectId}),V("endobj"),"sMask"in C&&C.sMask!==void 0){var de="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,E={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:de,data:C.sMask};"filter"in C&&(E.filter=C.filter),A.call(this,E)}if(C.colorSpace===N.INDEXED){var B=this.internal.newObject();W({data:P(new Uint8Array(C.palette)),objectId:B}),V("endobj")}},a=function(){var A=this.internal.collections.addImage_images;for(var C in A)i.call(this,A[C])},s=function(){var A,C=this.internal.collections.addImage_images,V=this.internal.write;for(var W in C)V("/I"+(A=C[W]).index,A.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},o=function(){var A=this.internal.collections.addImage_images;return l.call(this),A},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(A){return typeof e["process"+A.toUpperCase()]=="function"},m=function(A){return kt(A)==="object"&&A.nodeType===1},g=function(A,C){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var V=""+A.getAttribute("src");if(V.indexOf("data:image/")===0)return wu(unescape(V).split("base64,").pop());var W=e.loadFile(V,!0);if(W!==void 0)return W}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var te;switch(C){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;case"JPEG":case"JPG":default:te="image/jpeg"}return wu(A.toDataURL(te,1).split("base64,").pop())}},p=function(A){var C=this.internal.collections.addImage_images;if(C){for(var V in C)if(A===C[V].alias)return C[V]}},b=function(A,C,V){return A||C||(A=-96,C=-96),A<0&&(A=-1*V.width*72/A/this.internal.scaleFactor),C<0&&(C=-1*V.height*72/C/this.internal.scaleFactor),A===0&&(A=C*V.width/V.height),C===0&&(C=A*V.height/V.width),[A,C]},S=function(A,C,V,W,te,H){var J=b.call(this,V,W,te),z=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,re=o.call(this);if(V=J[0],W=J[1],re[te.index]=te,H){H*=Math.PI/180;var de=Math.cos(H),E=Math.sin(H),B=function(Q){return Q.toFixed(4)},q=[B(de),B(E),B(-1*E),B(de),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,z(A),G(C+W),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([z(V),"0","0",z(W),"0","0","cm"].join(" "))):this.internal.write([z(V),"0","0",z(W),z(A),G(C+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(A){var C,V,W=0;if(typeof A=="string")for(V=A.length,C=0;C<V;C++)W=(W<<5)-W+A.charCodeAt(C),W|=0;else if(F(A))for(V=A.byteLength/2,C=0;C<V;C++)W=(W<<5)-W+A[C],W|=0;return W},w=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var C=!0;return A.length===0&&(C=!1),A.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(C=!1),C},j=e.__addimage__.extractImageFromDataUrl=function(A){var C=(A=A||"").split("base64,"),V=null;if(C.length===2){var W=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(W)&&(V={mimeType:W[1],charset:W[2],data:C[1]})}return V},O=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(A){return O()&&A instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(A){return O()&&typeof Uint32Array<"u"&&(A instanceof Int8Array||A instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array)},L=e.__addimage__.binaryStringToUint8Array=function(A){for(var C=A.length,V=new Uint8Array(C),W=0;W<C;W++)V[W]=A.charCodeAt(W);return V},P=e.__addimage__.arrayBufferToBinaryString=function(A){for(var C="",V=F(A)?A:new Uint8Array(A),W=0;W<V.length;W+=8192)C+=String.fromCharCode.apply(null,V.subarray(W,W+8192));return C};e.addImage=function(){var A,C,V,W,te,H,J,z,G;if(typeof arguments[1]=="number"?(C=t,V=arguments[1],W=arguments[2],te=arguments[3],H=arguments[4],J=arguments[5],z=arguments[6],G=arguments[7]):(C=arguments[1],V=arguments[2],W=arguments[3],te=arguments[4],H=arguments[5],J=arguments[6],z=arguments[7],G=arguments[8]),kt(A=arguments[0])==="object"&&!m(A)&&"imageData"in A){var re=A;A=re.imageData,C=re.format||C||t,V=re.x||V||0,W=re.y||W||0,te=re.w||re.width||te,H=re.h||re.height||H,J=re.alias||J,z=re.compression||z,G=re.rotation||re.angle||G}var de=this.internal.getFilters();if(z===void 0&&de.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(V)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var E=$.call(this,A,C,J,z);return S.call(this,V,W,te,H,E,G),this};var $=function(A,C,V,W){var te,H,J;if(typeof A=="string"&&n(A)===t){A=unescape(A);var z=K(A,!1);(z!==""||(z=e.loadFile(A,!0))!==void 0)&&(A=z)}if(m(A)&&(A=g(A,C)),C=n(A,C),!d(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((J=V)==null||J.length===0)&&(V=function(G){return typeof G=="string"||F(G)?x(G):F(G.data)?x(G.data):null}(A)),(te=p.call(this,V))||(O()&&(A instanceof Uint8Array||C==="RGBA"||(H=A,A=L(A))),te=this["process"+C.toUpperCase()](A,c.call(this),V,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:y.NONE}(W),H)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},K=e.__addimage__.convertBase64ToBinaryString=function(A,C){var V;C=typeof C!="boolean"||C;var W,te="";if(typeof A=="string"){W=(V=j(A))!==null?V.data:A;try{te=wu(W)}catch(H){if(C)throw w(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};e.getImageProperties=function(A){var C,V,W="";if(m(A)&&(A=g(A)),typeof A=="string"&&n(A)===t&&((W=K(A,!1))===""&&(W=e.loadFile(A)||""),A=W),V=n(A),!d(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!O()||A instanceof Uint8Array||(A=L(A)),!(C=this["process"+V.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=V,C}})(Ge.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ge.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,m=0;m<c.length&&!d;m++)switch((n=c[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){n=c[g];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(S.objId),x=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",a+=" /Popup "+N.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+p(y(x))+") >>",S.content=a;var w=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",N.content=a,this.internal.write(S.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var F=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var l=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:o(r),y:c(n),w:o(r+i),h:c(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,l,o=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(r,l).length;s=Math.ceil(c*d)}else l=o,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=o/2),a.align==="right"&&(n-=o),this.link(n,i-c,l,s,a),o},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ge.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=e.__arabicParser__.isArabicEndLetter=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length<=2},o=e.__arabicParser__.isArabicAlfLetter=function(S){return s(S)&&i.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return s(S)&&a(S)&&t[S.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(S){var N=0,y=r,x="",w=0;for(N=0;N<S.length;N+=1)y[S.charCodeAt(N)]!==void 0?(w++,typeof(y=y[S.charCodeAt(N)])=="number"&&(x+=String.fromCharCode(y),y=r,w=0),N===S.length-1&&(y=r,x+=S.charAt(N-(w-1)),N-=w-1,w=0)):(y=r,x+=S.charAt(N-w),N-=w,w=0);return x};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(S,N,y){return s(S)?a(S)===!1?-1:!c(S)||!s(N)&&!s(y)||!s(y)&&l(N)||l(S)&&!s(N)||l(S)&&o(N)||l(S)&&l(N)?0:d(S)&&s(N)&&!l(N)&&s(y)&&c(y)?3:l(S)||!s(y)?1:2:-1},p=function(S){var N=0,y=0,x=0,w="",j="",O="",F=(S=S||"").split("\\s+"),L=[];for(N=0;N<F.length;N+=1){for(L.push(""),y=0;y<F[N].length;y+=1)w=F[N][y],j=F[N][y-1],O=F[N][y+1],s(w)?(x=g(w,j,O),L[N]+=x!==-1?String.fromCharCode(t[w.charCodeAt(0)][x]):w):L[N]+=w;L[N]=m(L[N])}return L.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var S,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(N)){var x=0;for(y=[],x=0;x<N.length;x+=1)Array.isArray(N[x])?y.push([p(N[x][0]),N[x][1],N[x][2]]):y.push([p(N[x])]);S=y}else S=p(N);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",b])}(Ge.API),Ge.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ge.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var o=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return o},set:function(S){o=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(S){b=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(o){return n.call(this),this.internal.__cell__.headerFunction=typeof o=="function"?o:void 0,this},e.getTextDimensions=function(o,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),m=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,p=0,b=0,S=0,N=this;if(!Array.isArray(o)&&typeof o!="string"){if(typeof o!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");o=String(o)}var y=c.maxWidth;y>0?typeof o=="string"?o=this.splitTextToSize(o,y):Object.prototype.toString.call(o)==="[object Array]"&&(o=o.reduce(function(w,j){return w.concat(N.splitTextToSize(j,y))},[])):o=Array.isArray(o)?o:[o];for(var x=0;x<o.length;x++)p<(S=this.getStringUnitWidth(o[x],{font:m})*d)&&(p=S);return p!==0&&(b=o.length),{w:p/=g,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var o=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(o.left,o.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var o;o=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===o.lineNumber?(o.x=(c.x||0)+(c.width||0),o.y=c.y||0):c.y+c.height+o.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),o.y=m.top,p&&g&&(this.printHeaderRow(o.lineNumber,!0),o.y+=g[0].height)):o.y=c.y+c.height||o.y),o.text[0]!==void 0&&(this.rect(o.x,o.y,o.width,o.height,r===!0?"FD":void 0),o.align==="right"?this.text(o.text,o.x+o.width-d,o.y+d,{align:"right",baseline:"top"}):o.align==="center"?this.text(o.text,o.x+o.width/2,o.y+d,{align:"center",baseline:"top",maxWidth:o.width-d-d}):this.text(o.text,o.x+d,o.y+d,{align:"left",baseline:"top",maxWidth:o.width-d-d})),this.internal.__cell__.lastCell=o,this};e.table=function(o,c,d,m,g){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,b,S,N,y=[],x=[],w=[],j={},O={},F=[],L=[],P=(g=g||{}).autoSize||!1,$=g.printHeaders!==!1,K=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,A=g.margins||Object.assign({width:this.getPageWidth()},t),C=typeof g.padding=="number"?g.padding:3,V=g.headerBackgroundColor||"#c8c8c8",W=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=W,this.setFontSize(K),m==null)x=y=Object.keys(d[0]),w=y.map(function(){return"left"});else if(Array.isArray(m)&&kt(m[0])==="object")for(y=m.map(function(re){return re.name}),x=m.map(function(re){return re.prompt||re.name||""}),w=m.map(function(re){return re.align||"left"}),p=0;p<m.length;p+=1)O[m[p].name]=m[p].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(x=y=m,w=y.map(function(){return"left"}));if(P||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<y.length;p+=1){for(j[N=y[p]]=d.map(function(re){return re[N]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=j[N],this.setFont(void 0,"normal"),S=0;S<b.length;S+=1)F.push(this.getTextDimensions(b[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[N]=Math.max.apply(null,F)+C+C,F=[]}if($){var te={};for(p=0;p<y.length;p+=1)te[y[p]]={},te[y[p]].text=x[p],te[y[p]].align=w[p];var H=l.call(this,te,O);L=y.map(function(re){return new a(o,c,O[re],H,te[re].text,void 0,te[re].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var J=m.reduce(function(re,de){return re[de.name]=de.align,re},{});for(p=0;p<d.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:d[p]},this);var z=l.call(this,d[p],O);for(S=0;S<y.length;S+=1){var G=d[p][y[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:S,data:G},this),s.call(this,new a(o,c,O[y[S]],z,G,p+2,J[y[S]]))}}return this.internal.__cell__.table_x=o,this.internal.__cell__.table_y=c,this};var l=function(o,c){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(o).map(function(p){var b=o[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/g+d+d},this).reduce(function(p,b){return Math.max(p,b)},0)};e.setTableHeaderRow=function(o){n.call(this),this.internal.__cell__.tableHeaderRow=o},e.printHeaderRow=function(o,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=o;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(Ge.API);var lw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},uw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W0=ow(uw),cw=[100,200,300,400,500,600,700,800,900],Ik=ow(cw);function V0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return lw[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof W0[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function A2(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var Fk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},P2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function L2(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Dk(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},Fk,r.genericFontFamilies||{}),a=null,s=null,l=0;l<t.length;++l)if(i[(a=V0(t[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+L2(a)+"' and default family '"+n+"'.");if(s=function(o,c){if(c[o])return c[o];var d=W0[o],m=d<=W0.normal?-1:1,g=A2(c,uw,d,m);if(!g)throw new Error("Could not find a matching font-stretch value for "+o);return g}(a.stretch,s),s=function(o,c){if(c[o])return c[o];for(var d=lw[o],m=0;m<d.length;++m)if(c[d[m]])return c[d[m]];throw new Error("Could not find a matching font-style for "+o)}(a.style,s),!(s=function(o,c){if(c[o])return c[o];if(o===400&&c[500])return c[500];if(o===500&&c[400])return c[400];var d=Ik[o],m=A2(c,cw,d,o<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+o);return m}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+L2(a)+"'.");return s}function T2(e){return e.trimLeft()}function Mk(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Bk(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Sd,R2,O2,jp=["times"];(function(e){var t,r,n,i,a,s,l,o,c,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new o,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new s,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new s,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,o=this.internal.Matrix,c=new d}]);var m=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=E;Object.defineProperty(this,"pdf",{get:function(){return B}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ye){q=!!ye}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ye){isNaN(ye)||(Z=ye)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(ye){isNaN(ye)||(ue=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var ee;typeof ye=="number"?ee=[ye,ye,ye,ye]:((ee=new Array(4))[0]=ye[0],ee[1]=ye.length>=2?ye[1]:ee[0],ee[2]=ye.length>=3?ye[2]:ee[0],ee[3]=ye.length>=4?ye[3]:ee[1]),c.margin=ee}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ye){he=ye}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(ye){me=ye}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(ye){je=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof d&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ye){ke=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ee;ee=g(ye),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ee=g(ye);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Ae=null;function Te(ye,ee){if(Ae===null){var nt=function(qe){var Ee=[];return Object.keys(qe).forEach(function(Pe){qe[Pe].forEach(function(De){var Oe=null;switch(De){case"bold":Oe={family:Pe,weight:"bold"};break;case"italic":Oe={family:Pe,style:"italic"};break;case"bolditalic":Oe={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Pe}}Oe!==null&&(Oe.ref={name:Pe,style:De},Ee.push(Oe))})}),Ee}(ye.getFontList());Ae=function(qe){for(var Ee={},Pe=0;Pe<qe.length;++Pe){var De=V0(qe[Pe]),Oe=De.family,He=De.stretch,ge=De.style,Le=De.weight;Ee[Oe]=Ee[Oe]||{},Ee[Oe][He]=Ee[Oe][He]||{},Ee[Oe][He][ge]=Ee[Oe][He][ge]||{},Ee[Oe][He][ge][Le]=De}return Ee}(nt.concat(ee))}return Ae}var Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(ye){Ae=null,Ke=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ee;if(this.ctx.font=ye,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var nt=ee[1],qe=(ee[2],ee[3]),Ee=ee[4],Pe=(ee[5],ee[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(De==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var Oe=function(Je){var dt,Ie,Or=[],wt=Je.trim();if(wt==="")return jp;if(wt in P2)return[P2[wt]];for(;wt!=="";){switch(Ie=null,dt=(wt=T2(wt)).charAt(0)){case'"':case"'":Ie=Mk(wt.substring(1),dt);break;default:Ie=Bk(wt)}if(Ie===null||(Or.push(Ie[0]),(wt=T2(Ie[1]))!==""&&wt.charAt(0)!==","))return jp;wt=wt.replace(/^,/,"")}return Or}(Pe);if(this.fontFaces){var He=Dk(Te(this.pdf,this.fontFaces),Oe.map(function(Je){return{family:Je,stretch:"normal",weight:qe,style:nt}}));this.pdf.setFont(He.ref.name,He.ref.style)}else{var ge="";(qe==="bold"||parseInt(qe,10)>=700||nt==="bold")&&(ge="bold"),nt==="italic"&&(ge+="italic"),ge.length===0&&(ge="normal");for(var Le="",We={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<Oe.length;Qe++){if(this.pdf.internal.getFont(Oe[Qe],ge,{noFallback:!0,disableWarning:!0})!==void 0){Le=Oe[Qe];break}if(ge==="bolditalic"&&this.pdf.internal.getFont(Oe[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Le=Oe[Qe],ge="bold";else if(this.pdf.internal.getFont(Oe[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Le=Oe[Qe],ge="normal";break}}if(Le===""){for(var ct=0;ct<Oe.length;ct++)if(We[Oe[ct]]){Le=We[Oe[ct]];break}}Le=Le===""?"Times":Le,this.pdf.setFont(Le,ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};m.prototype.setLineDash=function(E){this.lineDash=E},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){j.call(this,"fill",!1)},m.prototype.stroke=function(){j.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(E,B){if(isNaN(E)||isNaN(B))throw Pt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(E,B));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(E,B)},m.prototype.closePath=function(){var E=new s(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&kt(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){E=new s(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(E.x,E.y)},m.prototype.lineTo=function(E,B){if(isNaN(E)||isNaN(B))throw Pt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(E,B));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},m.prototype.quadraticCurveTo=function(E,B,q,Q){if(isNaN(q)||isNaN(Q)||isNaN(E)||isNaN(B))throw Pt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new s(q,Q)),ue=this.ctx.transform.applyToPoint(new s(E,B));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},m.prototype.bezierCurveTo=function(E,B,q,Q,Z,ue){if(isNaN(Z)||isNaN(ue)||isNaN(E)||isNaN(B)||isNaN(q)||isNaN(Q))throw Pt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new s(Z,ue)),me=this.ctx.transform.applyToPoint(new s(E,B)),je=this.ctx.transform.applyToPoint(new s(q,Q));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:je.x,y2:je.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},m.prototype.arc=function(E,B,q,Q,Z,ue){if(isNaN(E)||isNaN(B)||isNaN(q)||isNaN(Q)||isNaN(Z))throw Pt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new s(E,B));E=he.x,B=he.y;var me=this.ctx.transform.applyToPoint(new s(0,q)),je=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(me.x-je.x,2)+Math.pow(me.y-je.y,2))}Math.abs(Z-Q)>=2*Math.PI&&(Q=0,Z=2*Math.PI),this.path.push({type:"arc",x:E,y:B,radius:q,startAngle:Q,endAngle:Z,counterclockwise:ue})},m.prototype.arcTo=function(E,B,q,Q,Z){throw new Error("arcTo not implemented.")},m.prototype.rect=function(E,B,q,Q){if(isNaN(E)||isNaN(B)||isNaN(q)||isNaN(Q))throw Pt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,B),this.lineTo(E+q,B),this.lineTo(E+q,B+Q),this.lineTo(E,B+Q),this.lineTo(E,B),this.lineTo(E+q,B),this.lineTo(E,B)},m.prototype.fillRect=function(E,B,q,Q){if(isNaN(E)||isNaN(B)||isNaN(q)||isNaN(Q))throw Pt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,B,q,Q),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},m.prototype.strokeRect=function(E,B,q,Q){if(isNaN(E)||isNaN(B)||isNaN(q)||isNaN(Q))throw Pt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(E,B,q,Q),this.stroke())},m.prototype.clearRect=function(E,B,q,Q){if(isNaN(E)||isNaN(B)||isNaN(q)||isNaN(Q))throw Pt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,B,q,Q))},m.prototype.save=function(E){E=typeof E!="boolean"||E;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},m.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(B),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(E){var B,q,Q,Z;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))B=0,q=0,Q=0,Z=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ue!==null)B=parseInt(ue[1]),q=parseInt(ue[2]),Q=parseInt(ue[3]),Z=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)B=parseInt(ue[1]),q=parseInt(ue[2]),Q=parseInt(ue[3]),Z=parseFloat(ue[4]);else{if(Z=1,typeof E=="string"&&E.charAt(0)!=="#"){var he=new tw(E);E=he.ok?he.toHex():"#000000"}E.length===4?(B=E.substring(1,2),B+=B,q=E.substring(2,3),q+=q,Q=E.substring(3,4),Q+=Q):(B=E.substring(1,3),q=E.substring(3,5),Q=E.substring(5,7)),B=parseInt(B,16),q=parseInt(q,16),Q=parseInt(Q,16)}}return{r:B,g:q,b:Q,a:Z,style:E}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(E,B,q,Q){if(isNaN(B)||isNaN(q)||typeof E!="string")throw Pt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!p.call(this)){var Z=z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;C.call(this,{text:E,x:B,y:q,scale:ue,angle:Z,align:this.textAlign,maxWidth:Q})}},m.prototype.strokeText=function(E,B,q,Q){if(isNaN(B)||isNaN(q)||typeof E!="string")throw Pt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Q=isNaN(Q)?void 0:Q;var Z=z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;C.call(this,{text:E,x:B,y:q,scale:ue,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:Q})}},m.prototype.measureText=function(E){if(typeof E!="string")throw Pt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,q=this.pdf.internal.scaleFactor,Q=B.internal.getFontSize(),Z=B.getStringUnitWidth(E)*Q/B.internal.scaleFactor,ue=function(he){var me=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new ue({width:Z*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(E,B){if(isNaN(E)||isNaN(B))throw Pt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new o(E,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(E){if(isNaN(E))throw Pt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new o(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},m.prototype.translate=function(E,B){if(isNaN(E)||isNaN(B))throw Pt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new o(1,0,0,1,E,B);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(E,B,q,Q,Z,ue){if(isNaN(E)||isNaN(B)||isNaN(q)||isNaN(Q)||isNaN(Z)||isNaN(ue))throw Pt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new o(E,B,q,Q,Z,ue);this.ctx.transform=this.ctx.transform.multiply(he)},m.prototype.setTransform=function(E,B,q,Q,Z,ue){E=isNaN(E)?1:E,B=isNaN(B)?0:B,q=isNaN(q)?0:q,Q=isNaN(Q)?1:Q,Z=isNaN(Z)?0:Z,ue=isNaN(ue)?0:ue,this.ctx.transform=new o(E,B,q,Q,Z,ue)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(E,B,q,Q,Z,ue,he,me,je){var ke=this.pdf.getImageProperties(E),Ae=1,Te=1,Ke=1,ye=1;Q!==void 0&&me!==void 0&&(Ke=me/Q,ye=je/Z,Ae=ke.width/Q*me/Q,Te=ke.height/Z*je/Z),ue===void 0&&(ue=B,he=q,B=0,q=0),Q!==void 0&&me===void 0&&(me=Q,je=Z),Q===void 0&&me===void 0&&(me=ke.width,je=ke.height);for(var ee,nt=this.ctx.transform.decompose(),qe=z(nt.rotate.shx),Ee=new o,Pe=(Ee=(Ee=(Ee=Ee.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new l(ue-B*Ke,he-q*ye,Q*Ae,Z*Te)),De=N.call(this,Pe),Oe=[],He=0;He<De.length;He+=1)Oe.indexOf(De[He])===-1&&Oe.push(De[He]);if(w(Oe),this.autoPaging)for(var ge=Oe[0],Le=Oe[Oe.length-1],We=ge;We<Le+1;We++){this.pdf.setPage(We);var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=We===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=We===1?0:Je+(We-2)*dt;if(this.ctx.clip_path.length!==0){var Or=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ee,this.posX+this.margin[3],-Ie+ct+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Or}var wt=JSON.parse(JSON.stringify(Pe));wt=x([wt],this.posX+this.margin[3],-Ie+ct+this.ctx.prevPageLastElemOffset)[0];var Hn=(We>ge||We<Le)&&S.call(this);Hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,dt,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,qe),Hn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,qe)};var N=function(E,B,q){var Q=[];B=B||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":Q.push(Math.floor((E.y+Z)/q)+1);break;case"arc":Q.push(Math.floor((E.y+Z-E.radius)/q)+1),Q.push(Math.floor((E.y+Z+E.radius)/q)+1);break;case"qct":var ue=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);Q.push(Math.floor((ue.y+Z)/q)+1),Q.push(Math.floor((ue.y+ue.h+Z)/q)+1);break;case"bct":var he=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);Q.push(Math.floor((he.y+Z)/q)+1),Q.push(Math.floor((he.y+he.h+Z)/q)+1);break;case"rect":Q.push(Math.floor((E.y+Z)/q)+1),Q.push(Math.floor((E.y+E.h+Z)/q)+1)}for(var me=0;me<Q.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<Q[me];)y.call(this);return Q},y=function(){var E=this.fillStyle,B=this.strokeStyle,q=this.font,Q=this.lineCap,Z=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=B,this.font=q,this.lineCap=Q,this.lineWidth=Z,this.lineJoin=ue},x=function(E,B,q){for(var Q=0;Q<E.length;Q++)switch(E[Q].type){case"bct":E[Q].x2+=B,E[Q].y2+=q;case"qct":E[Q].x1+=B,E[Q].y1+=q;case"mt":case"lt":case"arc":default:E[Q].x+=B,E[Q].y+=q}return E},w=function(E){return E.sort(function(B,q){return B-q})},j=function(E,B){for(var q,Q,Z=this.fillStyle,ue=this.strokeStyle,he=this.lineCap,me=this.lineWidth,je=Math.abs(me*this.ctx.transform.scaleX),ke=this.lineJoin,Ae=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Ke=[],ye=0;ye<Te.length;ye++)if(Te[ye].x!==void 0)for(var ee=N.call(this,Te[ye]),nt=0;nt<ee.length;nt+=1)Ke.indexOf(ee[nt])===-1&&Ke.push(ee[nt]);for(var qe=0;qe<Ke.length;qe++)for(;this.pdf.internal.getNumberOfPages()<Ke[qe];)y.call(this);if(w(Ke),this.autoPaging)for(var Ee=Ke[0],Pe=Ke[Ke.length-1],De=Ee;De<Pe+1;De++){this.pdf.setPage(De),this.fillStyle=Z,this.strokeStyle=ue,this.lineCap=he,this.lineWidth=je,this.lineJoin=ke;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=De===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=De===1?0:ge+(De-2)*Le;if(this.ctx.clip_path.length!==0){var Qe=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(q,this.posX+this.margin[3],-We+He+this.ctx.prevPageLastElemOffset),O.call(this,E,!0),this.path=Qe}if(Q=JSON.parse(JSON.stringify(Ae)),this.path=x(Q,this.posX+this.margin[3],-We+He+this.ctx.prevPageLastElemOffset),B===!1||De===0){var ct=(De>Ee||De<Pe)&&S.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Le,null).clip().discardPath()),O.call(this,E,B),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=je,O.call(this,E,B),this.lineWidth=me;this.path=Ae},O=function(E,B){if((E!=="stroke"||B||!b.call(this))&&(E==="stroke"||B||!p.call(this))){for(var q,Q,Z=[],ue=this.path,he=0;he<ue.length;he++){var me=ue[he];switch(me.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:me,deltas:[],abs:[]});break;case"lt":var je=Z.length;if(ue[he-1]&&!isNaN(ue[he-1].x)&&(q=[me.x-ue[he-1].x,me.y-ue[he-1].y],je>0)){for(;je>=0;je--)if(Z[je-1].close!==!0&&Z[je-1].begin!==!0){Z[je-1].deltas.push(q),Z[je-1].abs.push(me);break}}break;case"bct":q=[me.x1-ue[he-1].x,me.y1-ue[he-1].y,me.x2-ue[he-1].x,me.y2-ue[he-1].y,me.x-ue[he-1].x,me.y-ue[he-1].y],Z[Z.length-1].deltas.push(q);break;case"qct":var ke=ue[he-1].x+2/3*(me.x1-ue[he-1].x),Ae=ue[he-1].y+2/3*(me.y1-ue[he-1].y),Te=me.x+2/3*(me.x1-me.x),Ke=me.y+2/3*(me.y1-me.y),ye=me.x,ee=me.y;q=[ke-ue[he-1].x,Ae-ue[he-1].y,Te-ue[he-1].x,Ke-ue[he-1].y,ye-ue[he-1].x,ee-ue[he-1].y],Z[Z.length-1].deltas.push(q);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(me)}}Q=B?null:E==="stroke"?"stroke":"fill";for(var nt=!1,qe=0;qe<Z.length;qe++)if(Z[qe].arc)for(var Ee=Z[qe].abs,Pe=0;Pe<Ee.length;Pe++){var De=Ee[Pe];De.type==="arc"?P.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,B,!nt):V.call(this,De.x,De.y),nt=!0}else if(Z[qe].close===!0)this.pdf.internal.out("h"),nt=!1;else if(Z[qe].begin!==!0){var Oe=Z[qe].start.x,He=Z[qe].start.y;W.call(this,Z[qe].deltas,Oe,He),nt=!0}Q&&$.call(this,Q),B&&K.call(this)}},F=function(E){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-q;case"top":return E+B-q;case"hanging":return E+B-2*q;case"middle":return E+B/2-q;case"ideographic":return E;case"alphabetic":default:return E}},L=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(B,q){this.colorStops.push([B,q])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(E,B,q,Q,Z,ue,he,me,je){for(var ke=H.call(this,q,Q,Z,ue),Ae=0;Ae<ke.length;Ae++){var Te=ke[Ae];Ae===0&&(je?A.call(this,Te.x1+E,Te.y1+B):V.call(this,Te.x1+E,Te.y1+B)),te.call(this,E,B,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}me?K.call(this):$.call(this,he)},$=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(E,B){this.pdf.internal.out(r(E)+" "+n(B)+" m")},C=function(E){var B;switch(E.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var q=this.pdf.getTextDimensions(E.text),Q=F.call(this,E.y),Z=L.call(this,Q)-q.h,ue=this.ctx.transform.applyToPoint(new s(E.x,Q)),he=this.ctx.transform.decompose(),me=new o;me=(me=(me=me.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var je,ke,Ae,Te=this.ctx.transform.applyToRectangle(new l(E.x,Q,q.w,q.h)),Ke=me.applyToRectangle(new l(E.x,Z,q.w,q.h)),ye=N.call(this,Ke),ee=[],nt=0;nt<ye.length;nt+=1)ee.indexOf(ye[nt])===-1&&ee.push(ye[nt]);if(w(ee),this.autoPaging)for(var qe=ee[0],Ee=ee[ee.length-1],Pe=qe;Pe<Ee+1;Pe++){this.pdf.setPage(Pe);var De=Pe===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],ge=He-this.margin[0],Le=this.pdf.internal.pageSize.width-this.margin[1],We=Le-this.margin[3],Qe=Pe===1?0:Oe+(Pe-2)*ge;if(this.ctx.clip_path.length!==0){var ct=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(je,this.posX+this.margin[3],-1*Qe+De),O.call(this,"fill",!0),this.path=ct}var Je=x([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Qe+De+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*E.scale),Ae=this.lineWidth,this.lineWidth=Ae*E.scale);var dt=this.autoPaging!=="text";if(dt||Je.y+Je.h<=He){if(dt||Je.y>=De&&Je.x<=Le){var Ie=dt?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||Le-Je.x)[0],Or=x([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Qe+De+this.ctx.prevPageLastElemOffset)[0],wt=dt&&(Pe>qe||Pe<Ee)&&S.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,ge,null).clip().discardPath()),this.pdf.text(Ie,Or.x,Or.y,{angle:E.angle,align:B,renderingMode:E.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else Je.y<He&&(this.ctx.prevPageLastElemOffset+=He-Je.y);E.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Ae)}else E.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*E.scale),Ae=this.lineWidth,this.lineWidth=Ae*E.scale),this.pdf.text(E.text,ue.x+this.posX,ue.y+this.posY,{angle:E.angle,align:B,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Ae)},V=function(E,B,q,Q){q=q||0,Q=Q||0,this.pdf.internal.out(r(E+q)+" "+n(B+Q)+" l")},W=function(E,B,q){return this.pdf.lines(E,B,q,null,null)},te=function(E,B,q,Q,Z,ue,he,me){this.pdf.internal.out([t(i(q+E)),t(a(Q+B)),t(i(Z+E)),t(a(ue+B)),t(i(he+E)),t(a(me+B)),"c"].join(" "))},H=function(E,B,q,Q){for(var Z=2*Math.PI,ue=Math.PI/2;B>q;)B-=Z;var he=Math.abs(q-B);he<Z&&Q&&(he=Z-he);for(var me=[],je=Q?-1:1,ke=B;he>1e-5;){var Ae=ke+je*Math.min(he,ue);me.push(J.call(this,E,ke,Ae)),he-=Math.abs(Ae-ke),ke=Ae}return me},J=function(E,B,q){var Q=(q-B)/2,Z=E*Math.cos(Q),ue=E*Math.sin(Q),he=Z,me=-ue,je=he*he+me*me,ke=je+he*Z+me*ue,Ae=4/3*(Math.sqrt(2*je*ke)-ke)/(he*ue-me*Z),Te=he-Ae*me,Ke=me+Ae*he,ye=Te,ee=-Ke,nt=Q+B,qe=Math.cos(nt),Ee=Math.sin(nt);return{x1:E*Math.cos(B),y1:E*Math.sin(B),x2:Te*qe-Ke*Ee,y2:Te*Ee+Ke*qe,x3:ye*qe-ee*Ee,y3:ye*Ee+ee*qe,x4:E*Math.cos(q),y4:E*Math.sin(q)}},z=function(E){return 180*E/Math.PI},G=function(E,B,q,Q,Z,ue){var he=E+.5*(q-E),me=B+.5*(Q-B),je=Z+.5*(q-Z),ke=ue+.5*(Q-ue),Ae=Math.min(E,Z,he,je),Te=Math.max(E,Z,he,je),Ke=Math.min(B,ue,me,ke),ye=Math.max(B,ue,me,ke);return new l(Ae,Ke,Te-Ae,ye-Ke)},re=function(E,B,q,Q,Z,ue,he,me){var je,ke,Ae,Te,Ke,ye,ee,nt,qe,Ee,Pe,De,Oe,He,ge=q-E,Le=Q-B,We=Z-q,Qe=ue-Q,ct=he-Z,Je=me-ue;for(ke=0;ke<41;ke++)qe=(ee=(Ae=E+(je=ke/40)*ge)+je*((Ke=q+je*We)-Ae))+je*(Ke+je*(Z+je*ct-Ke)-ee),Ee=(nt=(Te=B+je*Le)+je*((ye=Q+je*Qe)-Te))+je*(ye+je*(ue+je*Je-ye)-nt),ke==0?(Pe=qe,De=Ee,Oe=qe,He=Ee):(Pe=Math.min(Pe,qe),De=Math.min(De,Ee),Oe=Math.max(Oe,qe),He=Math.max(He,Ee));return new l(Math.round(Pe),Math.round(De),Math.round(Oe-Pe),Math.round(He-De))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,B,q=(E=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:B}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Ge.API),function(e){var t=function(a){var s,l,o,c,d,m,g,p,b,S;for(l=[],o=0,c=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;c>o;o+=4)(d=(a.charCodeAt(o)<<24)+(a.charCodeAt(o+1)<<16)+(a.charCodeAt(o+2)<<8)+a.charCodeAt(o+3))!==0?(m=(d=((d=((d=((d=(d-(S=d%85))/85)-(b=d%85))/85)-(p=d%85))/85)-(g=d%85))/85)%85,l.push(m+33,g+33,p+33,b+33,S+33)):l.push(122);return function(N,y){for(var x=y;x>0;x--)N.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var s,l,o,c,d,m=String,g="length",p=255,b="charCodeAt",S="slice",N="replace";for(a[S](-2),a=a[S](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),o=[],c=0,d=(a+=s="uuuuu"[S](a[g]%5||5))[g];d>c;c+=5)l=52200625*(a[b](c)-33)+614125*(a[b](c+1)-33)+7225*(a[b](c+2)-33)+85*(a[b](c+3)-33)+(a[b](c+4)-33),o.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,x){for(var w=x;w>0;w--)y.pop()}(o,s[g]),m.fromCharCode.apply(m,o)},n=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",o=0;o<a.length;o+=2)l+=String.fromCharCode("0x"+(a[o]+a[o+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=U0(s)).reduce(function(o,c){return o+String.fromCharCode(c)},"")};e.processDataByFilters=function(a,s){var l=0,o=a||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":o=r(o),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=n(o),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=i(o),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:o,reverseChain:c.reverse().join(" ")}}}(Ge.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(o,c,d){var m=new XMLHttpRequest,g=0,p=function(b){var S=b.length,N=[],y=String.fromCharCode;for(g=0;g<S;g+=1)N.push(y(255&b.charCodeAt(g)));return N.join("")};if(m.open("GET",o,!c),m.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(m.onload=function(){m.status===200?d(p(this.responseText)):d(void 0)}),m.send(null),c&&m.status===200)return p(m.responseText)}(i,a,s)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Ge.API),function(e){function t(){return(tt.html2canvas?Promise.resolve(tt.html2canvas):I0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(tt.DOMPurify?Promise.resolve(tt.DOMPurify):I0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=kt(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var o=document.createElement(s);for(var c in l.className&&(o.className=l.className),l.innerHTML&&l.dompurify&&(o.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)o.style[c]=l.style[c];return o},a=function s(l){var o=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),o);return c=(c=c.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(o){switch(n(o)){case"string":return"string";case"element":return o.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(o){return this.set({src:i("div",{innerHTML:s,dompurify:o})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function o(c,d){for(var m=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)d!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(o(g,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(m.width=c.width,m.height=c.height,m.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(m.value=c.value),m.addEventListener("load",function(){m.scrollTop=c.scrollTop,m.scrollLeft=c.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var o=Object.assign({},this.opt.html2canvas);return delete o.onrendered,l(this.prop.container,o)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var o=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,o.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,o.context2d.posX=this.opt.x,o.context2d.posY=this.opt.y,o.context2d.margin=this.opt.margin,o.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var p=c[g],b=p.src.find(function(S){return S.format==="truetype"});b&&o.addFont(b.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,o.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,o){return(o=o||"pdf").toLowerCase()==="img"||o.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(o){if(o in a.template.prop)return function(){this.prop[o]=s[o]};switch(o){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[o]=s[o]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var o=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(o):o})},a.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(o,c){return Math.floor(o*c/72*96)}return this.then(function(){(s=s||Ge.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,o,c){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),o!=null&&(this.progress.n=o),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,o,c){return this.setProgress(s?this.progress.val+s:null,l||null,o?this.progress.n+o:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(s,l){var o=this;return this.thenCore(s,l,function(c,d){return o.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(m){return o.updateProgress(null,c),m}).then(c,d).then(function(m){return o.updateProgress(1),m})})},a.prototype.thenCore=function(s,l,o){o=o||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=o.call(c,s,l);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(o){l=l.thenCore(o)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ge.getPageSize=function(s,l,o){if(kt(s)==="object"){var c=s;s=c.orientation,l=c.unit||l,o=c.format||o}l=l||"mm",o=o||"a4",s=(""+(s||"P")).toLowerCase();var d,m=(""+o).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,b=0,S=0;if(g.hasOwnProperty(m))b=g[m][1]/d,S=g[m][0]/d;else try{b=o[1],S=o[0]}catch{throw new Error("Invalid format: "+o)}if(s==="p"||s==="portrait")s="p",S>b&&(p=S,S=b,b=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",b>S&&(p=S,S=b,b=p)}return{width:S,height:b,unit:l,k:d,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(V0):null;var o=new a(l);return l.worker?o:o.from(s).doCallback()}}(Ge.API),Ge.API.addJS=function(e){return O2=e,this.internal.events.subscribe("postPutResources",function(){Sd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),R2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+O2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sd!==void 0&&R2!==void 0&&this.internal.out("/Names <</JavaScript "+Sd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=n.exec(s);if(l!=null){var o=l[1];r.internal.newObjectDeferredBegin(o,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(a=0;a<c;a++){var m=r.internal.newObject();d.push(m);var g=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var o=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Ge.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,l){var o,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(o=function(m){for(var g,p=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,S={width:0,height:0,numcomponents:1},N=4;N<b;N+=2){if(N+=p,t.indexOf(m.charCodeAt(N+1))!==-1){g=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),S={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:g,numcomponents:m.charCodeAt(N+9)};break}p=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return S}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:o.width,height:o.height,colorSpace:l,bitsPerComponent:8,filter:c,index:n,alias:i}}return d}}(Ge.API);var Eo,Nd,I2,F2,D2,Uk=function(){var e,t,r;function n(a){var s,l,o,c,d,m,g,p,b,S,N,y,x,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),b=(function(){var j,O;for(O=[],j=0;j<4;++j)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,m.delay=1e3*d/c,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,s-=4),a=(m!=null?m.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(o=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>o)throw new Error("More transparent colors than palette size");if((S=o-this.transparency.indexed.length)>0)for(x=0;0<=S?x<S:x>S;0<=S?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(N=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,N.slice(0,g)),this.text[p]=String.fromCharCode.apply(String,N.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),o=0,c=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(m,g,p,b){var S,N,y,x,w,j,O,F,L,P,$,K,A,C,V,W,te,H,J,z,G,re=Math.ceil((c.width-m)/p),de=Math.ceil((c.height-g)/b),E=c.width==re&&c.height==de;for(C=s*re,K=E?l:new Uint8Array(C*de),j=a.length,A=0,N=0;A<de&&o<j;){switch(a[o++]){case 0:for(x=te=0;te<C;x=te+=1)K[N++]=a[o++];break;case 1:for(x=H=0;H<C;x=H+=1)S=a[o++],w=x<s?0:K[N-s],K[N++]=(S+w)%256;break;case 2:for(x=J=0;J<C;x=J+=1)S=a[o++],y=(x-x%s)/s,V=A&&K[(A-1)*C+y*s+x%s],K[N++]=(V+S)%256;break;case 3:for(x=z=0;z<C;x=z+=1)S=a[o++],y=(x-x%s)/s,w=x<s?0:K[N-s],V=A&&K[(A-1)*C+y*s+x%s],K[N++]=(S+Math.floor((w+V)/2))%256;break;case 4:for(x=G=0;G<C;x=G+=1)S=a[o++],y=(x-x%s)/s,w=x<s?0:K[N-s],A===0?V=W=0:(V=K[(A-1)*C+y*s+x%s],W=y&&K[(A-1)*C+(y-1)*s+x%s]),O=w+V-W,F=Math.abs(O-w),P=Math.abs(O-V),$=Math.abs(O-W),L=F<=P&&F<=$?w:P<=$?V:W,K[N++]=(S+L)%256;break;default:throw new Error("Invalid filter algorithm: "+a[o-1])}if(!E){var B=((g+A*b)*c.width+m)*s,q=A*C;for(x=0;x<re;x+=1){for(var Q=0;Q<s;Q+=1)l[B++]=K[q++];B+=(p-1)*s}}A++}}return a=vk(a),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var a,s,l,o,c,d,m,g,p;for(l=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+l.length),o=0,a=0,s=m=0,g=l.length;m<g;s=m+=3)c[o++]=l[s],c[o++]=l[s+1],c[o++]=l[s+2],c[o++]=(p=d[a++])!=null?p:255;return c},n.prototype.copyToImageData=function(a,s){var l,o,c,d,m,g,p,b,S,N,y;if(o=this.colors,S=null,l=this.hasAlphaChannel,this.palette.length&&(S=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),o=4,l=!0),b=(c=a.data||a).length,m=S||s,d=g=0,o===1)for(;d<b;)p=S?4*s[d/4]:g,N=m[p++],c[d++]=N,c[d++]=N,c[d++]=N,c[d++]=l?m[p++]:255,g=p;else for(;d<b;)p=S?4*s[d/4]:g,c[d++]=m[p++],c[d++]=m[p++],c[d++]=m[p++],c[d++]=l?m[p++]:255,g=p},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(tt)==="[object Window]"){try{t=tt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var s,l,o,c,d,m,g,p;if(this.animation){for(p=[],l=d=0,m=(g=this.animation.frames).length;d<m;l=++d)s=g[l],o=a.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(o,c),s.imageData=o,p.push(s.image=e(o));return p}},n.prototype.renderFrame=function(a,s){var l,o,c;return l=(o=this.animation.frames)[s],c=o[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&a.putImageData(c.imageData,c.xOffset,c.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(a){var s,l,o,c,d,m,g=this;return l=0,m=this.animation,c=m.numFrames,o=m.frames,d=m.numPlays,(s=function(){var p,b;if(p=l++%c,b=o[p],g.renderFrame(a,p),c>1&&l/c<d)return g.animation._timeout=setTimeout(s,b.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function zk(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<(7&i)+1;e[t++],e[t++];var l=null,o=null;a&&(l=t,o=s,t+=3*s);var c=!0,d=[],m=0,g=null,p=0,b=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];m=e[t++]|e[t++]<<8,g=e[t++],!(1&S)&&(g=null),p=S>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++],O=j>>6&1,F=1<<(7&j)+1,L=l,P=o,$=!1;j>>7&&($=!0,L=t,P=F,t+=3*F);var K=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}d.push({x:N,y,width:x,height:w,has_local_palette:$,palette_offset:L,palette_size:P,data_offset:K,data_length:t-K,transparent_index:g,interlaced:!!O,delay:m,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(C){if(C<0||C>=d.length)throw new Error("Frame index out of range.");return d[C]},this.decodeAndBlitFrameBGRA=function(C,V){var W=this.frameInfo(C),te=W.width*W.height,H=new Uint8Array(te);M2(e,W.data_offset,H,te);var J=W.palette_offset,z=W.transparent_index;z===null&&(z=256);var G=W.width,re=r-G,de=G,E=4*(W.y*r+W.x),B=4*((W.y+W.height)*r+W.x),q=E,Q=4*re;W.interlaced===!0&&(Q+=4*r*7);for(var Z=8,ue=0,he=H.length;ue<he;++ue){var me=H[ue];if(de===0&&(de=G,(q+=Q)>=B&&(Q=4*re+4*r*(Z-1),q=E+(G+re)*(Z<<1),Z>>=1)),me===z)q+=4;else{var je=e[J+3*me],ke=e[J+3*me+1],Ae=e[J+3*me+2];V[q++]=Ae,V[q++]=ke,V[q++]=je,V[q++]=255}--de}},this.decodeAndBlitFrameRGBA=function(C,V){var W=this.frameInfo(C),te=W.width*W.height,H=new Uint8Array(te);M2(e,W.data_offset,H,te);var J=W.palette_offset,z=W.transparent_index;z===null&&(z=256);var G=W.width,re=r-G,de=G,E=4*(W.y*r+W.x),B=4*((W.y+W.height)*r+W.x),q=E,Q=4*re;W.interlaced===!0&&(Q+=4*r*7);for(var Z=8,ue=0,he=H.length;ue<he;++ue){var me=H[ue];if(de===0&&(de=G,(q+=Q)>=B&&(Q=4*re+4*r*(Z-1),q=E+(G+re)*(Z<<1),Z>>=1)),me===z)q+=4;else{var je=e[J+3*me],ke=e[J+3*me+1],Ae=e[J+3*me+2];V[q++]=je,V[q++]=ke,V[q++]=Ae,V[q++]=255}--de}}}function M2(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,l=s+1,o=i+1,c=(1<<o)-1,d=0,m=0,g=0,p=e[t++],b=new Int32Array(4096),S=null;;){for(;d<16&&p!==0;)m|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<o)break;var N=m&c;if(m>>=o,d-=o,N!==a){if(N===s)break;for(var y=N<l?N:S,x=0,w=y;w>a;)w=b[w]>>8,++x;var j=w;if(g+x+(y!==N?1:0)>n)return void Pt.log("Warning, gif stream longer than expected.");r[g++]=j;var O=g+=x;for(y!==N&&(r[g++]=j),w=y;x--;)w=b[w],r[--O]=255&w,w>>=8;S!==null&&l<4096&&(b[l++]=S<<8|j,l>=c+1&&o<12&&(++o,c=c<<1|1)),S=N}else l=s+1,c=(1<<(o=i+1))-1,S=null}return g!==n&&Pt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ep(e){var t,r,n,i,a,s=Math.floor,l=new Array(64),o=new Array(64),c=new Array(64),d=new Array(64),m=new Array(65535),g=new Array(65535),p=new Array(64),b=new Array(64),S=[],N=0,y=7,x=new Array(64),w=new Array(64),j=new Array(64),O=new Array(256),F=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(E,B){for(var q=0,Q=0,Z=new Array,ue=1;ue<=16;ue++){for(var he=1;he<=E[ue];he++)Z[B[Q]]=[],Z[B[Q]][0]=q,Z[B[Q]][1]=ue,Q++,q++;q*=2}return Z}function J(E){for(var B=E[0],q=E[1]-1;q>=0;)B&1<<q&&(N|=1<<y),q--,--y<0&&(N==255?(z(255),z(0)):z(N),y=7,N=0)}function z(E){S.push(E)}function G(E){z(E>>8&255),z(255&E)}function re(E,B,q,Q,Z){for(var ue,he=Z[0],me=Z[240],je=function(Ee,Pe){var De,Oe,He,ge,Le,We,Qe,ct,Je,dt,Ie=0;for(Je=0;Je<8;++Je){De=Ee[Ie],Oe=Ee[Ie+1],He=Ee[Ie+2],ge=Ee[Ie+3],Le=Ee[Ie+4],We=Ee[Ie+5],Qe=Ee[Ie+6];var Or=De+(ct=Ee[Ie+7]),wt=De-ct,Hn=Oe+Qe,Ct=Oe-Qe,Mt=He+We,vi=He-We,xt=ge+Le,es=ge-Le,Vt=Or+xt,Wn=Or-xt,Fi=Hn+Mt,Gt=Hn-Mt;Ee[Ie]=Vt+Fi,Ee[Ie+4]=Vt-Fi;var at=.707106781*(Gt+Wn);Ee[Ie+2]=Wn+at,Ee[Ie+6]=Wn-at;var _t=.382683433*((Vt=es+vi)-(Gt=Ct+wt)),ts=.5411961*Vt+_t,jr=1.306562965*Gt+_t,yi=.707106781*(Fi=vi+Ct),wi=wt+yi,Xe=wt-yi;Ee[Ie+5]=Xe+ts,Ee[Ie+3]=Xe-ts,Ee[Ie+1]=wi+jr,Ee[Ie+7]=wi-jr,Ie+=8}for(Ie=0,Je=0;Je<8;++Je){De=Ee[Ie],Oe=Ee[Ie+8],He=Ee[Ie+16],ge=Ee[Ie+24],Le=Ee[Ie+32],We=Ee[Ie+40],Qe=Ee[Ie+48];var Vn=De+(ct=Ee[Ie+56]),bi=De-ct,en=Oe+Qe,mr=Oe-Qe,lr=He+We,fn=He-We,$s=ge+Le,Di=ge-Le,Gn=Vn+$s,Kn=Vn-$s,Jn=en+lr,xi=en-lr;Ee[Ie]=Gn+Jn,Ee[Ie+32]=Gn-Jn;var An=.707106781*(xi+Kn);Ee[Ie+16]=Kn+An,Ee[Ie+48]=Kn-An;var _i=.382683433*((Gn=Di+fn)-(xi=mr+bi)),rs=.5411961*Gn+_i,Hs=1.306562965*xi+_i,Ws=.707106781*(Jn=fn+mr),Vs=bi+Ws,Gs=bi-Ws;Ee[Ie+40]=Gs+rs,Ee[Ie+24]=Gs-rs,Ee[Ie+8]=Vs+Hs,Ee[Ie+56]=Vs-Hs,Ie++}for(Je=0;Je<64;++Je)dt=Ee[Je]*Pe[Je],p[Je]=dt>0?dt+.5|0:dt-.5|0;return p}(E,B),ke=0;ke<64;++ke)b[L[ke]]=je[ke];var Ae=b[0]-q;q=b[0],Ae==0?J(Q[0]):(J(Q[g[ue=32767+Ae]]),J(m[ue]));for(var Te=63;Te>0&&b[Te]==0;)Te--;if(Te==0)return J(he),q;for(var Ke,ye=1;ye<=Te;){for(var ee=ye;b[ye]==0&&ye<=Te;)++ye;var nt=ye-ee;if(nt>=16){Ke=nt>>4;for(var qe=1;qe<=Ke;++qe)J(me);nt&=15}ue=32767+b[ye],J(Z[(nt<<4)+g[ue]]),J(m[ue]),ye++}return Te!=63&&J(he),q}function de(E){E=Math.min(Math.max(E,1),100),a!=E&&(function(B){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var Z=s((q[Q]*B+50)/100);Z=Math.min(Math.max(Z,1),255),l[L[Q]]=Z}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var me=s((ue[he]*B+50)/100);me=Math.min(Math.max(me,1),255),o[L[he]]=me}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Ae=0;Ae<8;Ae++)for(var Te=0;Te<8;Te++)c[ke]=1/(l[L[ke]]*je[Ae]*je[Te]*8),d[ke]=1/(o[L[ke]]*je[Ae]*je[Te]*8),ke++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),a=E)}this.encode=function(E,B){B&&de(B),S=new Array,N=0,y=7,G(65496),G(65504),G(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),G(1),G(1),z(0),z(0),function(){G(65499),G(132),z(0);for(var Oe=0;Oe<64;Oe++)z(l[Oe]);z(1);for(var He=0;He<64;He++)z(o[He])}(),function(Oe,He){G(65472),G(17),z(8),G(He),G(Oe),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(E.width,E.height),function(){G(65476),G(418),z(0);for(var Oe=0;Oe<16;Oe++)z(P[Oe+1]);for(var He=0;He<=11;He++)z($[He]);z(16);for(var ge=0;ge<16;ge++)z(K[ge+1]);for(var Le=0;Le<=161;Le++)z(A[Le]);z(1);for(var We=0;We<16;We++)z(C[We+1]);for(var Qe=0;Qe<=11;Qe++)z(V[Qe]);z(17);for(var ct=0;ct<16;ct++)z(W[ct+1]);for(var Je=0;Je<=161;Je++)z(te[Je])}(),G(65498),G(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var q=0,Q=0,Z=0;N=0,y=7,this.encode.displayName="_encode_";for(var ue,he,me,je,ke,Ae,Te,Ke,ye,ee=E.data,nt=E.width,qe=E.height,Ee=4*nt,Pe=0;Pe<qe;){for(ue=0;ue<Ee;){for(ke=Ee*Pe+ue,Te=-1,Ke=0,ye=0;ye<64;ye++)Ae=ke+(Ke=ye>>3)*Ee+(Te=4*(7&ye)),Pe+Ke>=qe&&(Ae-=Ee*(Pe+1+Ke-qe)),ue+Te>=Ee&&(Ae-=ue+Te-Ee+4),he=ee[Ae++],me=ee[Ae++],je=ee[Ae++],x[ye]=(F[he]+F[me+256>>0]+F[je+512>>0]>>16)-128,w[ye]=(F[he+768>>0]+F[me+1024>>0]+F[je+1280>>0]>>16)-128,j[ye]=(F[he+1280>>0]+F[me+1536>>0]+F[je+1792>>0]>>16)-128;q=re(x,c,q,t,n),Q=re(w,d,Q,r,i),Z=re(j,d,Z,r,i),ue+=32}Pe+=8}if(y>=0){var De=[];De[1]=y+1,De[0]=(1<<y+1)-1,J(De)}return G(65497),new Uint8Array(S)},e=e||50,function(){for(var E=String.fromCharCode,B=0;B<256;B++)O[B]=E(B)}(),t=H(P,$),r=H(C,V),n=H(K,A),i=H(W,te),function(){for(var E=1,B=2,q=1;q<=15;q++){for(var Q=E;Q<B;Q++)g[32767+Q]=q,m[32767+Q]=[],m[32767+Q][1]=q,m[32767+Q][0]=Q;for(var Z=-(B-1);Z<=-E;Z++)g[32767+Z]=q,m[32767+Z]=[],m[32767+Z][1]=q,m[32767+Z][0]=B-1+Z;E<<=1,B<<=1}}(),function(){for(var E=0;E<256;E++)F[E]=19595*E,F[E+256>>0]=38470*E,F[E+512>>0]=7471*E+32768,F[E+768>>0]=-11059*E,F[E+1024>>0]=-21709*E,F[E+1280>>0]=32768*E+8421375,F[E+1536>>0]=-27439*E,F[E+1792>>0]=-5329*E}(),de(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ni(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function B2(e){function t(P){if(!P)throw Error("assert :P")}function r(P,$,K){for(var A=0;4>A;A++)if(P[$+A]!=K.charCodeAt(A))return!0;return!1}function n(P,$,K,A,C){for(var V=0;V<C;V++)P[$+V]=K[A+V]}function i(P,$,K,A){for(var C=0;C<A;C++)P[$+C]=K}function a(P){return new Int32Array(P)}function s(P,$){for(var K=[],A=0;A<P;A++)K.push(new $);return K}function l(P,$){var K=[];return function A(C,V,W){for(var te=W[V],H=0;H<te&&(C.push(W.length>V+1?[]:new $),!(W.length<V+1));H++)A(C[H],V+1,W)}(K,0,P),K}var o=function(){var P=this;function $(u,h){for(var _=1<<h-1>>>0;u&_;)_>>>=1;return _?(u&_-1)+_:u}function K(u,h,_,k,T){t(!(k%_));do u[h+(k-=_)]=T;while(0<k)}function A(u,h,_,k,T){if(t(2328>=T),512>=T)var I=a(512);else if((I=a(T))==null)return 0;return function(D,M,U,Y,ae,fe){var pe,le,_e=M,ve=1<<U,se=a(16),oe=a(16);for(t(ae!=0),t(Y!=null),t(D!=null),t(0<U),le=0;le<ae;++le){if(15<Y[le])return 0;++se[Y[le]]}if(se[0]==ae)return 0;for(oe[1]=0,pe=1;15>pe;++pe){if(se[pe]>1<<pe)return 0;oe[pe+1]=oe[pe]+se[pe]}for(le=0;le<ae;++le)pe=Y[le],0<Y[le]&&(fe[oe[pe]++]=le);if(oe[15]==1)return(Y=new C).g=0,Y.value=fe[0],K(D,_e,1,ve,Y),ve;var be,Se=-1,xe=ve-1,Be=0,Re=1,Ye=1,Fe=1<<U;for(le=0,pe=1,ae=2;pe<=U;++pe,ae<<=1){if(Re+=Ye<<=1,0>(Ye-=se[pe]))return 0;for(;0<se[pe];--se[pe])(Y=new C).g=pe,Y.value=fe[le++],K(D,_e+Be,ae,Fe,Y),Be=$(Be,pe)}for(pe=U+1,ae=2;15>=pe;++pe,ae<<=1){if(Re+=Ye<<=1,0>(Ye-=se[pe]))return 0;for(;0<se[pe];--se[pe]){if(Y=new C,(Be&xe)!=Se){for(_e+=Fe,be=1<<(Se=pe)-U;15>Se&&!(0>=(be-=se[Se]));)++Se,be<<=1;ve+=Fe=1<<(be=Se-U),D[M+(Se=Be&xe)].g=be+U,D[M+Se].value=_e-M-Se}Y.g=pe-U,Y.value=fe[le++],K(D,_e+(Be>>U),ae,Fe,Y),Be=$(Be,pe)}}return Re!=2*oe[15]-1?0:ve}(u,h,_,k,T,I)}function C(){this.value=this.g=0}function V(){this.value=this.g=0}function W(){this.G=s(5,C),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Er,V)}function te(u,h,_,k){t(u!=null),t(h!=null),t(2147483648>k),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=_,u.Jd=h,u.Yc=_+k,u.Zc=4<=k?_+k-4+1:_,ue(u)}function H(u,h){for(var _=0;0<h--;)_|=me(u,128)<<h;return _}function J(u,h){var _=H(u,h);return he(u)?-_:_}function z(u,h,_,k){var T,I=0;for(t(u!=null),t(h!=null),t(4294967288>k),u.Sb=k,u.Ra=0,u.u=0,u.h=0,4<k&&(k=4),T=0;T<k;++T)I+=h[_+T]<<8*T;u.Ra=I,u.bb=k,u.oa=h,u.pa=_}function G(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<lo-8>>>0,++u.bb,u.u-=8;q(u)&&(u.h=1,u.u=0)}function re(u,h){if(t(0<=h),!u.h&&h<=oo){var _=B(u)&so[h];return u.u+=h,G(u),_}return u.h=1,u.u=0}function de(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(u){return u.Ra>>>(u.u&lo-1)>>>0}function q(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>lo}function Q(u,h){u.u=h,u.h=q(u)}function Z(u){u.u>=Tl&&(t(u.u>=Tl),G(u))}function ue(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return H(u,1)}function me(u,h){var _=u.Ca;0>u.b&&ue(u);var k=u.b,T=_*h>>>8,I=(u.I>>>k>T)+0;for(I?(_-=T,u.I-=T+1<<k>>>0):_=T+1,k=_,T=0;256<=k;)T+=8,k>>=8;return k=7^T+rn[k],u.b-=k,u.Ca=(_<<k)-1,I}function je(u,h,_){u[h+0]=_>>24&255,u[h+1]=_>>16&255,u[h+2]=_>>8&255,u[h+3]=_>>0&255}function ke(u,h){return u[h+0]<<0|u[h+1]<<8}function Ae(u,h){return ke(u,h)|u[h+2]<<16}function Te(u,h){return ke(u,h)|ke(u,h+2)<<16}function Ke(u,h){var _=1<<h;return t(u!=null),t(0<h),u.X=a(_),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ye(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),n(h.X,0,u.X,0,1<<h.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function nt(u,h,_,k){t(_!=null),t(k!=null);var T=_[0],I=k[0];return T==0&&(T=(u*I+h/2)/h),I==0&&(I=(h*T+u/2)/u),0>=T||0>=I?0:(_[0]=T,k[0]=I,1)}function qe(u,h){return u+(1<<h)-1>>>h}function Ee(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Pe(u,h){P[h]=function(_,k,T,I,D,M,U){var Y;for(Y=0;Y<D;++Y){var ae=P[u](M[U+Y-1],T,I+Y);M[U+Y]=Ee(_[k+Y],ae)}}}function De(){this.ud=this.hd=this.jd=0}function Oe(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function He(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function ge(u,h){return He(u+(u-h+.5>>1))}function Le(u,h,_){return Math.abs(h-_)-Math.abs(u-_)}function We(u,h,_,k,T,I,D){for(k=I[D-1],_=0;_<T;++_)I[D+_]=k=Ee(u[h+_],k)}function Qe(u,h,_,k,T){var I;for(I=0;I<_;++I){var D=u[h+I],M=D>>8&255,U=16711935&(U=(U=16711935&D)+((M<<16)+M));k[T+I]=(4278255360&D)+U>>>0}}function ct(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function Je(u,h,_,k,T,I){var D;for(D=0;D<k;++D){var M=h[_+D],U=M>>>8,Y=M,ae=255&(ae=(ae=M>>>16)+((u.jd<<24>>24)*(U<<24>>24)>>>5));Y=255&(Y=(Y=Y+((u.hd<<24>>24)*(U<<24>>24)>>>5))+((u.ud<<24>>24)*(ae<<24>>24)>>>5)),T[I+D]=(4278255360&M)+(ae<<16)+Y}}function dt(u,h,_,k,T){P[h]=function(I,D,M,U,Y,ae,fe,pe,le){for(U=fe;U<pe;++U)for(fe=0;fe<le;++fe)Y[ae++]=T(M[k(I[D++])])},P[u]=function(I,D,M,U,Y,ae,fe){var pe=8>>I.b,le=I.Ea,_e=I.K[0],ve=I.w;if(8>pe)for(I=(1<<I.b)-1,ve=(1<<pe)-1;D<M;++D){var se,oe=0;for(se=0;se<le;++se)se&I||(oe=k(U[Y++])),ae[fe++]=T(_e[oe&ve]),oe>>=pe}else P["VP8LMapColor"+_](U,Y,_e,ve,ae,fe,D,M,le)}}function Ie(u,h,_,k,T){for(_=h+_;h<_;){var I=u[h++];k[T++]=I>>16&255,k[T++]=I>>8&255,k[T++]=I>>0&255}}function Or(u,h,_,k,T){for(_=h+_;h<_;){var I=u[h++];k[T++]=I>>16&255,k[T++]=I>>8&255,k[T++]=I>>0&255,k[T++]=I>>24&255}}function wt(u,h,_,k,T){for(_=h+_;h<_;){var I=(D=u[h++])>>16&240|D>>12&15,D=D>>0&240|D>>28&15;k[T++]=I,k[T++]=D}}function Hn(u,h,_,k,T){for(_=h+_;h<_;){var I=(D=u[h++])>>16&248|D>>13&7,D=D>>5&224|D>>3&31;k[T++]=I,k[T++]=D}}function Ct(u,h,_,k,T){for(_=h+_;h<_;){var I=u[h++];k[T++]=I>>0&255,k[T++]=I>>8&255,k[T++]=I>>16&255}}function Mt(u,h,_,k,T,I){if(I==0)for(_=h+_;h<_;)je(k,((I=u[h++])[0]>>24|I[1]>>8&65280|I[2]<<8&16711680|I[3]<<24)>>>0),T+=32;else n(k,T,u,h,_)}function vi(u,h){P[h][0]=P[u+"0"],P[h][1]=P[u+"1"],P[h][2]=P[u+"2"],P[h][3]=P[u+"3"],P[h][4]=P[u+"4"],P[h][5]=P[u+"5"],P[h][6]=P[u+"6"],P[h][7]=P[u+"7"],P[h][8]=P[u+"8"],P[h][9]=P[u+"9"],P[h][10]=P[u+"10"],P[h][11]=P[u+"11"],P[h][12]=P[u+"12"],P[h][13]=P[u+"13"],P[h][14]=P[u+"0"],P[h][15]=P[u+"0"]}function xt(u){return u==vf||u==yf||u==Mc||u==wf}function es(){this.eb=[],this.size=this.A=this.fb=0}function Vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new es,this.f.kb=new Vt,this.sd=null}function Fi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function at(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function _t(u,h){var _=u.T,k=h.ba.f.RGBA,T=k.eb,I=k.fb+u.ka*k.A,D=In[h.ba.S],M=u.y,U=u.O,Y=u.f,ae=u.N,fe=u.ea,pe=u.W,le=h.cc,_e=h.dc,ve=h.Mc,se=h.Nc,oe=u.ka,be=u.ka+u.T,Se=u.U,xe=Se+1>>1;for(oe==0?D(M,U,null,null,Y,ae,fe,pe,Y,ae,fe,pe,T,I,null,null,Se):(D(h.ec,h.fc,M,U,le,_e,ve,se,Y,ae,fe,pe,T,I-k.A,T,I,Se),++_);oe+2<be;oe+=2)le=Y,_e=ae,ve=fe,se=pe,ae+=u.Rc,pe+=u.Rc,I+=2*k.A,D(M,(U+=2*u.fa)-u.fa,M,U,le,_e,ve,se,Y,ae,fe,pe,T,I-k.A,T,I,Se);return U+=u.fa,u.j+be<u.o?(n(h.ec,h.fc,M,U,Se),n(h.cc,h.dc,Y,ae,xe),n(h.Mc,h.Nc,fe,pe,xe),_--):1&be||D(M,U,null,null,Y,ae,fe,pe,Y,ae,fe,pe,T,I+k.A,null,null,Se),_}function ts(u,h,_){var k=u.F,T=[u.J];if(k!=null){var I=u.U,D=h.ba.S,M=D==Dc||D==Mc;h=h.ba.f.RGBA;var U=[0],Y=u.ka;U[0]=u.T,u.Kb&&(Y==0?--U[0]:(--Y,T[0]-=u.width),u.j+u.ka+u.T==u.o&&(U[0]=u.o-u.j-Y));var ae=h.eb;Y=h.fb+Y*h.A,u=Tt(k,T[0],u.width,I,U,ae,Y+(M?0:3),h.A),t(_==U),u&&xt(D)&&Rn(ae,Y,M,I,U,h.A)}return 0}function jr(u){var h=u.ma,_=h.ba.S,k=11>_,T=_==Ic||_==Fc||_==Dc||_==gf||_==12||xt(_);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Pl(h.Oa,u,T?11:12))return 0;if(T&&xt(_)&&Ne(),u.da)alert("todo:use_scaling");else{if(k){if(h.Ib=at,u.Kb){if(_=u.U+1>>1,h.memory=a(u.U+2*_),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+_,h.Ib=_t,Ne()}}else alert("todo:EmitYUV");T&&(h.Jb=ts,k&&ce())}if(k&&!gg){for(u=0;256>u;++u)Gw[u]=89858*(u-128)+Uc>>Bc,Yw[u]=-22014*(u-128)+Uc,Jw[u]=-45773*(u-128),Kw[u]=113618*(u-128)+Uc>>Bc;for(u=Bl;u<_f;++u)h=76283*(u-16)+Uc>>Bc,Qw[u-Bl]=pn(h,255),Xw[u-Bl]=pn(h+8>>4,15);gg=1}return 1}function yi(u){var h=u.ma,_=u.U,k=u.T;return t(!(1&u.ka)),0>=_||0>=k?0:(_=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,_),h.Dc+=_,1)}function wi(u){u.ma.memory=null}function Xe(u,h,_,k){return re(u,8)!=47?0:(h[0]=re(u,14)+1,_[0]=re(u,14)+1,k[0]=re(u,1),re(u,3)!=0?0:!u.h)}function Vn(u,h){if(4>u)return u+1;var _=u-2>>1;return(2+(1&u)<<_)+re(h,_)+1}function bi(u,h){return 120<h?h-120:1<=(_=((_=Rw[h-1])>>4)*u+(8-(15&_)))?_:1;var _}function en(u,h,_){var k=B(_),T=u[h+=255&k].g-8;return 0<T&&(Q(_,_.u+8),k=B(_),h+=u[h].value,h+=k&(1<<T)-1),Q(_,_.u+u[h].g),u[h].value}function mr(u,h,_){return _.g+=u.g,_.value+=u.value<<h>>>0,t(8>=_.g),u.g}function lr(u,h,_){var k=u.xc;return t((h=k==0?0:u.vc[u.md*(_>>k)+(h>>k)])<u.Wb),u.Ya[h]}function fn(u,h,_,k){var T=u.ab,I=u.c*h,D=u.C;h=D+h;var M=_,U=k;for(k=u.Ta,_=u.Ua;0<T--;){var Y=u.gc[T],ae=D,fe=h,pe=M,le=U,_e=(U=k,M=_,Y.Ea);switch(t(ae<fe),t(fe<=Y.nc),Y.hc){case 2:Cc(pe,le,(fe-ae)*_e,U,M);break;case 0:var ve=ae,se=fe,oe=U,be=M,Se=(Fe=Y).Ea;ve==0&&(pf(pe,le,null,null,1,oe,be),We(pe,le+1,0,0,Se-1,oe,be+1),le+=Se,be+=Se,++ve);for(var xe=1<<Fe.b,Be=xe-1,Re=qe(Se,Fe.b),Ye=Fe.K,Fe=Fe.w+(ve>>Fe.b)*Re;ve<se;){var bt=Ye,St=Fe,vt=1;for(Rl(pe,le,oe,be-Se,1,oe,be);vt<Se;){var pt=(vt&~Be)+xe;pt>Se&&(pt=Se),(0,ha[bt[St++]>>8&15])(pe,le+ +vt,oe,be+vt-Se,pt-vt,oe,be+vt),vt=pt}le+=Se,be+=Se,++ve&Be||(Fe+=Re)}fe!=Y.nc&&n(U,M-_e,U,M+(fe-ae-1)*_e,_e);break;case 1:for(_e=pe,se=le,Se=(pe=Y.Ea)-(be=pe&~(oe=(le=1<<Y.b)-1)),ve=qe(pe,Y.b),xe=Y.K,Y=Y.w+(ae>>Y.b)*ve;ae<fe;){for(Be=xe,Re=Y,Ye=new De,Fe=se+be,bt=se+pe;se<Fe;)ct(Be[Re++],Ye),os(Ye,_e,se,le,U,M),se+=le,M+=le;se<bt&&(ct(Be[Re++],Ye),os(Ye,_e,se,Se,U,M),se+=Se,M+=Se),++ae&oe||(Y+=ve)}break;case 3:if(pe==U&&le==M&&0<Y.b){for(se=U,pe=_e=M+(fe-ae)*_e-(be=(fe-ae)*qe(Y.Ea,Y.b)),le=U,oe=M,ve=[],be=(Se=be)-1;0<=be;--be)ve[be]=le[oe+be];for(be=Se-1;0<=be;--be)se[pe+be]=ve[be];Pn(Y,ae,fe,U,_e,U,M)}else Pn(Y,ae,fe,pe,le,U,M)}M=k,U=_}U!=_&&n(k,_,M,U,I)}function $s(u,h){var _=u.V,k=u.Ba+u.c*u.C,T=h-u.C;if(t(h<=u.l.o),t(16>=T),0<T){var I=u.l,D=u.Ta,M=u.Ua,U=I.width;if(fn(u,T,_,k),T=M=[M],t((_=u.C)<(k=h)),t(I.v<I.va),k>I.o&&(k=I.o),_<I.j){var Y=I.j-_;_=I.j,T[0]+=Y*U}if(_>=k?_=0:(T[0]+=4*I.v,I.ka=_-I.j,I.U=I.va-I.v,I.T=k-_,_=1),_){if(M=M[0],11>(_=u.ca).S){var ae=_.f.RGBA,fe=(k=_.S,T=I.U,I=I.T,Y=ae.eb,ae.A),pe=I;for(ae=ae.fb+u.Ma*ae.A;0<pe--;){var le=D,_e=M,ve=T,se=Y,oe=ae;switch(k){case Oc:nn(le,_e,ve,se,oe);break;case Ic:Gr(le,_e,ve,se,oe);break;case vf:Gr(le,_e,ve,se,oe),Rn(se,oe,0,ve,1,0);break;case og:zi(le,_e,ve,se,oe);break;case Fc:Mt(le,_e,ve,se,oe,1);break;case yf:Mt(le,_e,ve,se,oe,1),Rn(se,oe,0,ve,1,0);break;case Dc:Mt(le,_e,ve,se,oe,0);break;case Mc:Mt(le,_e,ve,se,oe,0),Rn(se,oe,1,ve,1,0);break;case gf:fa(le,_e,ve,se,oe);break;case wf:fa(le,_e,ve,se,oe),Lt(se,oe,ve,1,0);break;case lg:Ui(le,_e,ve,se,oe);break;default:t(0)}M+=U,ae+=fe}u.Ma+=I}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=_.height)}}u.C=h,t(u.C<=u.i)}function Di(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var _=u.Ya[h].G,k=u.Ya[h].H;if(0<_[1][k[1]+0].g||0<_[2][k[2]+0].g||0<_[3][k[3]+0].g)return 0}return 1}function Gn(u,h,_,k,T,I){if(u.Z!=0){var D=u.qd,M=u.rd;for(t(va[u.Z]!=null);h<_;++h)va[u.Z](D,M,k,T,k,T,I),D=k,M=T,T+=I;u.qd=D,u.rd=M}}function Kn(u,h){var _=u.l.ma,k=_.Z==0||_.Z==1?u.l.j:u.C;if(k=u.C<k?k:u.C,t(h<=u.l.o),h>k){var T=u.l.width,I=_.ca,D=_.tb+T*k,M=u.V,U=u.Ba+u.c*k,Y=u.gc;t(u.ab==1),t(Y[0].hc==3),Ac(Y[0],k,h,M,U,I,D),Gn(_,k,h,I,D,T)}u.C=u.Ma=h}function Jn(u,h,_,k,T,I,D){var M=u.$/k,U=u.$%k,Y=u.m,ae=u.s,fe=_+u.$,pe=fe;T=_+k*T;var le=_+k*I,_e=280+ae.ua,ve=u.Pb?M:16777216,se=0<ae.ua?ae.Wa:null,oe=ae.wc,be=fe<le?lr(ae,U,M):null;t(u.C<I),t(le<=T);var Se=!1;e:for(;;){for(;Se||fe<le;){var xe=0;if(M>=ve){var Be=fe-_;t((ve=u).Pb),ve.wd=ve.m,ve.xd=Be,0<ve.s.ua&&ye(ve.s.Wa,ve.s.vb),ve=M+Iw}if(U&oe||(be=lr(ae,U,M)),t(be!=null),be.Qb&&(h[fe]=be.qb,Se=!0),!Se)if(Z(Y),be.jc){xe=Y,Be=h;var Re=fe,Ye=be.pd[B(xe)&Er-1];t(be.jc),256>Ye.g?(Q(xe,xe.u+Ye.g),Be[Re]=Ye.value,xe=0):(Q(xe,xe.u+Ye.g-256),t(256<=Ye.value),xe=Ye.value),xe==0&&(Se=!0)}else xe=en(be.G[0],be.H[0],Y);if(Y.h)break;if(Se||256>xe){if(!Se)if(be.nd)h[fe]=(be.qb|xe<<8)>>>0;else{if(Z(Y),Se=en(be.G[1],be.H[1],Y),Z(Y),Be=en(be.G[2],be.H[2],Y),Re=en(be.G[3],be.H[3],Y),Y.h)break;h[fe]=(Re<<24|Se<<16|xe<<8|Be)>>>0}if(Se=!1,++fe,++U>=k&&(U=0,++M,D!=null&&M<=I&&!(M%16)&&D(u,M),se!=null))for(;pe<fe;)xe=h[pe++],se.X[(506832829*xe&4294967295)>>>se.Mb]=xe}else if(280>xe){if(xe=Vn(xe-256,Y),Be=en(be.G[4],be.H[4],Y),Z(Y),Be=bi(k,Be=Vn(Be,Y)),Y.h)break;if(fe-_<Be||T-fe<xe)break e;for(Re=0;Re<xe;++Re)h[fe+Re]=h[fe+Re-Be];for(fe+=xe,U+=xe;U>=k;)U-=k,++M,D!=null&&M<=I&&!(M%16)&&D(u,M);if(t(fe<=T),U&oe&&(be=lr(ae,U,M)),se!=null)for(;pe<fe;)xe=h[pe++],se.X[(506832829*xe&4294967295)>>>se.Mb]=xe}else{if(!(xe<_e))break e;for(Se=xe-280,t(se!=null);pe<fe;)xe=h[pe++],se.X[(506832829*xe&4294967295)>>>se.Mb]=xe;xe=fe,t(!(Se>>>(Be=se).Xa)),h[xe]=Be.X[Se],Se=!0}Se||t(Y.h==q(Y))}if(u.Pb&&Y.h&&fe<T)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ye(u.s.vb,u.s.Wa);else{if(Y.h)break e;D!=null&&D(u,M>I?I:M),u.a=0,u.$=fe-_}return 1}return u.a=3,0}function xi(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function An(){var u=new ff;return u==null?null:(u.a=0,u.xb=dg,vi("Predictor","VP8LPredictors"),vi("Predictor","VP8LPredictors_C"),vi("PredictorAdd","VP8LPredictorsAdd"),vi("PredictorAdd","VP8LPredictorsAdd_C"),Cc=Qe,os=Je,nn=Ie,Gr=Or,fa=wt,Ui=Hn,zi=Ct,P.VP8LMapColor32b=uo,P.VP8LMapColor8b=Pc,u)}function _i(u,h,_,k,T){var I=1,D=[u],M=[h],U=k.m,Y=k.s,ae=null,fe=0;e:for(;;){if(_)for(;I&&re(U,1);){var pe=D,le=M,_e=k,ve=1,se=_e.m,oe=_e.gc[_e.ab],be=re(se,2);if(_e.Oc&1<<be)I=0;else{switch(_e.Oc|=1<<be,oe.hc=be,oe.Ea=pe[0],oe.nc=le[0],oe.K=[null],++_e.ab,t(4>=_e.ab),be){case 0:case 1:oe.b=re(se,3)+2,ve=_i(qe(oe.Ea,oe.b),qe(oe.nc,oe.b),0,_e,oe.K),oe.K=oe.K[0];break;case 3:var Se,xe=re(se,8)+1,Be=16<xe?0:4<xe?1:2<xe?2:3;if(pe[0]=qe(oe.Ea,Be),oe.b=Be,Se=ve=_i(xe,1,0,_e,oe.K)){var Re,Ye=xe,Fe=oe,bt=1<<(8>>Fe.b),St=a(bt);if(St==null)Se=0;else{var vt=Fe.K[0],pt=Fe.w;for(St[0]=Fe.K[0][0],Re=1;Re<1*Ye;++Re)St[Re]=Ee(vt[pt+Re],St[Re-1]);for(;Re<4*bt;++Re)St[Re]=0;Fe.K[0]=null,Fe.K[0]=St,Se=1}}ve=Se;break;case 2:break;default:t(0)}I=ve}}if(D=D[0],M=M[0],I&&re(U,1)&&!(I=1<=(fe=re(U,4))&&11>=fe)){k.a=3;break e}var At;if(At=I)t:{var Et,ut,cr,an=k,dr=D,sn=M,Nt=fe,gn=_,vn=an.m,_r=an.s,Cr=[null],Jr=1,Fn=0,ji=Ow[Nt];r:for(;;){if(gn&&re(vn,1)){var Sr=re(vn,3)+2,Wi=qe(dr,Sr),hs=qe(sn,Sr),mo=Wi*hs;if(!_i(Wi,hs,0,an,Cr))break r;for(Cr=Cr[0],_r.xc=Sr,Et=0;Et<mo;++Et){var ya=Cr[Et]>>8&65535;Cr[Et]=ya,ya>=Jr&&(Jr=ya+1)}}if(vn.h)break r;for(ut=0;5>ut;++ut){var Jt=ug[ut];!ut&&0<Nt&&(Jt+=1<<Nt),Fn<Jt&&(Fn=Jt)}var Sf=s(Jr*ji,C),wg=Jr,bg=s(wg,W);if(bg==null)var qc=null;else t(65536>=wg),qc=bg;var Ul=a(Fn);if(qc==null||Ul==null||Sf==null){an.a=1;break r}var $c=Sf;for(Et=cr=0;Et<Jr;++Et){var ei=qc[Et],go=ei.G,vo=ei.H,xg=0,Hc=1,_g=0;for(ut=0;5>ut;++ut){Jt=ug[ut],go[ut]=$c,vo[ut]=cr,!ut&&0<Nt&&(Jt+=1<<Nt);i:{var Wc,Nf=Jt,Vc=an,zl=Ul,tb=$c,rb=cr,kf=0,wa=Vc.m,nb=re(wa,1);if(i(zl,0,0,Nf),nb){var ib=re(wa,1)+1,ab=re(wa,1),Sg=re(wa,ab==0?1:8);zl[Sg]=1,ib==2&&(zl[Sg=re(wa,8)]=1);var Gc=1}else{var Ng=a(19),kg=re(wa,4)+4;if(19<kg){Vc.a=3;var Kc=0;break i}for(Wc=0;Wc<kg;++Wc)Ng[Tw[Wc]]=re(wa,3);var jf=void 0,ql=void 0,jg=Vc,sb=Ng,Jc=Nf,Eg=zl,Ef=0,ba=jg.m,Cg=8,Ag=s(128,C);n:for(;A(Ag,0,7,sb,19);){if(re(ba,1)){var ob=2+2*re(ba,3);if((jf=2+re(ba,ob))>Jc)break n}else jf=Jc;for(ql=0;ql<Jc&&jf--;){Z(ba);var Pg=Ag[0+(127&B(ba))];Q(ba,ba.u+Pg.g);var yo=Pg.value;if(16>yo)Eg[ql++]=yo,yo!=0&&(Cg=yo);else{var lb=yo==16,Lg=yo-16,ub=Pw[Lg],Tg=re(ba,Aw[Lg])+ub;if(ql+Tg>Jc)break n;for(var cb=lb?Cg:0;0<Tg--;)Eg[ql++]=cb}}Ef=1;break n}Ef||(jg.a=3),Gc=Ef}(Gc=Gc&&!wa.h)&&(kf=A(tb,rb,8,zl,Nf)),Gc&&kf!=0?Kc=kf:(Vc.a=3,Kc=0)}if(Kc==0)break r;if(Hc&&Lw[ut]==1&&(Hc=$c[cr].g==0),xg+=$c[cr].g,cr+=Kc,3>=ut){var $l,Cf=Ul[0];for($l=1;$l<Jt;++$l)Ul[$l]>Cf&&(Cf=Ul[$l]);_g+=Cf}}if(ei.nd=Hc,ei.Qb=0,Hc&&(ei.qb=(go[3][vo[3]+0].value<<24|go[1][vo[1]+0].value<<16|go[2][vo[2]+0].value)>>>0,xg==0&&256>go[0][vo[0]+0].value&&(ei.Qb=1,ei.qb+=go[0][vo[0]+0].value<<8)),ei.jc=!ei.Qb&&6>_g,ei.jc){var Yc,Vi=ei;for(Yc=0;Yc<Er;++Yc){var xa=Yc,_a=Vi.pd[xa],Qc=Vi.G[0][Vi.H[0]+xa];256<=Qc.value?(_a.g=Qc.g+256,_a.value=Qc.value):(_a.g=0,_a.value=0,xa>>=mr(Qc,8,_a),xa>>=mr(Vi.G[1][Vi.H[1]+xa],16,_a),xa>>=mr(Vi.G[2][Vi.H[2]+xa],0,_a),mr(Vi.G[3][Vi.H[3]+xa],24,_a))}}}_r.vc=Cr,_r.Wb=Jr,_r.Ya=qc,_r.yc=Sf,At=1;break t}At=0}if(!(I=At)){k.a=3;break e}if(0<fe){if(Y.ua=1<<fe,!Ke(Y.Wa,fe)){k.a=1,I=0;break e}}else Y.ua=0;var Af=k,Rg=D,db=M,Pf=Af.s,Lf=Pf.xc;if(Af.c=Rg,Af.i=db,Pf.md=qe(Rg,Lf),Pf.wc=Lf==0?-1:(1<<Lf)-1,_){k.xb=qw;break e}if((ae=a(D*M))==null){k.a=1,I=0;break e}I=(I=Jn(k,ae,0,D,M,M,null))&&!U.h;break e}return I?(T!=null?T[0]=ae:(t(ae==null),t(_)),k.$=0,_||xi(Y)):xi(Y),I}function rs(u,h){var _=u.c*u.i,k=_+h+16*h;return t(u.c<=h),u.V=a(k),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+_+h,1)}function Hs(u,h){var _=u.C,k=h-_,T=u.V,I=u.Ba+u.c*_;for(t(h<=u.l.o);0<k;){var D=16<k?16:k,M=u.l.ma,U=u.l.width,Y=U*D,ae=M.ca,fe=M.tb+U*_,pe=u.Ta,le=u.Ua;fn(u,D,T,I),nr(pe,le,ae,fe,Y),Gn(M,_,_+D,ae,fe,U),k-=D,T+=D*u.c,_+=D}t(_==h),u.C=u.Ma=h}function Ws(){this.ub=this.yd=this.td=this.Rb=0}function Vs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gs(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function lc(){this.Yb=function(){var u=[];return function h(_,k,T){for(var I=T[k],D=0;D<I&&(_.push(T.length>k+1?[]:0),!(T.length<k+1));D++)h(_[D],k+1,T)}(u,0,[3,11]),u}()}function $h(){this.jb=a(3),this.Wc=l([4,8],lc),this.Xc=l([4,17],lc)}function Hh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ks(){this.ld=this.La=this.dd=this.tc=0}function uc(){this.Na=this.la=0}function Wh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ks),this.Y=0,this.ya=Array(new pl),this.aa=0,this.l=new Js}function cc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Gh(){this.cb=this.a=0,this.sc="",this.m=new de,this.Od=new Ws,this.Kc=new Vs,this.ed=new Hh,this.Qa=new Gs,this.Ic=this.$c=this.Aa=0,this.D=new Vh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,de),this.ia=0,this.pb=s(4,Wh),this.Pa=new $h,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new cc),this.Hd=0,this.rb=Array(new uc),this.sb=0,this.wa=Array(new Ks),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pl),this.L=this.aa=0,this.gd=l([4,2],Ks),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Js(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kh(){var u=new Gh;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Ml||(Ml=fc)),u}function tr(u,h,_){return u.a==0&&(u.a=h,u.sc=_,u.cb=0),0}function dc(u,h,_){return 3<=_&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function hc(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return tr(u,2,"null VP8Io passed to VP8GetHeaders()");var _=h.data,k=h.w,T=h.ha;if(4>T)return tr(u,7,"Truncated header.");var I=_[k+0]|_[k+1]<<8|_[k+2]<<16,D=u.Od;if(D.Rb=!(1&I),D.td=I>>1&7,D.yd=I>>4&1,D.ub=I>>5,3<D.td)return tr(u,3,"Incorrect keyframe parameters.");if(!D.yd)return tr(u,4,"Frame not displayable.");k+=3,T-=3;var M=u.Kc;if(D.Rb){if(7>T)return tr(u,7,"cannot parse picture header");if(!dc(_,k,T))return tr(u,3,"Bad code word");M.c=16383&(_[k+4]<<8|_[k+3]),M.Td=_[k+4]>>6,M.i=16383&(_[k+6]<<8|_[k+5]),M.Ud=_[k+6]>>6,k+=7,T-=7,u.za=M.c+15>>4,u.Ub=M.i+15>>4,h.width=M.c,h.height=M.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((I=u.Pa).jb,0,255,I.jb.length),t((I=u.Qa)!=null),I.Cb=0,I.Bb=0,I.Fb=1,i(I.Zb,0,0,I.Zb.length),i(I.Lb,0,0,I.Lb)}if(D.ub>T)return tr(u,7,"bad partition length");te(I=u.m,_,k,D.ub),k+=D.ub,T-=D.ub,D.Rb&&(M.Ld=he(I),M.Kd=he(I)),M=u.Qa;var U,Y=u.Pa;if(t(I!=null),t(M!=null),M.Cb=he(I),M.Cb){if(M.Bb=he(I),he(I)){for(M.Fb=he(I),U=0;4>U;++U)M.Zb[U]=he(I)?J(I,7):0;for(U=0;4>U;++U)M.Lb[U]=he(I)?J(I,6):0}if(M.Bb)for(U=0;3>U;++U)Y.jb[U]=he(I)?H(I,8):255}else M.Bb=0;if(I.Ka)return tr(u,3,"cannot parse segment header");if((M=u.ed).zd=he(I),M.Tb=H(I,6),M.wb=H(I,3),M.Pc=he(I),M.Pc&&he(I)){for(Y=0;4>Y;++Y)he(I)&&(M.vd[Y]=J(I,6));for(Y=0;4>Y;++Y)he(I)&&(M.od[Y]=J(I,6))}if(u.L=M.Tb==0?0:M.zd?1:2,I.Ka)return tr(u,3,"cannot parse filter header");var ae=T;if(T=U=k,k=U+ae,M=ae,u.Xb=(1<<H(u.m,2))-1,ae<3*(Y=u.Xb))_=7;else{for(U+=3*Y,M-=3*Y,ae=0;ae<Y;++ae){var fe=_[T+0]|_[T+1]<<8|_[T+2]<<16;fe>M&&(fe=M),te(u.Jc[+ae],_,U,fe),U+=fe,M-=fe,T+=3}te(u.Jc[+Y],_,U,M),_=U<k?0:5}if(_!=0)return tr(u,_,"cannot parse partitions");for(_=H(U=u.m,7),T=he(U)?J(U,4):0,k=he(U)?J(U,4):0,M=he(U)?J(U,4):0,Y=he(U)?J(U,4):0,U=he(U)?J(U,4):0,ae=u.Qa,fe=0;4>fe;++fe){if(ae.Cb){var pe=ae.Zb[fe];ae.Fb||(pe+=_)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}pe=_}var le=u.pb[fe];le.Sc[0]=bf[pn(pe+T,127)],le.Sc[1]=xf[pn(pe+0,127)],le.Eb[0]=2*bf[pn(pe+k,127)],le.Eb[1]=101581*xf[pn(pe+M,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=bf[pn(pe+Y,117)],le.Qc[1]=xf[pn(pe+U,127)],le.lc=pe+U}if(!D.Rb)return tr(u,4,"Not a key frame.");for(he(I),D=u.Pa,_=0;4>_;++_){for(T=0;8>T;++T)for(k=0;3>k;++k)for(M=0;11>M;++M)Y=me(I,Uw[_][T][k][M])?H(I,8):Mw[_][T][k][M],D.Wc[_][T].Yb[k][M]=Y;for(T=0;17>T;++T)D.Xc[_][T]=D.Wc[_][zw[T]]}return u.kc=he(I),u.kc&&(u.Bd=H(I,8)),u.cb=1}function fc(u,h,_,k,T,I,D){var M=h[T].Yb[_];for(_=0;16>T;++T){if(!me(u,M[_+0]))return T;for(;!me(u,M[_+1]);)if(M=h[++T].Yb[0],_=0,T==16)return 16;var U=h[T+1].Yb;if(me(u,M[_+2])){var Y=u,ae=0;if(me(Y,(pe=M)[(fe=_)+3]))if(me(Y,pe[fe+6])){for(M=0,fe=2*(ae=me(Y,pe[fe+8]))+(pe=me(Y,pe[fe+9+ae])),ae=0,pe=Fw[fe];pe[M];++M)ae+=ae+me(Y,pe[M]);ae+=3+(8<<fe)}else me(Y,pe[fe+7])?(ae=7+2*me(Y,165),ae+=me(Y,145)):ae=5+me(Y,159);else ae=me(Y,pe[fe+4])?3+me(Y,pe[fe+5]):2;M=U[2]}else ae=1,M=U[1];U=D+Dw[T],0>(Y=u).b&&ue(Y);var fe,pe=Y.b,le=(fe=Y.Ca>>1)-(Y.I>>pe)>>31;--Y.b,Y.Ca+=le,Y.Ca|=1,Y.I-=(fe+1&le)<<pe,I[U]=((ae^le)-le)*k[(0<T)+0]}return 16}function ml(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Jh(u,h){if(u==null)return 0;if(h==null)return tr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!hc(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var _=zc[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-_>>4,u.zb=h.j-_>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+_>>4,u.Hb=h.va+15+_>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var k=u.ed;for(_=0;4>_;++_){var T;if(u.Qa.Cb){var I=u.Qa.Lb[_];u.Qa.Fb||(I+=k.Tb)}else I=k.Tb;for(T=0;1>=T;++T){var D=u.gd[_][T],M=I;if(k.Pc&&(M+=k.vd[0],T&&(M+=k.od[0])),0<(M=0>M?0:63<M?63:M)){var U=M;0<k.wb&&(U=4<k.wb?U>>2:U>>1)>9-k.wb&&(U=9-k.wb),1>U&&(U=1),D.dd=U,D.tc=2*M+U,D.ld=40<=M?2:15<=M?1:0}else D.tc=0;D.La=T}}}_=0}else tr(u,6,"Frame setup failed"),_=u.a;if(_=_==0){if(_){u.$c=0,0<u.Aa||(u.Ic=eb);e:{_=u.Ic,k=4*(U=u.za);var Y=32*U,ae=U+1,fe=0<u.L?U*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*U;if((D=k+832+(T=3*(16*_+zc[u.L])/2*Y)+(I=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=D)_=0;else{if(D>u.Vb){if(u.Vb=0,u.Ec=a(D),u.Fc=0,u.Ec==null){_=tr(u,1,"no memory during frame initialization.");break e}u.Vb=D}D=u.Ec,M=u.Fc,u.Ac=D,u.Bc=M,M+=k,u.Gd=s(Y,cc),u.Hd=0,u.rb=s(ae+1,uc),u.sb=1,u.wa=fe?s(fe,Ks):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=U),t(!0),u.oc=D,u.pc=M,M+=832,u.ya=s(pe,pl),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=U),u.R=16*U,u.B=8*U,U=(Y=zc[u.L])*u.R,Y=Y/2*u.B,u.sa=D,u.ta=M+U,u.qa=u.sa,u.ra=u.ta+16*_*u.R+Y,u.Ha=u.qa,u.Ia=u.ra+8*_*u.B+Y,u.$c=0,M+=T,u.mb=I?D:null,u.nb=I?M:null,t(M+I<=u.Fc+u.Vb),ml(u),i(u.Ac,u.Bc,0,k),_=1}}if(_){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!Tc){for(_=-255;255>=_;++_)gr[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)$i[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)Dl[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)po[255+_]=0>_?0:255<_?255:_;Tc=1}co=Xh,qi=Yh,Ol=mc,Kr=Qh,Ln=gc,rr=pc,ho=xl,Lc=as,Il=hf,ls=_l,us=df,pa=to,cs=Sl,fo=kc,ds=Nc,ma=Ni,Fl=Bi,Tn=cf,Zn[0]=Si,Zn[1]=Zh,Zn[2]=nf,Zn[3]=af,Zn[4]=wc,Zn[5]=Zs,Zn[6]=bc,Zn[7]=yl,Zn[8]=of,Zn[9]=sf,ga[0]=vc,ga[1]=tf,ga[2]=Mi,ga[3]=Qs,ga[4]=Ir,ga[5]=rf,ga[6]=yc,Hi[0]=ua,Hi[1]=ef,Hi[2]=lf,Hi[3]=wl,Hi[4]=is,Hi[5]=uf,Hi[6]=bl,_=1}else _=0}_&&(_=function(le,_e){for(le.M=0;le.M<le.Va;++le.M){var ve,se=le.Jc[le.M&le.Xb],oe=le.m,be=le;for(ve=0;ve<be.za;++ve){var Se=oe,xe=be,Be=xe.Ac,Re=xe.Bc+4*ve,Ye=xe.zc,Fe=xe.ya[xe.aa+ve];if(xe.Qa.Bb?Fe.$b=me(Se,xe.Pa.jb[0])?2+me(Se,xe.Pa.jb[2]):me(Se,xe.Pa.jb[1]):Fe.$b=0,xe.kc&&(Fe.Ad=me(Se,xe.Bd)),Fe.Za=!me(Se,145)+0,Fe.Za){var bt=Fe.Ob,St=0;for(xe=0;4>xe;++xe){var vt,pt=Ye[0+xe];for(vt=0;4>vt;++vt){pt=Bw[Be[Re+vt]][pt];for(var At=cg[me(Se,pt[0])];0<At;)At=cg[2*At+me(Se,pt[At])];pt=-At,Be[Re+vt]=pt}n(bt,St,Be,Re,4),St+=4,Ye[0+xe]=pt}}else pt=me(Se,156)?me(Se,128)?1:3:me(Se,163)?2:0,Fe.Ob[0]=pt,i(Be,Re,pt,4),i(Ye,0,pt,4);Fe.Dd=me(Se,142)?me(Se,114)?me(Se,183)?1:3:2:0}if(be.m.Ka)return tr(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(be=se,Se=(oe=le).rb[oe.sb-1],Be=oe.rb[oe.sb+oe.ja],ve=oe.ya[oe.aa+oe.ja],Re=oe.kc?ve.Ad:0)Se.la=Be.la=0,ve.Za||(Se.Na=Be.Na=0),ve.Hc=0,ve.Gc=0,ve.ia=0;else{var Et,ut;if(Se=Be,Be=be,Re=oe.Pa.Xc,Ye=oe.ya[oe.aa+oe.ja],Fe=oe.pb[Ye.$b],xe=Ye.ad,bt=0,St=oe.rb[oe.sb-1],pt=vt=0,i(xe,bt,0,384),Ye.Za)var cr=0,an=Re[3];else{At=a(16);var dr=Se.Na+St.Na;if(dr=Ml(Be,Re[1],dr,Fe.Eb,0,At,0),Se.Na=St.Na=(0<dr)+0,1<dr)co(At,0,xe,bt);else{var sn=At[0]+3>>3;for(At=0;256>At;At+=16)xe[bt+At]=sn}cr=1,an=Re[0]}var Nt=15&Se.la,gn=15&St.la;for(At=0;4>At;++At){var vn=1&gn;for(sn=ut=0;4>sn;++sn)Nt=Nt>>1|(vn=(dr=Ml(Be,an,dr=vn+(1&Nt),Fe.Sc,cr,xe,bt))>cr)<<7,ut=ut<<2|(3<dr?3:1<dr?2:xe[bt+0]!=0),bt+=16;Nt>>=4,gn=gn>>1|vn<<7,vt=(vt<<8|ut)>>>0}for(an=Nt,cr=gn>>4,Et=0;4>Et;Et+=2){for(ut=0,Nt=Se.la>>4+Et,gn=St.la>>4+Et,At=0;2>At;++At){for(vn=1&gn,sn=0;2>sn;++sn)dr=vn+(1&Nt),Nt=Nt>>1|(vn=0<(dr=Ml(Be,Re[2],dr,Fe.Qc,0,xe,bt)))<<3,ut=ut<<2|(3<dr?3:1<dr?2:xe[bt+0]!=0),bt+=16;Nt>>=2,gn=gn>>1|vn<<5}pt|=ut<<4*Et,an|=Nt<<4<<Et,cr|=(240&gn)<<Et}Se.la=an,St.la=cr,Ye.Hc=vt,Ye.Gc=pt,Ye.ia=43690&pt?0:Fe.ia,Re=!(vt|pt)}if(0<oe.L&&(oe.wa[oe.Y+oe.ja]=oe.gd[ve.$b][ve.Za],oe.wa[oe.Y+oe.ja].La|=!Re),be.Ka)return tr(le,7,"Premature end-of-file encountered.")}if(ml(le),oe=_e,be=1,ve=(se=le).D,Se=0<se.L&&se.M>=se.zb&&se.M<=se.Va,se.Aa==0)e:{if(ve.M=se.M,ve.uc=Se,Al(se,ve),be=1,ve=(ut=se.D).Nb,Se=(pt=zc[se.L])*se.R,Be=pt/2*se.B,At=16*ve*se.R,sn=8*ve*se.B,Re=se.sa,Ye=se.ta-Se+At,Fe=se.qa,xe=se.ra-Be+sn,bt=se.Ha,St=se.Ia-Be+sn,gn=(Nt=ut.M)==0,vt=Nt>=se.Va-1,se.Aa==2&&Al(se,ut),ut.uc)for(vn=(dr=se).D.M,t(dr.D.uc),ut=dr.yb;ut<dr.Hb;++ut){cr=ut,an=vn;var _r=(Cr=(Jt=dr).D).Nb;Et=Jt.R;var Cr=Cr.wa[Cr.Y+cr],Jr=Jt.sa,Fn=Jt.ta+16*_r*Et+16*cr,ji=Cr.dd,Sr=Cr.tc;if(Sr!=0)if(t(3<=Sr),Jt.L==1)0<cr&&ma(Jr,Fn,Et,Sr+4),Cr.La&&Tn(Jr,Fn,Et,Sr),0<an&&ds(Jr,Fn,Et,Sr+4),Cr.La&&Fl(Jr,Fn,Et,Sr);else{var Wi=Jt.B,hs=Jt.qa,mo=Jt.ra+8*_r*Wi+8*cr,ya=Jt.Ha,Jt=Jt.Ia+8*_r*Wi+8*cr;_r=Cr.ld,0<cr&&(Lc(Jr,Fn,Et,Sr+4,ji,_r),ls(hs,mo,ya,Jt,Wi,Sr+4,ji,_r)),Cr.La&&(pa(Jr,Fn,Et,Sr,ji,_r),fo(hs,mo,ya,Jt,Wi,Sr,ji,_r)),0<an&&(ho(Jr,Fn,Et,Sr+4,ji,_r),Il(hs,mo,ya,Jt,Wi,Sr+4,ji,_r)),Cr.La&&(us(Jr,Fn,Et,Sr,ji,_r),cs(hs,mo,ya,Jt,Wi,Sr,ji,_r))}}if(se.ia&&alert("todo:DitherRow"),oe.put!=null){if(ut=16*Nt,Nt=16*(Nt+1),gn?(oe.y=se.sa,oe.O=se.ta+At,oe.f=se.qa,oe.N=se.ra+sn,oe.ea=se.Ha,oe.W=se.Ia+sn):(ut-=pt,oe.y=Re,oe.O=Ye,oe.f=Fe,oe.N=xe,oe.ea=bt,oe.W=St),vt||(Nt-=pt),Nt>oe.o&&(Nt=oe.o),oe.F=null,oe.J=null,se.Fa!=null&&0<se.Fa.length&&ut<Nt&&(oe.J=El(se,oe,ut,Nt-ut),oe.F=se.mb,oe.F==null&&oe.F.length==0)){be=tr(se,3,"Could not decode alpha data.");break e}ut<oe.j&&(pt=oe.j-ut,ut=oe.j,t(!(1&pt)),oe.O+=se.R*pt,oe.N+=se.B*(pt>>1),oe.W+=se.B*(pt>>1),oe.F!=null&&(oe.J+=oe.width*pt)),ut<Nt&&(oe.O+=oe.v,oe.N+=oe.v>>1,oe.W+=oe.v>>1,oe.F!=null&&(oe.J+=oe.v),oe.ka=ut-oe.j,oe.U=oe.va-oe.v,oe.T=Nt-ut,be=oe.put(oe))}ve+1!=se.Ic||vt||(n(se.sa,se.ta-Se,Re,Ye+16*se.R,Se),n(se.qa,se.ra-Be,Fe,xe+8*se.B,Be),n(se.Ha,se.Ia-Be,bt,St+8*se.B,Be))}if(!be)return tr(le,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),_&=1}return _?(u.cb=0,_):0}function Yn(u,h,_,k,T){T=u[h+_+32*k]+(T>>3),u[h+_+32*k]=-256&T?0>T?0:255:T}function Ys(u,h,_,k,T,I){Yn(u,h,0,_,k+T),Yn(u,h,1,_,k+I),Yn(u,h,2,_,k-I),Yn(u,h,3,_,k-T)}function tn(u){return(20091*u>>16)+u}function gl(u,h,_,k){var T,I=0,D=a(16);for(T=0;4>T;++T){var M=u[h+0]+u[h+8],U=u[h+0]-u[h+8],Y=(35468*u[h+4]>>16)-tn(u[h+12]),ae=tn(u[h+4])+(35468*u[h+12]>>16);D[I+0]=M+ae,D[I+1]=U+Y,D[I+2]=U-Y,D[I+3]=M-ae,I+=4,h++}for(T=I=0;4>T;++T)M=(u=D[I+0]+4)+D[I+8],U=u-D[I+8],Y=(35468*D[I+4]>>16)-tn(D[I+12]),Yn(_,k,0,0,M+(ae=tn(D[I+4])+(35468*D[I+12]>>16))),Yn(_,k,1,0,U+Y),Yn(_,k,2,0,U-Y),Yn(_,k,3,0,M-ae),I++,k+=32}function pc(u,h,_,k){var T=u[h+0]+4,I=35468*u[h+4]>>16,D=tn(u[h+4]),M=35468*u[h+1]>>16;Ys(_,k,0,T+D,u=tn(u[h+1]),M),Ys(_,k,1,T+I,u,M),Ys(_,k,2,T-I,u,M),Ys(_,k,3,T-D,u,M)}function Yh(u,h,_,k,T){gl(u,h,_,k),T&&gl(u,h+16,_,k+4)}function mc(u,h,_,k){qi(u,h+0,_,k,1),qi(u,h+32,_,k+128,1)}function Qh(u,h,_,k){var T;for(u=u[h+0]+4,T=0;4>T;++T)for(h=0;4>h;++h)Yn(_,k,h,T,u)}function gc(u,h,_,k){u[h+0]&&Kr(u,h+0,_,k),u[h+16]&&Kr(u,h+16,_,k+4),u[h+32]&&Kr(u,h+32,_,k+128),u[h+48]&&Kr(u,h+48,_,k+128+4)}function Xh(u,h,_,k){var T,I=a(16);for(T=0;4>T;++T){var D=u[h+0+T]+u[h+12+T],M=u[h+4+T]+u[h+8+T],U=u[h+4+T]-u[h+8+T],Y=u[h+0+T]-u[h+12+T];I[0+T]=D+M,I[8+T]=D-M,I[4+T]=Y+U,I[12+T]=Y-U}for(T=0;4>T;++T)D=(u=I[0+4*T]+3)+I[3+4*T],M=I[1+4*T]+I[2+4*T],U=I[1+4*T]-I[2+4*T],Y=u-I[3+4*T],_[k+0]=D+M>>3,_[k+16]=Y+U>>3,_[k+32]=D-M>>3,_[k+48]=Y-U>>3,k+=64}function vl(u,h,_){var k,T=h-32,I=mn,D=255-u[T-1];for(k=0;k<_;++k){var M,U=I,Y=D+u[h-1];for(M=0;M<_;++M)u[h+M]=U[Y+u[T+M]];h+=32}}function Zh(u,h){vl(u,h,4)}function ef(u,h){vl(u,h,8)}function tf(u,h){vl(u,h,16)}function Mi(u,h){var _;for(_=0;16>_;++_)n(u,h+32*_,u,h-32,16)}function Qs(u,h){var _;for(_=16;0<_;--_)i(u,h,u[h-1],16),h+=32}function Xs(u,h,_){var k;for(k=0;16>k;++k)i(h,_+32*k,u,16)}function vc(u,h){var _,k=16;for(_=0;16>_;++_)k+=u[h-1+32*_]+u[h+_-32];Xs(k>>5,u,h)}function Ir(u,h){var _,k=8;for(_=0;16>_;++_)k+=u[h-1+32*_];Xs(k>>4,u,h)}function rf(u,h){var _,k=8;for(_=0;16>_;++_)k+=u[h+_-32];Xs(k>>4,u,h)}function yc(u,h){Xs(128,u,h)}function it(u,h,_){return u+2*h+_+2>>2}function nf(u,h){var _,k=h-32;for(k=new Uint8Array([it(u[k-1],u[k+0],u[k+1]),it(u[k+0],u[k+1],u[k+2]),it(u[k+1],u[k+2],u[k+3]),it(u[k+2],u[k+3],u[k+4])]),_=0;4>_;++_)n(u,h+32*_,k,0,k.length)}function af(u,h){var _=u[h-1],k=u[h-1+32],T=u[h-1+64],I=u[h-1+96];je(u,h+0,16843009*it(u[h-1-32],_,k)),je(u,h+32,16843009*it(_,k,T)),je(u,h+64,16843009*it(k,T,I)),je(u,h+96,16843009*it(T,I,I))}function Si(u,h){var _,k=4;for(_=0;4>_;++_)k+=u[h+_-32]+u[h-1+32*_];for(k>>=3,_=0;4>_;++_)i(u,h+32*_,k,4)}function wc(u,h){var _=u[h-1+0],k=u[h-1+32],T=u[h-1+64],I=u[h-1-32],D=u[h+0-32],M=u[h+1-32],U=u[h+2-32],Y=u[h+3-32];u[h+0+96]=it(k,T,u[h-1+96]),u[h+1+96]=u[h+0+64]=it(_,k,T),u[h+2+96]=u[h+1+64]=u[h+0+32]=it(I,_,k),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=it(D,I,_),u[h+3+64]=u[h+2+32]=u[h+1+0]=it(M,D,I),u[h+3+32]=u[h+2+0]=it(U,M,D),u[h+3+0]=it(Y,U,M)}function bc(u,h){var _=u[h+1-32],k=u[h+2-32],T=u[h+3-32],I=u[h+4-32],D=u[h+5-32],M=u[h+6-32],U=u[h+7-32];u[h+0+0]=it(u[h+0-32],_,k),u[h+1+0]=u[h+0+32]=it(_,k,T),u[h+2+0]=u[h+1+32]=u[h+0+64]=it(k,T,I),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=it(T,I,D),u[h+3+32]=u[h+2+64]=u[h+1+96]=it(I,D,M),u[h+3+64]=u[h+2+96]=it(D,M,U),u[h+3+96]=it(M,U,U)}function Zs(u,h){var _=u[h-1+0],k=u[h-1+32],T=u[h-1+64],I=u[h-1-32],D=u[h+0-32],M=u[h+1-32],U=u[h+2-32],Y=u[h+3-32];u[h+0+0]=u[h+1+64]=I+D+1>>1,u[h+1+0]=u[h+2+64]=D+M+1>>1,u[h+2+0]=u[h+3+64]=M+U+1>>1,u[h+3+0]=U+Y+1>>1,u[h+0+96]=it(T,k,_),u[h+0+64]=it(k,_,I),u[h+0+32]=u[h+1+96]=it(_,I,D),u[h+1+32]=u[h+2+96]=it(I,D,M),u[h+2+32]=u[h+3+96]=it(D,M,U),u[h+3+32]=it(M,U,Y)}function yl(u,h){var _=u[h+0-32],k=u[h+1-32],T=u[h+2-32],I=u[h+3-32],D=u[h+4-32],M=u[h+5-32],U=u[h+6-32],Y=u[h+7-32];u[h+0+0]=_+k+1>>1,u[h+1+0]=u[h+0+64]=k+T+1>>1,u[h+2+0]=u[h+1+64]=T+I+1>>1,u[h+3+0]=u[h+2+64]=I+D+1>>1,u[h+0+32]=it(_,k,T),u[h+1+32]=u[h+0+96]=it(k,T,I),u[h+2+32]=u[h+1+96]=it(T,I,D),u[h+3+32]=u[h+2+96]=it(I,D,M),u[h+3+64]=it(D,M,U),u[h+3+96]=it(M,U,Y)}function sf(u,h){var _=u[h-1+0],k=u[h-1+32],T=u[h-1+64],I=u[h-1+96];u[h+0+0]=_+k+1>>1,u[h+2+0]=u[h+0+32]=k+T+1>>1,u[h+2+32]=u[h+0+64]=T+I+1>>1,u[h+1+0]=it(_,k,T),u[h+3+0]=u[h+1+32]=it(k,T,I),u[h+3+32]=u[h+1+64]=it(T,I,I),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=I}function of(u,h){var _=u[h-1+0],k=u[h-1+32],T=u[h-1+64],I=u[h-1+96],D=u[h-1-32],M=u[h+0-32],U=u[h+1-32],Y=u[h+2-32];u[h+0+0]=u[h+2+32]=_+D+1>>1,u[h+0+32]=u[h+2+64]=k+_+1>>1,u[h+0+64]=u[h+2+96]=T+k+1>>1,u[h+0+96]=I+T+1>>1,u[h+3+0]=it(M,U,Y),u[h+2+0]=it(D,M,U),u[h+1+0]=u[h+3+32]=it(_,D,M),u[h+1+32]=u[h+3+64]=it(k,_,D),u[h+1+64]=u[h+3+96]=it(T,k,_),u[h+1+96]=it(I,T,k)}function lf(u,h){var _;for(_=0;8>_;++_)n(u,h+32*_,u,h-32,8)}function wl(u,h){var _;for(_=0;8>_;++_)i(u,h,u[h-1],8),h+=32}function ns(u,h,_){var k;for(k=0;8>k;++k)i(h,_+32*k,u,8)}function ua(u,h){var _,k=8;for(_=0;8>_;++_)k+=u[h+_-32]+u[h-1+32*_];ns(k>>4,u,h)}function uf(u,h){var _,k=4;for(_=0;8>_;++_)k+=u[h+_-32];ns(k>>3,u,h)}function is(u,h){var _,k=4;for(_=0;8>_;++_)k+=u[h-1+32*_];ns(k>>3,u,h)}function bl(u,h){ns(128,u,h)}function eo(u,h,_){var k=u[h-_],T=u[h+0],I=3*(T-k)+mf[1020+u[h-2*_]-u[h+_]],D=Rc[112+(I+4>>3)];u[h-_]=mn[255+k+Rc[112+(I+3>>3)]],u[h+0]=mn[255+T-D]}function xc(u,h,_,k){var T=u[h+0],I=u[h+_];return On[255+u[h-2*_]-u[h-_]]>k||On[255+I-T]>k}function _c(u,h,_,k){return 4*On[255+u[h-_]-u[h+0]]+On[255+u[h-2*_]-u[h+_]]<=k}function Sc(u,h,_,k,T){var I=u[h-3*_],D=u[h-2*_],M=u[h-_],U=u[h+0],Y=u[h+_],ae=u[h+2*_],fe=u[h+3*_];return 4*On[255+M-U]+On[255+D-Y]>k?0:On[255+u[h-4*_]-I]<=T&&On[255+I-D]<=T&&On[255+D-M]<=T&&On[255+fe-ae]<=T&&On[255+ae-Y]<=T&&On[255+Y-U]<=T}function Nc(u,h,_,k){var T=2*k+1;for(k=0;16>k;++k)_c(u,h+k,_,T)&&eo(u,h+k,_)}function Ni(u,h,_,k){var T=2*k+1;for(k=0;16>k;++k)_c(u,h+k*_,1,T)&&eo(u,h+k*_,1)}function Bi(u,h,_,k){var T;for(T=3;0<T;--T)Nc(u,h+=4*_,_,k)}function cf(u,h,_,k){var T;for(T=3;0<T;--T)Ni(u,h+=4,_,k)}function ca(u,h,_,k,T,I,D,M){for(I=2*I+1;0<T--;){if(Sc(u,h,_,I,D))if(xc(u,h,_,M))eo(u,h,_);else{var U=u,Y=h,ae=_,fe=U[Y-2*ae],pe=U[Y-ae],le=U[Y+0],_e=U[Y+ae],ve=U[Y+2*ae],se=27*(be=mf[1020+3*(le-pe)+mf[1020+fe-_e]])+63>>7,oe=18*be+63>>7,be=9*be+63>>7;U[Y-3*ae]=mn[255+U[Y-3*ae]+be],U[Y-2*ae]=mn[255+fe+oe],U[Y-ae]=mn[255+pe+se],U[Y+0]=mn[255+le-se],U[Y+ae]=mn[255+_e-oe],U[Y+2*ae]=mn[255+ve-be]}h+=k}}function Qn(u,h,_,k,T,I,D,M){for(I=2*I+1;0<T--;){if(Sc(u,h,_,I,D))if(xc(u,h,_,M))eo(u,h,_);else{var U=u,Y=h,ae=_,fe=U[Y-ae],pe=U[Y+0],le=U[Y+ae],_e=Rc[112+((ve=3*(pe-fe))+4>>3)],ve=Rc[112+(ve+3>>3)],se=_e+1>>1;U[Y-2*ae]=mn[255+U[Y-2*ae]+se],U[Y-ae]=mn[255+fe+ve],U[Y+0]=mn[255+pe-_e],U[Y+ae]=mn[255+le-se]}h+=k}}function xl(u,h,_,k,T,I){ca(u,h,_,1,16,k,T,I)}function as(u,h,_,k,T,I){ca(u,h,1,_,16,k,T,I)}function df(u,h,_,k,T,I){var D;for(D=3;0<D;--D)Qn(u,h+=4*_,_,1,16,k,T,I)}function to(u,h,_,k,T,I){var D;for(D=3;0<D;--D)Qn(u,h+=4,1,_,16,k,T,I)}function hf(u,h,_,k,T,I,D,M){ca(u,h,T,1,8,I,D,M),ca(_,k,T,1,8,I,D,M)}function _l(u,h,_,k,T,I,D,M){ca(u,h,1,T,8,I,D,M),ca(_,k,1,T,8,I,D,M)}function Sl(u,h,_,k,T,I,D,M){Qn(u,h+4*T,T,1,8,I,D,M),Qn(_,k+4*T,T,1,8,I,D,M)}function kc(u,h,_,k,T,I,D,M){Qn(u,h+4,1,T,8,I,D,M),Qn(_,k+4,1,T,8,I,D,M)}function ro(){this.ba=new Wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Nl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jc(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new C}function ff(){this.xb=this.a=0,this.l=new Js,this.ca=new Wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jc,this.ab=0,this.gc=s(4,kl),this.Oc=0}function no(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Js,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ss(u,h,_,k,T,I,D){for(u=u==null?0:u[h+0],h=0;h<D;++h)T[I+h]=u+_[k+h]&255,u=T[I+h]}function jl(u,h,_,k,T,I,D){var M;if(u==null)ss(null,null,_,k,T,I,D);else for(M=0;M<D;++M)T[I+M]=u[h+M]+_[k+M]&255}function da(u,h,_,k,T,I,D){if(u==null)ss(null,null,_,k,T,I,D);else{var M,U=u[h+0],Y=U,ae=U;for(M=0;M<D;++M)Y=ae+(U=u[h+M])-Y,ae=_[k+M]+(-256&Y?0>Y?0:255:Y)&255,Y=U,T[I+M]=ae}}function El(u,h,_,k){var T=h.width,I=h.o;if(t(u!=null&&h!=null),0>_||0>=k||_+k>I)return null;if(!u.Cc){if(u.ga==null){var D;if(u.ga=new no,(D=u.ga==null)||(D=h.width*h.o,t(u.Gb.length==0),u.Gb=a(D),u.Uc=0,u.Gb==null?D=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,D=1),D=!D),!D){D=u.ga;var M=u.Fa,U=u.P,Y=u.qc,ae=u.mb,fe=u.nb,pe=U+1,le=Y-1,_e=D.l;if(t(M!=null&&ae!=null&&h!=null),va[0]=null,va[1]=ss,va[2]=jl,va[3]=da,D.ca=ae,D.tb=fe,D.c=h.width,D.i=h.height,t(0<D.c&&0<D.i),1>=Y)h=0;else if(D.$a=M[U+0]>>0&3,D.Z=M[U+0]>>2&3,D.Lc=M[U+0]>>4&3,U=M[U+0]>>6&3,0>D.$a||1<D.$a||4<=D.Z||1<D.Lc||U)h=0;else if(_e.put=yi,_e.ac=jr,_e.bc=wi,_e.ma=D,_e.width=h.width,_e.height=h.height,_e.Da=h.Da,_e.v=h.v,_e.va=h.va,_e.j=h.j,_e.o=h.o,D.$a)e:{t(D.$a==1),h=An();t:for(;;){if(h==null){h=0;break e}if(t(D!=null),D.mc=h,h.c=D.c,h.i=D.i,h.l=D.l,h.l.ma=D,h.l.width=D.c,h.l.height=D.i,h.a=0,z(h.m,M,pe,le),!_i(D.c,D.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Di(h.s)?(D.ic=1,M=h.c*h.i,h.Ta=null,h.Ua=0,h.V=a(M),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(D.ic=0,h=rs(h,D.c)),!h))break t;h=1;break e}D.mc=null,h=0}else h=le>=D.c*D.i;D=!h}if(D)return null;u.ga.Lc!=1?u.Ga=0:k=I-_}t(u.ga!=null),t(_+k<=I);e:{if(h=(M=u.ga).c,I=M.l.o,M.$a==0){if(pe=u.rc,le=u.Vc,_e=u.Fa,U=u.P+1+_*h,Y=u.mb,ae=u.nb+_*h,t(U<=u.P+u.qc),M.Z!=0)for(t(va[M.Z]!=null),D=0;D<k;++D)va[M.Z](pe,le,_e,U,Y,ae,h),pe=Y,le=ae,ae+=h,U+=h;else for(D=0;D<k;++D)n(Y,ae,_e,U,h),pe=Y,le=ae,ae+=h,U+=h;u.rc=pe,u.Vc=le}else{if(t(M.mc!=null),h=_+k,t((D=M.mc)!=null),t(h<=D.i),D.C>=h)h=1;else if(M.ic||ce(),M.ic){M=D.V,pe=D.Ba,le=D.c;var ve=D.i,se=(_e=1,U=D.$/le,Y=D.$%le,ae=D.m,fe=D.s,D.$),oe=le*ve,be=le*h,Se=fe.wc,xe=se<be?lr(fe,Y,U):null;t(se<=oe),t(h<=ve),t(Di(fe));t:for(;;){for(;!ae.h&&se<be;){if(Y&Se||(xe=lr(fe,Y,U)),t(xe!=null),Z(ae),256>(ve=en(xe.G[0],xe.H[0],ae)))M[pe+se]=ve,++se,++Y>=le&&(Y=0,++U<=h&&!(U%16)&&Kn(D,U));else{if(!(280>ve)){_e=0;break t}ve=Vn(ve-256,ae);var Be,Re=en(xe.G[4],xe.H[4],ae);if(Z(ae),!(se>=(Re=bi(le,Re=Vn(Re,ae)))&&oe-se>=ve)){_e=0;break t}for(Be=0;Be<ve;++Be)M[pe+se+Be]=M[pe+se+Be-Re];for(se+=ve,Y+=ve;Y>=le;)Y-=le,++U<=h&&!(U%16)&&Kn(D,U);se<be&&Y&Se&&(xe=lr(fe,Y,U))}t(ae.h==q(ae))}Kn(D,U>h?h:U);break t}!_e||ae.h&&se<oe?(_e=0,D.a=ae.h?5:3):D.$=se,h=_e}else h=Jn(D,D.V,D.Ba,D.c,D.i,h,Hs);if(!h){k=0;break e}}_+k>=I&&(u.Cc=1),k=1}if(!k)return null;if(u.Cc&&((k=u.ga)!=null&&(k.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+_*T}function v(u,h,_,k,T,I){for(;0<T--;){var D,M=u,U=h+(_?1:0),Y=u,ae=h+(_?0:3);for(D=0;D<k;++D){var fe=Y[ae+4*D];fe!=255&&(fe*=32897,M[U+4*D+0]=M[U+4*D+0]*fe>>23,M[U+4*D+1]=M[U+4*D+1]*fe>>23,M[U+4*D+2]=M[U+4*D+2]*fe>>23)}h+=I}}function R(u,h,_,k,T){for(;0<k--;){var I;for(I=0;I<_;++I){var D=u[h+2*I+0],M=15&(Y=u[h+2*I+1]),U=4369*M,Y=(240&Y|Y>>4)*U>>16;u[h+2*I+0]=(240&D|D>>4)*U>>16&240|(15&D|D<<4)*U>>16>>4&15,u[h+2*I+1]=240&Y|M}h+=T}}function X(u,h,_,k,T,I,D,M){var U,Y,ae=255;for(Y=0;Y<T;++Y){for(U=0;U<k;++U){var fe=u[h+U];I[D+4*U]=fe,ae&=fe}h+=_,D+=M}return ae!=255}function ie(u,h,_,k,T){var I;for(I=0;I<T;++I)_[k+I]=u[h+I]>>8}function ce(){Rn=v,Lt=R,Tt=X,nr=ie}function we(u,h,_){P[u]=function(k,T,I,D,M,U,Y,ae,fe,pe,le,_e,ve,se,oe,be,Se){var xe,Be=Se-1>>1,Re=M[U+0]|Y[ae+0]<<16,Ye=fe[pe+0]|le[_e+0]<<16;t(k!=null);var Fe=3*Re+Ye+131074>>2;for(h(k[T+0],255&Fe,Fe>>16,ve,se),I!=null&&(Fe=3*Ye+Re+131074>>2,h(I[D+0],255&Fe,Fe>>16,oe,be)),xe=1;xe<=Be;++xe){var bt=M[U+xe]|Y[ae+xe]<<16,St=fe[pe+xe]|le[_e+xe]<<16,vt=Re+bt+Ye+St+524296,pt=vt+2*(bt+Ye)>>3;Fe=pt+Re>>1,Re=(vt=vt+2*(Re+St)>>3)+bt>>1,h(k[T+2*xe-1],255&Fe,Fe>>16,ve,se+(2*xe-1)*_),h(k[T+2*xe-0],255&Re,Re>>16,ve,se+(2*xe-0)*_),I!=null&&(Fe=vt+Ye>>1,Re=pt+St>>1,h(I[D+2*xe-1],255&Fe,Fe>>16,oe,be+(2*xe-1)*_),h(I[D+2*xe+0],255&Re,Re>>16,oe,be+(2*xe+0)*_)),Re=bt,Ye=St}1&Se||(Fe=3*Re+Ye+131074>>2,h(k[T+Se-1],255&Fe,Fe>>16,ve,se+(Se-1)*_),I!=null&&(Fe=3*Ye+Re+131074>>2,h(I[D+Se-1],255&Fe,Fe>>16,oe,be+(Se-1)*_)))}}function Ne(){In[Oc]=$w,In[Ic]=hg,In[og]=Hw,In[Fc]=fg,In[Dc]=pg,In[gf]=mg,In[lg]=Ww,In[vf]=hg,In[yf]=fg,In[Mc]=pg,In[wf]=mg}function Me(u){return u&-16384?0>u?0:255:u>>Vw}function Ve(u,h){return Me((19077*u>>8)+(26149*h>>8)-14234)}function lt(u,h,_){return Me((19077*u>>8)-(6419*h>>8)-(13320*_>>8)+8708)}function st(u,h){return Me((19077*u>>8)+(33050*h>>8)-17685)}function gt(u,h,_,k,T){k[T+0]=Ve(u,_),k[T+1]=lt(u,h,_),k[T+2]=st(u,h)}function Ut(u,h,_,k,T){k[T+0]=st(u,h),k[T+1]=lt(u,h,_),k[T+2]=Ve(u,_)}function Kt(u,h,_,k,T){var I=lt(u,h,_);h=I<<3&224|st(u,h)>>3,k[T+0]=248&Ve(u,_)|I>>5,k[T+1]=h}function ur(u,h,_,k,T){var I=240&st(u,h)|15;k[T+0]=240&Ve(u,_)|lt(u,h,_)>>4,k[T+1]=I}function Fr(u,h,_,k,T){k[T+0]=255,gt(u,h,_,k,T+1)}function xr(u,h,_,k,T){Ut(u,h,_,k,T),k[T+3]=255}function Xn(u,h,_,k,T){gt(u,h,_,k,T),k[T+3]=255}function pn(u,h){return 0>u?0:u>h?h:u}function ki(u,h,_){P[u]=function(k,T,I,D,M,U,Y,ae,fe){for(var pe=ae+(-2&fe)*_;ae!=pe;)h(k[T+0],I[D+0],M[U+0],Y,ae),h(k[T+1],I[D+0],M[U+0],Y,ae+_),T+=2,++D,++U,ae+=2*_;1&fe&&h(k[T+0],I[D+0],M[U+0],Y,ae)}}function Ec(u,h,_){return _==0?u==0?h==0?6:5:h==0?4:0:_}function Cl(u,h,_,k,T){switch(u>>>30){case 3:qi(h,_,k,T,0);break;case 2:rr(h,_,k,T);break;case 1:Kr(h,_,k,T)}}function Al(u,h){var _,k,T=h.M,I=h.Nb,D=u.oc,M=u.pc+40,U=u.oc,Y=u.pc+584,ae=u.oc,fe=u.pc+600;for(_=0;16>_;++_)D[M+32*_-1]=129;for(_=0;8>_;++_)U[Y+32*_-1]=129,ae[fe+32*_-1]=129;for(0<T?D[M-1-32]=U[Y-1-32]=ae[fe-1-32]=129:(i(D,M-32-1,127,21),i(U,Y-32-1,127,9),i(ae,fe-32-1,127,9)),k=0;k<u.za;++k){var pe=h.ya[h.aa+k];if(0<k){for(_=-1;16>_;++_)n(D,M+32*_-4,D,M+32*_+12,4);for(_=-1;8>_;++_)n(U,Y+32*_-4,U,Y+32*_+4,4),n(ae,fe+32*_-4,ae,fe+32*_+4,4)}var le=u.Gd,_e=u.Hd+k,ve=pe.ad,se=pe.Hc;if(0<T&&(n(D,M-32,le[_e].y,0,16),n(U,Y-32,le[_e].f,0,8),n(ae,fe-32,le[_e].ea,0,8)),pe.Za){var oe=D,be=M-32+16;for(0<T&&(k>=u.za-1?i(oe,be,le[_e].y[15],4):n(oe,be,le[_e+1].y,0,4)),_=0;4>_;_++)oe[be+128+_]=oe[be+256+_]=oe[be+384+_]=oe[be+0+_];for(_=0;16>_;++_,se<<=2)oe=D,be=M+vg[_],Zn[pe.Ob[_]](oe,be),Cl(se,ve,16*+_,oe,be)}else if(oe=Ec(k,T,pe.Ob[0]),ga[oe](D,M),se!=0)for(_=0;16>_;++_,se<<=2)Cl(se,ve,16*+_,D,M+vg[_]);for(_=pe.Gc,oe=Ec(k,T,pe.Dd),Hi[oe](U,Y),Hi[oe](ae,fe),se=ve,oe=U,be=Y,255&(pe=_>>0)&&(170&pe?Ol(se,256,oe,be):Ln(se,256,oe,be)),pe=ae,se=fe,255&(_>>=8)&&(170&_?Ol(ve,320,pe,se):Ln(ve,320,pe,se)),T<u.Ub-1&&(n(le[_e].y,0,D,M+480,16),n(le[_e].f,0,U,Y+224,8),n(le[_e].ea,0,ae,fe+224,8)),_=8*I*u.B,le=u.sa,_e=u.ta+16*k+16*I*u.R,ve=u.qa,pe=u.ra+8*k+_,se=u.Ha,oe=u.Ia+8*k+_,_=0;16>_;++_)n(le,_e+_*u.R,D,M+32*_,16);for(_=0;8>_;++_)n(ve,pe+_*u.B,U,Y+32*_,8),n(se,oe+_*u.B,ae,fe+32*_,8)}}function io(u,h,_,k,T,I,D,M,U){var Y=[0],ae=[0],fe=0,pe=U!=null?U.kd:0,le=U??new Nl;if(u==null||12>_)return 7;le.data=u,le.w=h,le.ha=_,h=[h],_=[_],le.gb=[le.gb];e:{var _e=h,ve=_,se=le.gb;if(t(u!=null),t(ve!=null),t(se!=null),se[0]=0,12<=ve[0]&&!r(u,_e[0],"RIFF")){if(r(u,_e[0]+8,"WEBP")){se=3;break e}var oe=Te(u,_e[0]+4);if(12>oe||4294967286<oe){se=3;break e}if(pe&&oe>ve[0]-8){se=7;break e}se[0]=oe,_e[0]+=12,ve[0]-=12}se=0}if(se!=0)return se;for(oe=0<le.gb[0],_=_[0];;){e:{var be=u;ve=h,se=_;var Se=Y,xe=ae,Be=_e=[0];if((Fe=fe=[fe])[0]=0,8>se[0])se=7;else{if(!r(be,ve[0],"VP8X")){if(Te(be,ve[0]+4)!=10){se=3;break e}if(18>se[0]){se=7;break e}var Re=Te(be,ve[0]+8),Ye=1+Ae(be,ve[0]+12);if(2147483648<=Ye*(be=1+Ae(be,ve[0]+15))){se=3;break e}Be!=null&&(Be[0]=Re),Se!=null&&(Se[0]=Ye),xe!=null&&(xe[0]=be),ve[0]+=18,se[0]-=18,Fe[0]=1}se=0}}if(fe=fe[0],_e=_e[0],se!=0)return se;if(ve=!!(2&_e),!oe&&fe)return 3;if(I!=null&&(I[0]=!!(16&_e)),D!=null&&(D[0]=ve),M!=null&&(M[0]=0),D=Y[0],_e=ae[0],fe&&ve&&U==null){se=0;break}if(4>_){se=7;break}if(oe&&fe||!oe&&!fe&&!r(u,h[0],"ALPH")){_=[_],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{Re=u,se=h,oe=_;var Fe=le.gb;Se=le.na,xe=le.P,Be=le.Sa,Ye=22,t(Re!=null),t(oe!=null),be=se[0];var bt=oe[0];for(t(Se!=null),t(Be!=null),Se[0]=null,xe[0]=null,Be[0]=0;;){if(se[0]=be,oe[0]=bt,8>bt){se=7;break e}var St=Te(Re,be+4);if(4294967286<St){se=3;break e}var vt=8+St+1&-2;if(Ye+=vt,0<Fe&&Ye>Fe){se=3;break e}if(!r(Re,be,"VP8 ")||!r(Re,be,"VP8L")){se=0;break e}if(bt[0]<vt){se=7;break e}r(Re,be,"ALPH")||(Se[0]=Re,xe[0]=be+8,Be[0]=St),be+=vt,bt-=vt}}if(_=_[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],se!=0)break}_=[_],le.Ja=[le.Ja],le.xa=[le.xa];e:if(Fe=u,se=h,oe=_,Se=le.gb[0],xe=le.Ja,Be=le.xa,Re=se[0],be=!r(Fe,Re,"VP8 "),Ye=!r(Fe,Re,"VP8L"),t(Fe!=null),t(oe!=null),t(xe!=null),t(Be!=null),8>oe[0])se=7;else{if(be||Ye){if(Fe=Te(Fe,Re+4),12<=Se&&Fe>Se-12){se=3;break e}if(pe&&Fe>oe[0]-8){se=7;break e}xe[0]=Fe,se[0]+=8,oe[0]-=8,Be[0]=Ye}else Be[0]=5<=oe[0]&&Fe[Re+0]==47&&!(Fe[Re+4]>>5),xe[0]=oe[0];se=0}if(_=_[0],le.Ja=le.Ja[0],le.xa=le.xa[0],h=h[0],se!=0)break;if(4294967286<le.Ja)return 3;if(M==null||ve||(M[0]=le.xa?2:1),D=[D],_e=[_e],le.xa){if(5>_){se=7;break}M=D,pe=_e,ve=I,u==null||5>_?u=0:5<=_&&u[h+0]==47&&!(u[h+4]>>5)?(oe=[0],Fe=[0],Se=[0],z(xe=new E,u,h,_),Xe(xe,oe,Fe,Se)?(M!=null&&(M[0]=oe[0]),pe!=null&&(pe[0]=Fe[0]),ve!=null&&(ve[0]=Se[0]),u=1):u=0):u=0}else{if(10>_){se=7;break}M=_e,u==null||10>_||!dc(u,h+3,_-3)?u=0:(pe=u[h+0]|u[h+1]<<8|u[h+2]<<16,ve=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=le.Ja||!ve||!u?u=0:(D&&(D[0]=ve),M&&(M[0]=u),u=1))}if(!u||(D=D[0],_e=_e[0],fe&&(Y[0]!=D||ae[0]!=_e)))return 3;U!=null&&(U[0]=le,U.offset=h-U.w,t(4294967286>h-U.w),t(U.offset==U.ha-_));break}return se==0||se==7&&fe&&U==null?(I!=null&&(I[0]|=le.na!=null&&0<le.na.length),k!=null&&(k[0]=D),T!=null&&(T[0]=_e),0):se}function Pl(u,h,_){var k=h.width,T=h.height,I=0,D=0,M=k,U=T;if(h.Da=u!=null&&0<u.Da,h.Da&&(M=u.cd,U=u.bd,I=u.v,D=u.j,11>_||(I&=-2,D&=-2),0>I||0>D||0>=M||0>=U||I+M>k||D+U>T))return 0;if(h.v=I,h.j=D,h.va=I+M,h.o=D+U,h.U=M,h.T=U,h.da=u!=null&&0<u.da,h.da){if(!nt(M,U,_=[u.ib],I=[u.hb]))return 0;h.ib=_[0],h.hb=I[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*k/4&&h.hb<3*T/4,h.Kb=0),1}function Ll(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function ao(u,h,_,k){if(k==null||0>=u||0>=h)return 2;if(_!=null){if(_.Da){var T=_.cd,I=_.bd,D=-2&_.v,M=-2&_.j;if(0>D||0>M||0>=T||0>=I||D+T>u||M+I>h)return 2;u=T,h=I}if(_.da){if(!nt(u,h,T=[_.ib],I=[_.hb]))return 2;u=T[0],h=I[0]}}k.width=u,k.height=h;e:{var U=k.width,Y=k.height;if(u=k.S,0>=U||0>=Y||!(u>=Oc&&13>u))u=2;else{if(0>=k.Rd&&k.sd==null){D=I=T=h=0;var ae=(M=U*yg[u])*Y;if(11>u||(I=(Y+1)/2*(h=(U+1)/2),u==12&&(D=(T=U)*Y)),(Y=a(ae+2*I+D))==null){u=1;break e}k.sd=Y,11>u?((U=k.f.RGBA).eb=Y,U.fb=0,U.A=M,U.size=ae):((U=k.f.kb).y=Y,U.O=0,U.fa=M,U.Fd=ae,U.f=Y,U.N=0+ae,U.Ab=h,U.Cd=I,U.ea=Y,U.W=0+ae+I,U.Db=h,U.Ed=I,u==12&&(U.F=Y,U.J=0+ae+2*I),U.Tc=D,U.lb=T)}if(h=1,T=k.S,I=k.width,D=k.height,T>=Oc&&13>T)if(11>T)u=k.f.RGBA,h&=(M=Math.abs(u.A))*(D-1)+I<=u.size,h&=M>=I*yg[T],h&=u.eb!=null;else{u=k.f.kb,M=(I+1)/2,ae=(D+1)/2,U=Math.abs(u.fa),Y=Math.abs(u.Ab);var fe=Math.abs(u.Db),pe=Math.abs(u.lb),le=pe*(D-1)+I;h&=U*(D-1)+I<=u.Fd,h&=Y*(ae-1)+M<=u.Cd,h=(h&=fe*(ae-1)+M<=u.Ed)&U>=I&Y>=M&fe>=M,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,T==12&&(h&=pe>=I,h&=le<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||_!=null&&_.fd&&(u=Ll(k)),u}var Er=64,so=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],oo=24,lo=32,Tl=8,rn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(u){return u},P.Predictor2=function(u,h,_){return h[_+0]},P.Predictor3=function(u,h,_){return h[_+1]},P.Predictor4=function(u,h,_){return h[_-1]},P.Predictor5=function(u,h,_){return Oe(Oe(u,h[_+1]),h[_+0])},P.Predictor6=function(u,h,_){return Oe(u,h[_-1])},P.Predictor7=function(u,h,_){return Oe(u,h[_+0])},P.Predictor8=function(u,h,_){return Oe(h[_-1],h[_+0])},P.Predictor9=function(u,h,_){return Oe(h[_+0],h[_+1])},P.Predictor10=function(u,h,_){return Oe(Oe(u,h[_-1]),Oe(h[_+0],h[_+1]))},P.Predictor11=function(u,h,_){var k=h[_+0];return 0>=Le(k>>24&255,u>>24&255,(h=h[_-1])>>24&255)+Le(k>>16&255,u>>16&255,h>>16&255)+Le(k>>8&255,u>>8&255,h>>8&255)+Le(255&k,255&u,255&h)?k:u},P.Predictor12=function(u,h,_){var k=h[_+0];return(He((u>>24&255)+(k>>24&255)-((h=h[_-1])>>24&255))<<24|He((u>>16&255)+(k>>16&255)-(h>>16&255))<<16|He((u>>8&255)+(k>>8&255)-(h>>8&255))<<8|He((255&u)+(255&k)-(255&h)))>>>0},P.Predictor13=function(u,h,_){var k=h[_-1];return(ge((u=Oe(u,h[_+0]))>>24&255,k>>24&255)<<24|ge(u>>16&255,k>>16&255)<<16|ge(u>>8&255,k>>8&255)<<8|ge(u>>0&255,k>>0&255))>>>0};var pf=P.PredictorAdd0;P.PredictorAdd1=We,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var Rl=P.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Cc,Pn=P.ColorIndexInverseTransform,uo=P.MapARGB,Ac=P.VP8LColorIndexInverseTransformAlpha,Pc=P.MapAlpha,ha=P.VP8LPredictorsAdd=[];ha.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var os,nn,Gr,fa,Ui,zi,co,qi,rr,Ol,Kr,Ln,ho,Lc,Il,ls,us,pa,cs,fo,ds,ma,Fl,Tn,Rn,Lt,Tt,nr,gr=a(511),$i=a(2041),Dl=a(225),po=a(767),Tc=0,mf=$i,Rc=Dl,mn=po,On=gr,Oc=0,Ic=1,og=2,Fc=3,Dc=4,gf=5,lg=6,vf=7,yf=8,Mc=9,wf=10,Aw=[2,3,7],Pw=[3,3,11],ug=[280,256,256,256,40],Lw=[0,1,1,1,0],Tw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Rw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ow=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Iw=8,bf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ml=null,Fw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Mw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Bw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Uw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],zw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ga=[],Zn=[],Hi=[],qw=1,dg=2,va=[],In=[];we("UpsampleRgbLinePair",gt,3),we("UpsampleBgrLinePair",Ut,3),we("UpsampleRgbaLinePair",Xn,4),we("UpsampleBgraLinePair",xr,4),we("UpsampleArgbLinePair",Fr,4),we("UpsampleRgba4444LinePair",ur,2),we("UpsampleRgb565LinePair",Kt,2);var $w=P.UpsampleRgbLinePair,Hw=P.UpsampleBgrLinePair,hg=P.UpsampleRgbaLinePair,fg=P.UpsampleBgraLinePair,pg=P.UpsampleArgbLinePair,mg=P.UpsampleRgba4444LinePair,Ww=P.UpsampleRgb565LinePair,Bc=16,Uc=1<<Bc-1,Bl=-227,_f=482,Vw=6,gg=0,Gw=a(256),Kw=a(256),Jw=a(256),Yw=a(256),Qw=a(_f-Bl),Xw=a(_f-Bl);ki("YuvToRgbRow",gt,3),ki("YuvToBgrRow",Ut,3),ki("YuvToRgbaRow",Xn,4),ki("YuvToBgraRow",xr,4),ki("YuvToArgbRow",Fr,4),ki("YuvToRgba4444Row",ur,2),ki("YuvToRgb565Row",Kt,2);var vg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zc=[0,2,8],Zw=[8,7,6,4,4,2,2,2,1,1,1,1],eb=1;this.WebPDecodeRGBA=function(u,h,_,k,T){var I=Ic,D=new ro,M=new Wn;D.ba=M,M.S=I,M.width=[M.width],M.height=[M.height];var U=M.width,Y=M.height,ae=new Fi;if(ae==null||u==null)var fe=2;else t(ae!=null),fe=io(u,h,_,ae.width,ae.height,ae.Pd,ae.Qd,ae.format,null);if(fe!=0?U=0:(U!=null&&(U[0]=ae.width[0]),Y!=null&&(Y[0]=ae.height[0]),U=1),U){M.width=M.width[0],M.height=M.height[0],k!=null&&(k[0]=M.width),T!=null&&(T[0]=M.height);e:{if(k=new Js,(T=new Nl).data=u,T.w=h,T.ha=_,T.kd=1,h=[0],t(T!=null),((u=io(T.data,T.w,T.ha,null,null,null,h,null,T))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(D!=null),k.data=T.data,k.w=T.w+T.offset,k.ha=T.ha-T.offset,k.put=yi,k.ac=jr,k.bc=wi,k.ma=D,T.xa){if((u=An())==null){D=1;break e}if(function(pe,le){var _e=[0],ve=[0],se=[0];t:for(;;){if(pe==null)return 0;if(le==null)return pe.a=2,0;if(pe.l=le,pe.a=0,z(pe.m,le.data,le.w,le.ha),!Xe(pe.m,_e,ve,se)){pe.a=3;break t}if(pe.xb=dg,le.width=_e[0],le.height=ve[0],!_i(_e[0],ve[0],1,pe,null))break t;return 1}return t(pe.a!=0),0}(u,k)){if(k=(h=ao(k.width,k.height,D.Oa,D.ba))==0){t:{k=u;r:for(;;){if(k==null){k=0;break t}if(t(k.s.yc!=null),t(k.s.Ya!=null),t(0<k.s.Wb),t((_=k.l)!=null),t((T=_.ma)!=null),k.xb!=0){if(k.ca=T.ba,k.tb=T.tb,t(k.ca!=null),!Pl(T.Oa,_,Fc)){k.a=2;break r}if(!rs(k,_.width)||_.da)break r;if((_.da||xt(k.ca.S))&&ce(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&ce()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!Ke(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!Jn(k,k.V,k.Ba,k.c,k.i,_.o,$s))break r;T.Dc=k.Ma,k=1;break t}t(k.a!=0),k=0}k=!k}k&&(h=u.a)}else h=u.a}else{if((u=new Kh)==null){D=1;break e}if(u.Fa=T.na,u.P=T.P,u.qc=T.Sa,hc(u,k)){if((h=ao(k.width,k.height,D.Oa,D.ba))==0){if(u.Aa=0,_=D.Oa,t((T=u)!=null),_!=null){if(0<(U=0>(U=_.Md)?0:100<U?255:255*U/100)){for(Y=ae=0;4>Y;++Y)12>(fe=T.pb[Y]).lc&&(fe.ia=U*Zw[0>fe.lc?0:fe.lc]>>3),ae|=fe.ia;ae&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=_.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}Jh(u,k)||(h=u.a)}}else h=u.a}h==0&&D.Oa!=null&&D.Oa.fd&&(h=Ll(D.ba))}D=h}I=D!=0?null:11>I?M.f.RGBA.eb:M.f.kb.y}else I=null;return I};var yg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,$){for(var K="",A=0;A<4;A++)K+=String.fromCharCode(P[$++]);return K}function d(P,$){return(P[$+0]<<0|P[$+1]<<8|P[$+2]<<16)>>>0}function m(P,$){return(P[$+0]<<0|P[$+1]<<8|P[$+2]<<16|P[$+3]<<24)>>>0}new o;var g=[0],p=[0],b=[],S=new o,N=e,y=function(P,$){var K={},A=0,C=!1,V=0,W=0;if(K.frames=[],!function(B,q,Q,Z){for(var ue=0;ue<Z;ue++)if(B[q+ue]!=Q.charCodeAt(ue))return!0;return!1}(P,$,"RIFF",4)){var te,H;for(m(P,$+=4),$+=8;$<P.length;){var J=c(P,$),z=m(P,$+=4);$+=4;var G=z+(1&z);switch(J){case"VP8 ":case"VP8L":K.frames[A]===void 0&&(K.frames[A]={}),(E=K.frames[A]).src_off=C?W:$-8,E.src_size=V+z+8,A++,C&&(C=!1,V=0,W=0);break;case"VP8X":(E=K.header={}).feature_flags=P[$];var re=$+4;E.canvas_width=1+d(P,re),re+=3,E.canvas_height=1+d(P,re),re+=3;break;case"ALPH":C=!0,V=G+8,W=$-8;break;case"ANIM":(E=K.header).bgcolor=m(P,$),re=$+4,E.loop_count=(te=P)[(H=re)+0]<<0|te[H+1]<<8,re+=2;break;case"ANMF":var de,E;(E=K.frames[A]={}).offset_x=2*d(P,$),$+=3,E.offset_y=2*d(P,$),$+=3,E.width=1+d(P,$),$+=3,E.height=1+d(P,$),$+=3,E.duration=d(P,$),$+=3,de=P[$++],E.dispose=1&de,E.blend=de>>1&1}J!="ANMF"&&($+=G)}return K}}(N,0);y.response=N,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,w=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,g=[x.canvas_height],p=[x.canvas_width];for(var j=0;j<w.length&&w[j].blend!=0;j++);}var O=w[0],F=S.WebPDecodeRGBA(N,O.src_off,O.src_size,p,g);O.rgba=F,O.imgwidth=p[0],O.imgheight=g[0];for(var L=0;L<p[0]*g[0]*4;L++)b[L]=F[L];return this.width=p,this.height=g,this.data=b,this}(function(e){var t=function(){return typeof U0=="function"},r=function(g,p,b,S){var N=4,y=s;switch(S){case e.image_compression.FAST:N=1,y=a;break;case e.image_compression.MEDIUM:N=6,y=l;break;case e.image_compression.SLOW:N=9,y=o}g=n(g,p,b,y);var x=U0(g,{level:N});return e.__addimage__.arrayBufferToBinaryString(x)},n=function(g,p,b,S){for(var N,y,x,w=g.length/p,j=new Uint8Array(g.length+w),O=d(),F=0;F<w;F+=1){if(x=F*p,N=g.subarray(x,x+p),S)j.set(S(N,b,y),x+F);else{for(var L,P=O.length,$=[];L<P;L+=1)$[L]=O[L](N,b,y);var K=m($.concat());j.set($[K],x+F)}y=N}return j},i=function(g){var p=Array.apply([],g);return p.unshift(0),p},a=function(g,p){var b,S=[],N=g.length;S[0]=1;for(var y=0;y<N;y+=1)b=g[y-p]||0,S[y+1]=g[y]-b+256&255;return S},s=function(g,p,b){var S,N=[],y=g.length;N[0]=2;for(var x=0;x<y;x+=1)S=b&&b[x]||0,N[x+1]=g[x]-S+256&255;return N},l=function(g,p,b){var S,N,y=[],x=g.length;y[0]=3;for(var w=0;w<x;w+=1)S=g[w-p]||0,N=b&&b[w]||0,y[w+1]=g[w]+256-(S+N>>>1)&255;return y},o=function(g,p,b){var S,N,y,x,w=[],j=g.length;w[0]=4;for(var O=0;O<j;O+=1)S=g[O-p]||0,N=b&&b[O]||0,y=b&&b[O-p]||0,x=c(S,N,y),w[O+1]=g[O]-x+256&255;return w},c=function(g,p,b){if(g===p&&p===b)return g;var S=Math.abs(p-b),N=Math.abs(g-b),y=Math.abs(g+p-b-b);return S<=N&&S<=y?g:N<=y?p:b},d=function(){return[i,a,s,l,o]},m=function(g){var p=g.map(function(b){return b.reduce(function(S,N){return S+Math.abs(N)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(g,p,b,S){var N,y,x,w,j,O,F,L,P,$,K,A,C,V,W,te=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(x=new Uk(g)).imgData,y=x.bits,N=x.colorSpace,j=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){P=(L=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,K=new Uint8Array(P*x.colors),$=new Uint8Array(P);var J,z=x.pixelBitlength-x.bits;for(V=0,W=0;V<P;V++){for(C=L[V],J=0;J<z;)K[W++]=C>>>J&255,J+=x.bits;$[V]=C>>>J&255}}if(x.bits===16){P=(L=new Uint32Array(x.decodePixels().buffer)).length,K=new Uint8Array(P*(32/x.pixelBitlength)*x.colors),$=new Uint8Array(P*(32/x.pixelBitlength)),A=x.colors>1,V=0,W=0;for(var G=0;V<P;)C=L[V++],K[W++]=C>>>0&255,A&&(K[W++]=C>>>16&255,C=L[V++],K[W++]=C>>>0&255),$[G++]=C>>>16&255;y=8}S!==e.image_compression.NONE&&t()?(g=r(K,x.width*x.colors,x.colors,S),F=r($,x.width,1,S)):(g=K,F=$,te=void 0)}if(x.colorType===3&&(N=this.color_spaces.INDEXED,O=x.palette,x.transparency.indexed)){var re=x.transparency.indexed,de=0;for(V=0,P=re.length;V<P;++V)de+=re[V];if((de/=255)===P-1&&re.indexOf(0)!==-1)w=[re.indexOf(0)];else if(de!==P){for(L=x.decodePixels(),$=new Uint8Array(L.length),V=0,P=L.length;V<P;V++)$[V]=re[L[V]];F=r($,x.width,1)}}var E=function(B){var q;switch(B){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(S);return te===this.decode.FLATE_DECODE&&(H="/Predictor "+E+" "),H+="/Colors "+j+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:b,data:g,index:p,filter:te,decodeParameters:H,transparency:w,palette:O,sMask:F,predictor:E,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:N}}}})(Ge.API),function(e){e.processGIF89A=function(t,r,n,i){var a=new zk(t),s=a.width,l=a.height,o=[];a.decodeAndBlitFrameRGBA(0,o);var c={data:o,width:s,height:l},d=new Ep(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(Ge.API),ni.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ni.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Pt.log("bit decode error:"+r)}},ni.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var o=this.palette[a>>7-l&1];this.data[s+4*l]=o.blue,this.data[s+4*l+1]=o.green,this.data[s+4*l+2]=o.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ni.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,l=a>>4,o=15&a,c=this.palette[l];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[o],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},ni.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},ni.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,o=(a>>10&t)/t*255|0,c=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=o,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},ni.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,o=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,d=i*this.width*4+4*a;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},ni.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},ni.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=s}},ni.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new ni(t,!1),s=a.width,l=a.height,o={data:a.getData(),width:s,height:l},c=new Ep(100).encode(o,100);return e.processJPEG.call(this,c,r,n,i)}}(Ge.API),B2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new B2(t),s=a.width,l=a.height,o={data:a.getData(),width:s,height:l},c=new Ep(100).encode(o,100);return e.processJPEG.call(this,c,r,n,i)}}(Ge.API),Ge.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,o=0,c=0;c<i;c+=4){var d=n[c],m=n[c+1],g=n[c+2],p=n[c+3];a[l++]=d,a[l++]=m,a[l++]=g,s[o++]=p}var b=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ge.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Eo=Ge.API,Nd=Eo.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,o=l.fof?l.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,m=t.doKerning!==!1,g=0,p=e.length,b=0,S=l[0]||o,N=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(g=m&&kt(c[n])==="object"&&!isNaN(parseInt(c[n][b],10))?c[n][b]/d:0,N.push((l[n]||S)/o+g)),b=n;return N},I2=Eo.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Eo.processArabic&&(e=Eo.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:Nd.apply(this,arguments).reduce(function(a,s){return a+s},0)},F2=function(e,t,r,n){for(var i=[],a=0,s=e.length,l=0;a!==s&&l+t[a]<r;)l+=t[a],a++;i.push(e.slice(0,a));var o=a;for(l=0;a!==s;)l+t[a]>n&&(i.push(e.slice(o,a)),l=0,o=a),l+=t[a],a++;return o!==a&&i.push(e.slice(o,a)),i},D2=function(e,t,r){r||(r={});var n,i,a,s,l,o,c,d=[],m=[d],g=r.textIndent||0,p=0,b=0,S=e.split(" "),N=Nd.apply(this,[" ",r])[0];if(o=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var y=Array(o).join(" "),x=[];S.map(function(j){(j=j.split(/\s*\n/)).length>1?x=x.concat(j.map(function(O,F){return(F&&O.length?`
`:"")+O})):x.push(j[0])}),S=x,o=I2.apply(this,[y,r])}for(a=0,s=S.length;a<s;a++){var w=0;if(n=S[a],o&&n[0]==`
`&&(n=n.substr(1),w=1),g+p+(b=(i=Nd.apply(this,[n,r])).reduce(function(j,O){return j+O},0))>t||w){if(b>t){for(l=F2.apply(this,[n,i,t-(g+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)m.push([l.shift()]);b=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,O){return j+O},0)}else d=[n];m.push(d),g=b+o,p=N}else d.push(n),g+=p+b,p=N}return c=o?function(j,O){return(O?y:"")+j.join(" ")}:function(j){return j.join(" ")},m.map(c)},Eo.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,o,c=[];for(l=0,o=n.length;l<o;l++)c=c.concat(D2.apply(this,[n[l],s,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(m){return"0x"+parseInt(m,10).toString(16)},s=e.__fontmetrics__.compress=function(m){var g,p,b,S,N=["{"];for(var y in m){if(g=m[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=a(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof g=="number")g<0?(b=a(g).slice(3),S="-"):(b=a(g).slice(2),S=""),b=S+b.slice(0,-1)+n[b.slice(-1)];else{if(kt(g)!=="object")throw new Error("Don't know what to do with value type "+kt(g)+".");b=s(g)}N.push(p+b)}return N.push("}"),N.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,p,b,S,N={},y=1,x=N,w=[],j="",O="",F=m.length-1,L=1;L<F;L+=1)(S=m[L])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(w.push([x,b]),x={},b=void 0):S=="}"?((p=w.pop())[0][p[1]]=x,b=void 0,x=p[0]):S=="-"?y=-1:b===void 0?r.hasOwnProperty(S)?(j+=r[S],b=parseInt(j,16)*y,y=1,j=""):j+=S:r.hasOwnProperty(S)?(O+=r[S],x[b]=parseInt(O,16)*y,y=1,b=void 0,O=""):O+=S;return N},o={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:o,"Courier-Bold":o,"Courier-BoldOblique":o,"Courier-Oblique":o,Helvetica:o,"Helvetica-Bold":o,"Helvetica-BoldOblique":o,"Helvetica-Oblique":o,"Times-Roman":o,"Times-Bold":o,"Times-BoldItalic":o,"Times-Italic":o}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var g=m.font,p=d.Unicode[g.postScriptName];p&&(g.metadata.Unicode={},g.metadata.Unicode.widths=p.widths,g.metadata.Unicode.kerning=p.kerning);var b=c.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])}(Ge.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(wu(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ge),function(e){function t(){return(tt.canvg?Promise.resolve(tt.canvg):I0(()=>import("./index.es-Bp8Q1bnG.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ge.API.addSvgAsImage=function(r,n,i,a,s,l,o,c){if(isNaN(n)||isNaN(i))throw Pt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Pt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=s;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(b){return b.fromString(m,r,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(g)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,i,a,s,o,c)})}}(),Ge.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Ge.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),o=[],c=0,d=0,m=0;function g(b,S){var N,y=!1;for(N=0;N<b.length;N+=1)b[N]===S&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(kt(e)==="object"){for(i in e)if(a=e[i],g(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&g(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")o.push(String(a[c]-1));else if(a[c].length>1){for(d=0;d<a[c].length;d+=1)typeof a[c][d]!="number"&&(n=!1);n===!0&&o.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+o.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,S=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?S.push("/"+b+" /"+r[b].value):S.push("/"+b+" "+r[b].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+l.length+i.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+o),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ge.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var l,o=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],m=0,g=a.length;m<g;++m){if(l=s.metadata.characterToGlyph(a.charCodeAt(m)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(m),o.indexOf(l)==-1&&(o.push(l),o.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(c[4-l.length],l)}return d.join("")},n=function(a){var s,l,o,c,d,m,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,o=[],m=0,g=(l=Object.keys(a).sort(function(p,b){return p-b})).length;m<g;m++)s=l[m],o.length>=100&&(d+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar`,o=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),o.push("<"+s+"><"+c+">"));return o.length&&(d+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var l=s.font,o=s.out,c=s.newObject,d=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",b=0;b<g.length;b++)p+=String.fromCharCode(g[b]);var S=c();d({data:p,addLength1:!0,objectId:S}),o("endobj");var N=c();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),o("endobj");var y=c();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+To(l.fontName)),o("/FontFile2 "+S+" 0 R"),o("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),o("/Flags "+l.metadata.flags),o("/StemV "+l.metadata.stemV),o("/ItalicAngle "+l.metadata.italicAngle),o("/Ascent "+l.metadata.ascender),o("/Descent "+l.metadata.decender),o("/CapHeight "+l.metadata.capHeight),o(">>"),o("endobj");var x=c();o("<<"),o("/Type /Font"),o("/BaseFont /"+To(l.fontName)),o("/FontDescriptor "+y+" 0 R"),o("/W "+e.API.PDFObject.convert(m)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+l.encoding+")"),o(">>"),o(">>"),o("endobj"),l.objectNumber=c(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+N+" 0 R"),o("/BaseFont /"+To(l.fontName)),o("/Encoding /"+l.encoding),o("/DescendantFonts ["+x+" 0 R]"),o(">>"),o("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var l=s.font,o=s.out,c=s.newObject,d=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,g="",p=0;p<m.length;p++)g+=String.fromCharCode(m[p]);var b=c();d({data:g,addLength1:!0,objectId:b}),o("endobj");var S=c();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),o("endobj");var N=c();o("<<"),o("/Descent "+l.metadata.decender),o("/CapHeight "+l.metadata.capHeight),o("/StemV "+l.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+b+" 0 R"),o("/Flags 96"),o("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),o("/FontName /"+To(l.fontName)),o("/ItalicAngle "+l.metadata.italicAngle),o("/Ascent "+l.metadata.ascender),o(">>"),o("endobj"),l.objectNumber=c();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+To(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),o("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",o=a.x,c=a.y,d=a.options||{},m=a.mutex||{},g=m.pdfEscape,p=m.activeFontKey,b=m.fonts,S=p,N="",y=0,x="",w=b[S].encoding;if(b[S].encoding!=="Identity-H")return{text:l,x:o,y:c,options:d,mutex:m};for(x=l,S=p,Array.isArray(l)&&(x=l[0]),y=0;y<x.length;y+=1)b[S].metadata.hasOwnProperty("cmap")&&(s=b[S].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),s||x[y].charCodeAt(0)<256&&b[S].metadata.hasOwnProperty("Unicode")?N+=x[y]:N+="";var j="";return parseInt(S.slice(1))<14||w==="WinAnsiEncoding"?j=g(N,S).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(j=r(N,b[S])),m.isHex=!0,{text:j,x:o,y:c,options:d,mutex:m}};t.events.push(["postProcessText",function(a){var s=a.text||"",l=[],o={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?l.push([i(Object.assign({},o,{text:s[c][0]})).text,s[c][1],s[c][2]]):l.push(i(Object.assign({},o,{text:s[c]})).text);a.text=l}else a.text=i(Object.assign({},o,{text:s})).text}])}(Ge),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ge.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,l,o,c,d,m=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,w=0;this.__bidiEngine__={};var j=function(A){var C=A.charCodeAt(),V=C>>8,W=S[V];return W!==void 0?m[256*W+(255&C)]:V===252||V===253?"AL":y.test(V)?"L":V===8?"R":"N"},O=function(A){for(var C,V=0;V<A.length;V++){if((C=j(A.charAt(V)))==="L")return!1;if(C==="R")return!0}return!1},F=function(A,C,V,W){var te,H,J,z,G=C[W];switch(G){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(G="AN");break;case"AL":x=!0,G="R";break;case"WS":G="N";break;case"CS":W<1||W+1>=C.length||(te=V[W-1])!=="EN"&&te!=="AN"||(H=C[W+1])!=="EN"&&H!=="AN"?G="N":x&&(H="AN"),G=H===te?H:"N";break;case"ES":G=(te=W>0?V[W-1]:"B")==="EN"&&W+1<C.length&&C[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&V[W-1]==="EN"){G="EN";break}if(x){G="N";break}for(J=W+1,z=C.length;J<z&&C[J]==="ET";)J++;G=J<z&&C[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(z=C.length,J=W+1;J<z&&C[J]==="NSM";)J++;if(J<z){var re=A[W],de=re>=1425&&re<=2303||re===64286;if(te=C[J],de&&(te==="R"||te==="AL")){G="R";break}}}G=W<1||(te=C[W-1])==="B"?"N":V[W-1];break;case"B":x=!1,i=!0,G=w;break;case"S":a=!0,G="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":G="N"}return G},L=function(A,C,V){var W=A.split("");return V&&P(W,V,{hiLevel:w}),W.reverse(),C&&C.reverse(),W.join("")},P=function(A,C,V){var W,te,H,J,z,G=-1,re=A.length,de=0,E=[],B=w?p:g,q=[];for(x=!1,i=!1,a=!1,te=0;te<re;te++)q[te]=j(A[te]);for(H=0;H<re;H++){if(z=de,E[H]=F(A,q,E,H),W=240&(de=B[z][b[E[H]]]),de&=15,C[H]=J=B[de][5],W>0)if(W===16){for(te=G;te<H;te++)C[te]=1;G=-1}else G=-1;if(B[de][6])G===-1&&(G=H);else if(G>-1){for(te=G;te<H;te++)C[te]=J;G=-1}q[H]==="B"&&(C[H]=0),V.hiLevel|=J}a&&function(Q,Z,ue){for(var he=0;he<ue;he++)if(Q[he]==="S"){Z[he]=w;for(var me=he-1;me>=0&&Q[me]==="WS";me--)Z[me]=w}}(q,C,re)},$=function(A,C,V,W,te){if(!(te.hiLevel<A)){if(A===1&&w===1&&!i)return C.reverse(),void(V&&V.reverse());for(var H,J,z,G,re=C.length,de=0;de<re;){if(W[de]>=A){for(z=de+1;z<re&&W[z]>=A;)z++;for(G=de,J=z-1;G<J;G++,J--)H=C[G],C[G]=C[J],C[J]=H,V&&(H=V[G],V[G]=V[J],V[J]=H);de=z}de++}}},K=function(A,C,V){var W=A.split(""),te={hiLevel:w};return V||(V=[]),P(W,V,te),function(H,J,z){if(z.hiLevel!==0&&d)for(var G,re=0;re<H.length;re++)J[re]===1&&(G=N.indexOf(H[re]))>=0&&(H[re]=N[G+1])}(W,V,te),$(2,W,C,V,te),$(1,W,C,V,te),W.join("")};return this.__bidiEngine__.doBidiReorder=function(A,C,V){if(function(te,H){if(H)for(var J=0;J<te.length;J++)H[J]=J;l===void 0&&(l=O(te)),c===void 0&&(c=O(te))}(A,C),s||!o||c)if(s&&o&&l^c)w=l?1:0,A=L(A,C,V);else if(!s&&o&&c)w=l?1:0,A=K(A,C,V),A=L(A,C);else if(!s||l||o||c){if(s&&!o&&l^c)A=L(A,C),l?(w=0,A=K(A,C,V)):(w=1,A=K(A,C,V),A=L(A,C));else if(s&&l&&!o&&c)w=1,A=K(A,C,V),A=L(A,C);else if(!s&&!o&&l^c){var W=d;l?(w=1,A=K(A,C,V),w=0,d=!1,A=K(A,C,V),d=W):(w=0,A=K(A,C,V),A=L(A,C),w=1,d=!1,A=K(A,C,V),d=W,A=L(A,C))}}else w=0,A=K(A,C,V);else w=l?1:0,A=K(A,C,V);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,o=A.isOutputVisual,l=A.isInputRtl,c=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text,a=(n.x,n.y,n.options||{}),s=(n.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([r.doBidiReorder(i[l])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ge),Ge.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ja(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new rj(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new qk(this.contents),this.head=new Hk(this),this.name=new Jk(this),this.cmap=new dw(this),this.toUnicode={},this.hhea=new Wk(this),this.maxp=new Yk(this),this.hmtx=new Qk(this),this.post=new Gk(this),this.os2=new Vk(this),this.loca=new tj(this),this.glyf=new Xk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,o,c;for(c=[],s=0,l=(o=this.bbox).length;s<l;s++)t=o[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,l;for(s=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var gi,Ja=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,l,o;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),o=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^o)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*l+o},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),qk=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,l,o,c,d,m,g,p,b,S;for(S in p=Object.keys(r).length,o=Math.log(2),m=16*Math.floor(Math.log(p)/o),s=Math.floor(m/o),d=16*p-m,(i=new Ja).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(s),i.writeShort(d),a=16*p,c=i.pos+a,l=null,b=[],r)for(g=r[S],i.writeString(S),i.writeInt(e(g)),i.writeInt(c),i.writeInt(g.length),b=b.concat(g),S==="head"&&(l=c),c+=g.length;c%4;)b.push(0),c++;return i.write(b),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=hw.call(r);r.length%4;)r.push(0);for(a=new Ja(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),$k={}.hasOwnProperty,Ii=function(e,t){for(var r in t)$k.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};gi=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Hk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Ja).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),U2=function(){function e(t,r){var n,i,a,s,l,o,c,d,m,g,p,b,S,N,y,x,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=t.readByte();break;case 4:for(p=t.readUInt16(),g=p/2,t.pos+=6,a=function(){var j,O;for(O=[],o=j=0;0<=g?j<g:j>g;o=0<=g?++j:--j)O.push(t.readUInt16());return O}(),t.pos+=2,S=function(){var j,O;for(O=[],o=j=0;0<=g?j<g:j>g;o=0<=g?++j:--j)O.push(t.readUInt16());return O}(),c=function(){var j,O;for(O=[],o=j=0;0<=g?j<g:j>g;o=0<=g?++j:--j)O.push(t.readUInt16());return O}(),d=function(){var j,O;for(O=[],o=j=0;0<=g?j<g:j>g;o=0<=g?++j:--j)O.push(t.readUInt16());return O}(),i=(this.length-t.pos+this.offset)/2,l=function(){var j,O;for(O=[],o=j=0;0<=i?j<i:j>i;o=0<=i?++j:--j)O.push(t.readUInt16());return O}(),o=y=0,w=a.length;y<w;o=++y)for(N=a[o],n=x=b=S[o];b<=N?x<=N:x>=N;n=b<=N?++x:--x)d[o]===0?s=n+c[o]:(s=l[d[o]/2+(n-b)-(g-o)]||0)!==0&&(s+=c[o]),this.codeMap[n]=65535&s}t.pos=m}return e.encode=function(t,r){var n,i,a,s,l,o,c,d,m,g,p,b,S,N,y,x,w,j,O,F,L,P,$,K,A,C,V,W,te,H,J,z,G,re,de,E,B,q,Q,Z,ue,he,me,je,ke,Ae;switch(W=new Ja,s=Object.keys(t).sort(function(Te,Ke){return Te-Ke}),r){case"macroman":for(S=0,N=function(){var Te=[];for(b=0;b<256;++b)Te.push(0);return Te}(),x={0:0},a={},te=0,G=s.length;te<G;te++)x[me=t[i=s[te]]]==null&&(x[me]=++S),a[i]={old:t[i],new:x[t[i]]},N[i]=x[t[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(N),{charMap:a,subtable:W.data,maxGlyphID:S+1};case"unicode":for(C=[],m=[],w=0,x={},n={},y=c=null,H=0,re=s.length;H<re;H++)x[O=t[i=s[H]]]==null&&(x[O]=++w),n[i]={old:O,new:x[O]},l=x[O]-i,y!=null&&l===c||(y&&m.push(y),C.push(i),c=l),y=i;for(y&&m.push(y),m.push(65535),C.push(65535),K=2*($=C.length),P=2*Math.pow(Math.log($)/Math.LN2,2),g=Math.log(P/2)/Math.LN2,L=2*$-P,o=[],F=[],p=[],b=J=0,de=C.length;J<de;b=++J){if(A=C[b],d=m[b],A===65535){o.push(0),F.push(0);break}if(A-(V=n[A].new)>=32768)for(o.push(0),F.push(2*(p.length+$-b)),i=z=A;A<=d?z<=d:z>=d;i=A<=d?++z:--z)p.push(n[i].new);else o.push(V-A),F.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*$+2*p.length),W.writeUInt16(0),W.writeUInt16(K),W.writeUInt16(P),W.writeUInt16(g),W.writeUInt16(L),ue=0,E=m.length;ue<E;ue++)i=m[ue],W.writeUInt16(i);for(W.writeUInt16(0),he=0,B=C.length;he<B;he++)i=C[he],W.writeUInt16(i);for(je=0,q=o.length;je<q;je++)l=o[je],W.writeUInt16(l);for(ke=0,Q=F.length;ke<Q;ke++)j=F[ke],W.writeUInt16(j);for(Ae=0,Z=p.length;Ae<Z;Ae++)S=p[Ae],W.writeUInt16(S);return{charMap:n,subtable:W.data,maxGlyphID:w+1}}},e}(),dw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new U2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=U2.encode(r,n),(a=new Ja).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),Wk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Vk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Gk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="post",t.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(i=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var l,o,c;for(c=[],s=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;s=0<=o?++l:--l)c.push(r.readUInt32());return c}).call(this)}},t}(),Kk=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Jk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="name",t.prototype.parse=function(r){var n,i,a,s,l,o,c,d,m,g,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),o=r.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+o+r.readShort()});for(c={},s=m=0,g=i.length;m<g;s=++m)a=i[s],r.pos=a.offset,d=r.readString(a.length),l=new Kk(d,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),Yk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Qk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,i,a,s,l,o,c;for(r.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,m;for(m=[],n=d=0;0<=a?d<a:d>a;n=0<=a?++d:--d)m.push(r.readInt16());return m}(),this.widths=(function(){var d,m,g,p;for(p=[],d=0,m=(g=this.metrics).length;d<m;d++)s=g[d],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),hw=[].slice,Xk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,i,a,s,l,o,c,d,m,g;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(r),(a=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,l=(o=new Ja(n.read(a))).readShort(),d=o.readShort(),g=o.readShort(),c=o.readShort(),m=o.readShort(),this.cache[r]=l===-1?new ej(o,d,g,c,m):new Zk(o,l,d,g,c,m),this.cache[r]))},t.prototype.encode=function(r,n,i){var a,s,l,o,c;for(l=[],s=[],o=0,c=n.length;o<c;o++)a=r[n[o]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},t}(),Zk=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),ej=function(){function e(t,r,n,i,a){var s,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ja(hw.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),tj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ii(t,gi),t.prototype.tag="loca",t.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<n.length&&n[s]==l){++s,i[l]=a;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(a+=c)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},t}(),rj=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,l,o;for(i={},s=0,l=t.length;s<l;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in o=this.glyphsFor(r))n=o[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,l,o,c,d,m,g,p,b,S,N,y;for(i in n=dw.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(o=y[i]).old]=o.new;for(b in g=n.maxGlyphID,s)b in p||(p[b]=g++);return d=function(x){var w,j;for(w in j={},x)j[x[w]]=w;return j}(p),m=Object.keys(d).sort(function(x,w){return x-w}),S=function(){var x,w,j;for(j=[],x=0,w=m.length;x<w;x++)l=m[x],j.push(d[l]);return j}(),a=this.font.glyf.encode(s,S,p),c=this.font.loca.encode(a.offsets,S),N={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();Ge.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var l,o,c;for(c=[],l=0,o=r.length;l<o;l++)n=r[l],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();const nj=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Ok,AcroFormAppearance:ze,AcroFormButton:wr,AcroFormCheckBox:_u,AcroFormChoiceField:Cs,AcroFormComboBox:Ps,AcroFormEditBox:bu,AcroFormListBox:As,AcroFormPasswordField:Su,AcroFormPushButton:xu,AcroFormRadioButton:Ls,AcroFormTextField:Wa,GState:Yu,ShadingPattern:Ra,TilingPattern:ks,default:Ge,jsPDF:Ge},Symbol.toStringTag,{value:"Module"}));var fw={exports:{}};const ij=hb(nj);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,i){e.exports=i(function(){try{return ij}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Tf<"u"?Tf:typeof window<"u"?window:typeof self<"u"?self:Tf,function(r){return function(){var n={172:function(l,o){var c=this&&this.__extends||function(){var g=function(p,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var y in N)Object.prototype.hasOwnProperty.call(N,y)&&(S[y]=N[y])},g(p,b)};return function(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(p,b);function S(){this.constructor=p}p.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.CellHookData=o.HookData=void 0;var d=function(){function g(p,b,S){this.table=b,this.pageNumber=b.pageNumber,this.pageCount=this.pageNumber,this.settings=b.settings,this.cursor=S,this.doc=p.getDocument()}return g}();o.HookData=d;var m=function(g){c(p,g);function p(b,S,N,y,x,w){var j=g.call(this,b,S,w)||this;return j.cell=N,j.row=y,j.column=x,j.section=y.section,j}return p}(d);o.CellHookData=m},340:function(l,o,c){Object.defineProperty(o,"__esModule",{value:!0});var d=c(4),m=c(136),g=c(744),p=c(776),b=c(664),S=c(972);function N(y){y.API.autoTable=function(){for(var x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];var j;x.length===1?j=x[0]:(console.error("Use of deprecated autoTable initiation"),j=x[2]||{},j.columns=x[0],j.body=x[1]);var O=(0,p.parseInput)(this,j),F=(0,S.createTable)(this,O);return(0,b.drawTable)(this,F),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(x,w,j,O){(0,m.default)(x,w,j,O,this)},y.API.autoTableSetDefaults=function(x){return g.DocHandler.setDefaults(x,this),this},y.autoTableSetDefaults=function(x,w){g.DocHandler.setDefaults(x,w)},y.API.autoTableHtmlToJson=function(x,w){var j;if(w===void 0&&(w=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var O=new g.DocHandler(this),F=(0,d.parseHtml)(O,x,window,w,!1),L=F.head,P=F.body,$=((j=L[0])===null||j===void 0?void 0:j.map(function(K){return K.content}))||[];return{columns:$,rows:P,data:P}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var x=this.lastAutoTable;return x&&x.finalY?x.finalY:0},y.API.autoTableAddPageContent=function(x){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=x,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}o.default=N},136:function(l,o){Object.defineProperty(o,"__esModule",{value:!0});function c(d,m,g,p,b){p=p||{};var S=1.15,N=b.internal.scaleFactor,y=b.internal.getFontSize()/N,x=b.getLineHeightFactor?b.getLineHeightFactor():S,w=y*x,j=/\r\n|\r|\n/g,O="",F=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(O=typeof d=="string"?d.split(j):d,F=O.length||1),g+=y*(2-S),p.valign==="middle"?g-=F/2*w:p.valign==="bottom"&&(g-=F*w),p.halign==="center"||p.halign==="right"){var L=y;if(p.halign==="center"&&(L*=.5),O&&F>=1){for(var P=0;P<O.length;P++)b.text(O[P],m-b.getStringUnitWidth(O[P])*L,g),g+=w;return b}m-=b.getStringUnitWidth(d)*L}return p.halign==="justify"?b.text(d,m,g,{maxWidth:p.maxWidth||100,align:"justify"}):b.text(d,m,g),b}o.default=c},420:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.getPageAvailableWidth=o.parseSpacing=o.getFillStyle=o.addTableBorder=o.getStringWidth=void 0;function c(b,S,N){N.applyStyles(S,!0);var y=Array.isArray(b)?b:[b],x=y.map(function(w){return N.getTextWidth(w)}).reduce(function(w,j){return Math.max(w,j)},0);return x}o.getStringWidth=c;function d(b,S,N,y){var x=S.settings.tableLineWidth,w=S.settings.tableLineColor;b.applyStyles({lineWidth:x,lineColor:w});var j=m(x,!1);j&&b.rect(N.x,N.y,S.getWidth(b.pageSize().width),y.y-N.y,j)}o.addTableBorder=d;function m(b,S){var N=b>0,y=S||S===0;return N&&y?"DF":N?"S":y?"F":null}o.getFillStyle=m;function g(b,S){var N,y,x,w;if(b=b||S,Array.isArray(b)){if(b.length>=4)return{top:b[0],right:b[1],bottom:b[2],left:b[3]};if(b.length===3)return{top:b[0],right:b[1],bottom:b[2],left:b[1]};if(b.length===2)return{top:b[0],right:b[1],bottom:b[0],left:b[1]};b.length===1?b=b[0]:b=S}return typeof b=="object"?(typeof b.vertical=="number"&&(b.top=b.vertical,b.bottom=b.vertical),typeof b.horizontal=="number"&&(b.right=b.horizontal,b.left=b.horizontal),{left:(N=b.left)!==null&&N!==void 0?N:S,top:(y=b.top)!==null&&y!==void 0?y:S,right:(x=b.right)!==null&&x!==void 0?x:S,bottom:(w=b.bottom)!==null&&w!==void 0?w:S}):(typeof b!="number"&&(b=S),{top:b,right:b,bottom:b,left:b})}o.parseSpacing=g;function p(b,S){var N=g(S.settings.margin,0);return b.pageSize().width-(N.left+N.right)}o.getPageAvailableWidth=p},796:function(l,o){var c=this&&this.__extends||function(){var p=function(b,S){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,y){N.__proto__=y}||function(N,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(N[x]=y[x])},p(b,S)};return function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");p(b,S);function N(){this.constructor=b}b.prototype=S===null?Object.create(S):(N.prototype=S.prototype,new N)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.getTheme=o.defaultStyles=o.HtmlRowInput=void 0;var d=function(p){c(b,p);function b(S){var N=p.call(this)||this;return N._element=S,N}return b}(Array);o.HtmlRowInput=d;function m(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}o.defaultStyles=m;function g(p){var b={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return b[p]}o.getTheme=g},903:function(l,o,c){Object.defineProperty(o,"__esModule",{value:!0}),o.parseCss=void 0;var d=c(420);function m(N,y,x,w,j){var O={},F=1.3333333333333333,L=p(y,function(G){return j.getComputedStyle(G).backgroundColor});L!=null&&(O.fillColor=L);var P=p(y,function(G){return j.getComputedStyle(G).color});P!=null&&(O.textColor=P);var $=S(w,x);$&&(O.cellPadding=$);var K="borderTopColor",A=F*x,C=w.borderTopWidth;if(w.borderBottomWidth===C&&w.borderRightWidth===C&&w.borderLeftWidth===C){var V=(parseFloat(C)||0)/A;V&&(O.lineWidth=V)}else O.lineWidth={top:(parseFloat(w.borderTopWidth)||0)/A,right:(parseFloat(w.borderRightWidth)||0)/A,bottom:(parseFloat(w.borderBottomWidth)||0)/A,left:(parseFloat(w.borderLeftWidth)||0)/A},O.lineWidth.top||(O.lineWidth.right?K="borderRightColor":O.lineWidth.bottom?K="borderBottomColor":O.lineWidth.left&&(K="borderLeftColor"));var W=p(y,function(G){return j.getComputedStyle(G)[K]});W!=null&&(O.lineColor=W);var te=["left","right","center","justify"];te.indexOf(w.textAlign)!==-1&&(O.halign=w.textAlign),te=["middle","bottom","top"],te.indexOf(w.verticalAlign)!==-1&&(O.valign=w.verticalAlign);var H=parseInt(w.fontSize||"");isNaN(H)||(O.fontSize=H/F);var J=g(w);J&&(O.fontStyle=J);var z=(w.fontFamily||"").toLowerCase();return N.indexOf(z)!==-1&&(O.font=z),O}o.parseCss=m;function g(N){var y="";return(N.fontWeight==="bold"||N.fontWeight==="bolder"||parseInt(N.fontWeight)>=700)&&(y="bold"),(N.fontStyle==="italic"||N.fontStyle==="oblique")&&(y+="italic"),y}function p(N,y){var x=b(N,y);if(!x)return null;var w=x.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!w||!Array.isArray(w))return null;var j=[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])],O=parseInt(w[4]);return O===0||isNaN(j[0])||isNaN(j[1])||isNaN(j[2])?null:j}function b(N,y){var x=y(N);return x==="rgba(0, 0, 0, 0)"||x==="transparent"||x==="initial"||x==="inherit"?N.parentElement==null?null:b(N.parentElement,y):x}function S(N,y){var x=[N.paddingTop,N.paddingRight,N.paddingBottom,N.paddingLeft],w=96/(72/y),j=(parseInt(N.lineHeight)-parseInt(N.fontSize))/y/2,O=x.map(function(L){return parseInt(L||"0")/w}),F=(0,d.parseSpacing)(O,0);return j>F.top&&(F.top=j),j>F.bottom&&(F.bottom=j),F}},744:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.DocHandler=void 0;var c={},d=function(){function m(g){this.jsPDFDocument=g,this.userStyles={textColor:g.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:g.internal.getFontSize(),fontStyle:g.internal.getFont().fontStyle,font:g.internal.getFont().fontName,lineWidth:g.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:g.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return m.setDefaults=function(g,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=g:c=g},m.unifyColor=function(g){return Array.isArray(g)?g:typeof g=="number"?[g,g,g]:typeof g=="string"?[g]:null},m.prototype.applyStyles=function(g,p){var b,S,N;p===void 0&&(p=!1),g.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(g.fontStyle);var y=this.jsPDFDocument.internal.getFont(),x=y.fontStyle,w=y.fontName;if(g.font&&(w=g.font),g.fontStyle){x=g.fontStyle;var j=this.getFontList()[w];j&&j.indexOf(x)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j[0]),x=j[0])}if(this.jsPDFDocument.setFont(w,x),g.fontSize&&this.jsPDFDocument.setFontSize(g.fontSize),!p){var O=m.unifyColor(g.fillColor);O&&(b=this.jsPDFDocument).setFillColor.apply(b,O),O=m.unifyColor(g.textColor),O&&(S=this.jsPDFDocument).setTextColor.apply(S,O),O=m.unifyColor(g.lineColor),O&&(N=this.jsPDFDocument).setDrawColor.apply(N,O),typeof g.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(g.lineWidth)}},m.prototype.splitTextToSize=function(g,p,b){return this.jsPDFDocument.splitTextToSize(g,p,b)},m.prototype.rect=function(g,p,b,S,N){return this.jsPDFDocument.rect(g,p,b,S,N)},m.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},m.prototype.getTextWidth=function(g){return this.jsPDFDocument.getTextWidth(g)},m.prototype.getDocument=function(){return this.jsPDFDocument},m.prototype.setPage=function(g){this.jsPDFDocument.setPage(g)},m.prototype.addPage=function(){return this.jsPDFDocument.addPage()},m.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},m.prototype.getGlobalOptions=function(){return c||{}},m.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},m.prototype.pageSize=function(){var g=this.jsPDFDocument.internal.pageSize;return g.width==null&&(g={width:g.getWidth(),height:g.getHeight()}),g},m.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},m.prototype.getLineHeightFactor=function(){var g=this.jsPDFDocument;return g.getLineHeightFactor?g.getLineHeightFactor():1.15},m.prototype.getLineHeight=function(g){return g/this.scaleFactor()*this.getLineHeightFactor()},m.prototype.pageNumber=function(){var g=this.jsPDFDocument.internal.getCurrentPageInfo();return g?g.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},m}();o.DocHandler=d},4:function(l,o,c){Object.defineProperty(o,"__esModule",{value:!0}),o.parseHtml=void 0;var d=c(903),m=c(796);function g(S,N,y,x,w){var j,O;x===void 0&&(x=!1),w===void 0&&(w=!1);var F;typeof N=="string"?F=y.document.querySelector(N):F=N;var L=Object.keys(S.getFontList()),P=S.scaleFactor(),$=[],K=[],A=[];if(!F)return console.error("Html table could not be found with input: ",N),{head:$,body:K,foot:A};for(var C=0;C<F.rows.length;C++){var V=F.rows[C],W=(O=(j=V==null?void 0:V.parentElement)===null||j===void 0?void 0:j.tagName)===null||O===void 0?void 0:O.toLowerCase(),te=p(L,P,y,V,x,w);te&&(W==="thead"?$.push(te):W==="tfoot"?A.push(te):K.push(te))}return{head:$,body:K,foot:A}}o.parseHtml=g;function p(S,N,y,x,w,j){for(var O=new m.HtmlRowInput(x),F=0;F<x.cells.length;F++){var L=x.cells[F],P=y.getComputedStyle(L);if(w||P.display!=="none"){var $=void 0;j&&($=(0,d.parseCss)(S,L,N,P,y)),O.push({rowSpan:L.rowSpan,colSpan:L.colSpan,styles:$,_element:L,content:b(L)})}}var K=y.getComputedStyle(x);if(O.length>0&&(w||K.display!=="none"))return O}function b(S){var N=S.cloneNode(!0);return N.innerHTML=N.innerHTML.replace(/\n/g,"").replace(/ +/g," "),N.innerHTML=N.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),N.innerText||N.textContent||""}},776:function(l,o,c){Object.defineProperty(o,"__esModule",{value:!0}),o.parseInput=void 0;var d=c(4),m=c(356),g=c(420),p=c(744),b=c(792);function S(F,L){var P=new p.DocHandler(F),$=P.getDocumentOptions(),K=P.getGlobalOptions();(0,b.default)(P,K,$,L);var A=(0,m.assign)({},K,$,L),C;typeof window<"u"&&(C=window);var V=N(K,$,L),W=y(K,$,L),te=x(P,A),H=j(P,A,C);return{id:L.tableId,content:H,hooks:W,styles:V,settings:te}}o.parseInput=S;function N(F,L,P){for(var $={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},K=function(W){if(W==="columnStyles"){var te=F[W],H=L[W],J=P[W];$.columnStyles=(0,m.assign)({},te,H,J)}else{var z=[F,L,P],G=z.map(function(re){return re[W]||{}});$[W]=(0,m.assign)({},G[0],G[1],G[2])}},A=0,C=Object.keys($);A<C.length;A++){var V=C[A];K(V)}return $}function y(F,L,P){for(var $=[F,L,P],K={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},A=0,C=$;A<C.length;A++){var V=C[A];V.didParseCell&&K.didParseCell.push(V.didParseCell),V.willDrawCell&&K.willDrawCell.push(V.willDrawCell),V.didDrawCell&&K.didDrawCell.push(V.didDrawCell),V.willDrawPage&&K.willDrawPage.push(V.willDrawPage),V.didDrawPage&&K.didDrawPage.push(V.didDrawPage)}return K}function x(F,L){var P,$,K,A,C,V,W,te,H,J,z,G,re=(0,g.parseSpacing)(L.margin,40/F.scaleFactor()),de=(P=w(F,L.startY))!==null&&P!==void 0?P:re.top,E;L.showFoot===!0?E="everyPage":L.showFoot===!1?E="never":E=($=L.showFoot)!==null&&$!==void 0?$:"everyPage";var B;L.showHead===!0?B="everyPage":L.showHead===!1?B="never":B=(K=L.showHead)!==null&&K!==void 0?K:"everyPage";var q=(A=L.useCss)!==null&&A!==void 0?A:!1,Q=L.theme||(q?"plain":"striped"),Z=!!L.horizontalPageBreak,ue=(C=L.horizontalPageBreakRepeat)!==null&&C!==void 0?C:null;return{includeHiddenHtml:(V=L.includeHiddenHtml)!==null&&V!==void 0?V:!1,useCss:q,theme:Q,startY:de,margin:re,pageBreak:(W=L.pageBreak)!==null&&W!==void 0?W:"auto",rowPageBreak:(te=L.rowPageBreak)!==null&&te!==void 0?te:"auto",tableWidth:(H=L.tableWidth)!==null&&H!==void 0?H:"auto",showHead:B,showFoot:E,tableLineWidth:(J=L.tableLineWidth)!==null&&J!==void 0?J:0,tableLineColor:(z=L.tableLineColor)!==null&&z!==void 0?z:200,horizontalPageBreak:Z,horizontalPageBreakRepeat:ue,horizontalPageBreakBehaviour:(G=L.horizontalPageBreakBehaviour)!==null&&G!==void 0?G:"afterAllRows"}}function w(F,L){var P=F.getLastAutoTable(),$=F.scaleFactor(),K=F.pageNumber(),A=!1;if(P&&P.startPageNumber){var C=P.startPageNumber+P.pageNumber-1;A=C===K}return typeof L=="number"?L:(L==null||L===!1)&&A&&(P==null?void 0:P.finalY)!=null?P.finalY+20/$:null}function j(F,L,P){var $=L.head||[],K=L.body||[],A=L.foot||[];if(L.html){var C=L.includeHiddenHtml;if(P){var V=(0,d.parseHtml)(F,L.html,P,C,L.useCss)||{};$=V.head||$,K=V.body||$,A=V.foot||$}else console.error("Cannot parse html in non browser environment")}var W=L.columns||O($,K,A);return{columns:W,head:$,body:K,foot:A}}function O(F,L,P){var $=F[0]||L[0]||P[0]||[],K=[];return Object.keys($).filter(function(A){return A!=="_element"}).forEach(function(A){var C=1,V;Array.isArray($)?V=$[parseInt(A)]:V=$[A],typeof V=="object"&&!Array.isArray(V)&&(C=(V==null?void 0:V.colSpan)||1);for(var W=0;W<C;W++){var te=void 0;Array.isArray($)?te=K.length:te=A+(W>0?"_".concat(W):"");var H={dataKey:te};K.push(H)}}),K}},792:function(l,o){Object.defineProperty(o,"__esModule",{value:!0});function c(m,g,p,b){for(var S=function(w){w&&typeof w!="object"&&console.error("The options parameter should be of type object, is: "+typeof w),typeof w.extendWidth<"u"&&(w.tableWidth=w.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof w.margins<"u"&&(typeof w.margin>"u"&&(w.margin=w.margins),console.error("Use of deprecated option: margins, use margin instead.")),w.startY&&typeof w.startY!="number"&&(console.error("Invalid value for startY option",w.startY),delete w.startY),!w.didDrawPage&&(w.afterPageContent||w.beforePageContent||w.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),w.didDrawPage=function(A){m.applyStyles(m.userStyles),w.beforePageContent&&w.beforePageContent(A),m.applyStyles(m.userStyles),w.afterPageContent&&w.afterPageContent(A),m.applyStyles(m.userStyles),w.afterPageAdd&&A.pageNumber>1&&A.afterPageAdd(A),m.applyStyles(m.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(A){w[A]&&console.error('The "'.concat(A,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(A){var C=A[0],V=A[1];w[V]&&(console.error("Use of deprecated option ".concat(V,". Use ").concat(C," instead")),w[C]=w[V])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(A){var C=typeof A=="string"?A:A[0],V=typeof A=="string"?A:A[1];typeof w[C]<"u"&&(typeof w.styles[V]>"u"&&(w.styles[V]=w[C]),console.error("Use of deprecated option: "+C+", use the style "+V+" instead."))});for(var j=0,O=["styles","bodyStyles","headStyles","footStyles"];j<O.length;j++){var F=O[j];d(w[F]||{})}for(var L=w.columnStyles||{},P=0,$=Object.keys(L);P<$.length;P++){var K=$[P];d(L[K]||{})}},N=0,y=[g,p,b];N<y.length;N++){var x=y[N];S(x)}}o.default=c;function d(m){m.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),m.minCellHeight||(m.minCellHeight=m.rowHeight)):m.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),m.cellWidth||(m.cellWidth=m.columnWidth))}},260:function(l,o,c){Object.defineProperty(o,"__esModule",{value:!0}),o.Column=o.Cell=o.Row=o.Table=void 0;var d=c(796),m=c(172),g=c(420),p=function(){function y(x,w){this.pageNumber=1,this.pageCount=1,this.id=x.id,this.settings=x.settings,this.styles=x.styles,this.hooks=x.hooks,this.columns=w.columns,this.head=w.head,this.body=w.body,this.foot=w.foot}return y.prototype.getHeadHeight=function(x){return this.head.reduce(function(w,j){return w+j.getMaxCellHeight(x)},0)},y.prototype.getFootHeight=function(x){return this.foot.reduce(function(w,j){return w+j.getMaxCellHeight(x)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(x,w,j,O,F,L){for(var P=0,$=w;P<$.length;P++){var K=$[P],A=new m.CellHookData(x,this,j,O,F,L),C=K(A)===!1;if(j.text=Array.isArray(j.text)?j.text:[j.text],C)return!1}return!0},y.prototype.callEndPageHooks=function(x,w){x.applyStyles(x.userStyles);for(var j=0,O=this.hooks.didDrawPage;j<O.length;j++){var F=O[j];F(new m.HookData(x,this,w))}},y.prototype.callWillDrawPageHooks=function(x,w){for(var j=0,O=this.hooks.willDrawPage;j<O.length;j++){var F=O[j];F(new m.HookData(x,this,w))}},y.prototype.getWidth=function(x){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var w=this.columns.reduce(function(O,F){return O+F.wrappedWidth},0);return w}else{var j=this.settings.margin;return x-j.left-j.right}},y}();o.Table=p;var b=function(){function y(x,w,j,O,F){F===void 0&&(F=!1),this.height=0,this.raw=x,x instanceof d.HtmlRowInput&&(this.raw=x._element,this.element=x._element),this.index=w,this.section=j,this.cells=O,this.spansMultiplePages=F}return y.prototype.getMaxCellHeight=function(x){var w=this;return x.reduce(function(j,O){var F;return Math.max(j,((F=w.cells[O.index])===null||F===void 0?void 0:F.height)||0)},0)},y.prototype.hasRowSpan=function(x){var w=this;return x.filter(function(j){var O=w.cells[j.index];return O?O.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(x,w){return this.getMaxCellHeight(w)<=x},y.prototype.getMinimumRowHeight=function(x,w){var j=this;return x.reduce(function(O,F){var L=j.cells[F.index];if(!L)return 0;var P=w.getLineHeight(L.styles.fontSize),$=L.padding("vertical"),K=$+P;return K>O?K:O},0)},y}();o.Row=b;var S=function(){function y(x,w,j){var O,F;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=w,this.section=j,this.raw=x;var L=x;x!=null&&typeof x=="object"&&!Array.isArray(x)?(this.rowSpan=x.rowSpan||1,this.colSpan=x.colSpan||1,L=(F=(O=x.content)!==null&&O!==void 0?O:x.title)!==null&&F!==void 0?F:x,x._element&&(this.raw=x._element)):(this.rowSpan=1,this.colSpan=1);var P=L!=null?""+L:"",$=/\r\n|\r|\n/g;this.text=P.split($)}return y.prototype.getTextPos=function(){var x;if(this.styles.valign==="top")x=this.y+this.padding("top");else if(this.styles.valign==="bottom")x=this.y+this.height-this.padding("bottom");else{var w=this.height-this.padding("vertical");x=this.y+w/2+this.padding("top")}var j;if(this.styles.halign==="right")j=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var O=this.width-this.padding("horizontal");j=this.x+O/2+this.padding("left")}else j=this.x+this.padding("left");return{x:j,y:x}},y.prototype.getContentHeight=function(x,w){w===void 0&&(w=1.15);var j=Array.isArray(this.text)?this.text.length:1,O=this.styles.fontSize/x*w,F=j*O+this.padding("vertical");return Math.max(F,this.styles.minCellHeight)},y.prototype.padding=function(x){var w=(0,g.parseSpacing)(this.styles.cellPadding,0);return x==="vertical"?w.top+w.bottom:x==="horizontal"?w.left+w.right:w[x]},y}();o.Cell=S;var N=function(){function y(x,w,j){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=x,this.raw=w,this.index=j}return y.prototype.getMaxCustomCellWidth=function(x){for(var w=0,j=0,O=x.allRows();j<O.length;j++){var F=O[j],L=F.cells[this.index];L&&typeof L.styles.cellWidth=="number"&&(w=Math.max(w,L.styles.cellWidth))}return w},y}();o.Column=N},356:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.assign=void 0;function c(d,m,g,p,b){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var S=Object(d),N=1;N<arguments.length;N++){var y=arguments[N];if(y!=null)for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(S[x]=y[x])}return S}o.assign=c},972:function(l,o,c){Object.defineProperty(o,"__esModule",{value:!0}),o.createTable=void 0;var d=c(744),m=c(260),g=c(324),p=c(796),b=c(356);function S(F,L){var P=new d.DocHandler(F),$=N(L,P.scaleFactor()),K=new m.Table(L,$);return(0,g.calculateWidths)(P,K),P.applyStyles(P.userStyles),K}o.createTable=S;function N(F,L){var P=F.content,$=j(P.columns);if(P.head.length===0){var K=x($,"head");K&&P.head.push(K)}if(P.foot.length===0){var K=x($,"foot");K&&P.foot.push(K)}var A=F.settings.theme,C=F.styles;return{columns:$,head:y("head",P.head,$,C,A,L),body:y("body",P.body,$,C,A,L),foot:y("foot",P.foot,$,C,A,L)}}function y(F,L,P,$,K,A){var C={},V=L.map(function(W,te){for(var H=0,J={},z=0,G=0,re=0,de=P;re<de.length;re++){var E=de[re];if(C[E.index]==null||C[E.index].left===0)if(G===0){var B=void 0;Array.isArray(W)?B=W[E.index-z-H]:B=W[E.dataKey];var q={};typeof B=="object"&&!Array.isArray(B)&&(q=(B==null?void 0:B.styles)||{});var Q=O(F,E,te,K,$,A,q),Z=new m.Cell(B,Q,F);J[E.dataKey]=Z,J[E.index]=Z,G=Z.colSpan-1,C[E.index]={left:Z.rowSpan-1,times:G}}else G--,z++;else C[E.index].left--,G=C[E.index].times,H++}return new m.Row(W,te,F,J)});return V}function x(F,L){var P={};return F.forEach(function($){if($.raw!=null){var K=w(L,$.raw);K!=null&&(P[$.dataKey]=K)}}),Object.keys(P).length>0?P:null}function w(F,L){if(F==="head"){if(typeof L=="object")return L.header||L.title||null;if(typeof L=="string"||typeof L=="number")return L}else if(F==="foot"&&typeof L=="object")return L.footer;return null}function j(F){return F.map(function(L,P){var $,K,A;return typeof L=="object"?A=(K=($=L.dataKey)!==null&&$!==void 0?$:L.key)!==null&&K!==void 0?K:P:A=P,new m.Column(A,L,P)})}function O(F,L,P,$,K,A,C){var V=(0,p.getTheme)($),W;F==="head"?W=K.headStyles:F==="body"?W=K.bodyStyles:F==="foot"&&(W=K.footStyles);var te=(0,b.assign)({},V.table,V[F],K.styles,W),H=K.columnStyles[L.dataKey]||K.columnStyles[L.index]||{},J=F==="body"?H:{},z=F==="body"&&P%2===0?(0,b.assign)({},V.alternateRow,K.alternateRowStyles):{},G=(0,p.defaultStyles)(A),re=(0,b.assign)({},G,te,z,J);return(0,b.assign)(re,C)}},664:function(l,o,c){Object.defineProperty(o,"__esModule",{value:!0}),o.addPage=o.drawTable=void 0;var d=c(420),m=c(260),g=c(744),p=c(356),b=c(136),S=c(224);function N(H,J){var z=J.settings,G=z.startY,re=z.margin,de={x:re.left,y:G},E=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns),B=G+re.bottom+E;if(z.pageBreak==="avoid"){var q=J.body,Q=q.reduce(function(he,me){return he+me.height},0);B+=Q}var Z=new g.DocHandler(H);(z.pageBreak==="always"||z.startY!=null&&B>Z.pageSize().height)&&(te(Z),de.y=re.top),J.callWillDrawPageHooks(Z,de);var ue=(0,p.assign)({},de);J.startPageNumber=Z.pageNumber(),z.horizontalPageBreak?y(Z,J,ue,de):(Z.applyStyles(Z.userStyles),(z.showHead==="firstPage"||z.showHead==="everyPage")&&J.head.forEach(function(he){return K(Z,J,he,de,J.columns)}),Z.applyStyles(Z.userStyles),J.body.forEach(function(he,me){var je=me===J.body.length-1;$(Z,J,he,je,ue,de,J.columns)}),Z.applyStyles(Z.userStyles),(z.showFoot==="lastPage"||z.showFoot==="everyPage")&&J.foot.forEach(function(he){return K(Z,J,he,de,J.columns)})),(0,d.addTableBorder)(Z,J,ue,de),J.callEndPageHooks(Z,de),J.finalY=de.y,H.lastAutoTable=J,H.previousAutoTable=J,H.autoTable&&(H.autoTable.previous=J),Z.applyStyles(Z.userStyles)}o.drawTable=N;function y(H,J,z,G){var re=(0,S.calculateAllColumnsCanFitInPage)(H,J),de=J.settings;if(de.horizontalPageBreakBehaviour==="afterAllRows")re.forEach(function(Q,Z){H.applyStyles(H.userStyles),Z>0?W(H,J,z,G,Q.columns,!0):x(H,J,G,Q.columns),w(H,J,z,G,Q.columns),O(H,J,G,Q.columns)});else for(var E=-1,B=re[0],q=function(){var Q=E;if(B){H.applyStyles(H.userStyles);var Z=B.columns;E>=0?W(H,J,z,G,Z,!0):x(H,J,G,Z),Q=j(H,J,E+1,G,Z),O(H,J,G,Z)}var ue=Q-E;re.slice(1).forEach(function(he){H.applyStyles(H.userStyles),W(H,J,z,G,he.columns,!0),j(H,J,E+1,G,he.columns,ue),O(H,J,G,he.columns)}),E=Q};E<J.body.length-1;)q()}function x(H,J,z,G){var re=J.settings;H.applyStyles(H.userStyles),(re.showHead==="firstPage"||re.showHead==="everyPage")&&J.head.forEach(function(de){return K(H,J,de,z,G)})}function w(H,J,z,G,re){H.applyStyles(H.userStyles),J.body.forEach(function(de,E){var B=E===J.body.length-1;$(H,J,de,B,z,G,re)})}function j(H,J,z,G,re,de){H.applyStyles(H.userStyles),de=de??J.body.length;var E=Math.min(z+de,J.body.length),B=-1;return J.body.slice(z,E).forEach(function(q,Q){var Z=z+Q===J.body.length-1,ue=V(H,J,Z,G);q.canEntireRowFit(ue,re)&&(K(H,J,q,G,re),B=z+Q)}),B}function O(H,J,z,G){var re=J.settings;H.applyStyles(H.userStyles),(re.showFoot==="lastPage"||re.showFoot==="everyPage")&&J.foot.forEach(function(de){return K(H,J,de,z,G)})}function F(H,J,z){var G=z.getLineHeight(H.styles.fontSize),re=H.padding("vertical"),de=Math.floor((J-re)/G);return Math.max(0,de)}function L(H,J,z,G){var re={};H.spansMultiplePages=!0,H.height=0;for(var de=0,E=0,B=z.columns;E<B.length;E++){var q=B[E],Q=H.cells[q.index];if(Q){Array.isArray(Q.text)||(Q.text=[Q.text]);var Z=new m.Cell(Q.raw,Q.styles,Q.section);Z=(0,p.assign)(Z,Q),Z.text=[];var ue=F(Q,J,G);Q.text.length>ue&&(Z.text=Q.text.splice(ue,Q.text.length));var he=G.scaleFactor(),me=G.getLineHeightFactor();Q.contentHeight=Q.getContentHeight(he,me),Q.contentHeight>=J&&(Q.contentHeight=J,Z.styles.minCellHeight-=J),Q.contentHeight>H.height&&(H.height=Q.contentHeight),Z.contentHeight=Z.getContentHeight(he,me),Z.contentHeight>de&&(de=Z.contentHeight),re[q.index]=Z}}var je=new m.Row(H.raw,-1,H.section,re,!0);je.height=de;for(var ke=0,Ae=z.columns;ke<Ae.length;ke++){var q=Ae[ke],Z=je.cells[q.index];Z&&(Z.height=je.height);var Q=H.cells[q.index];Q&&(Q.height=H.height)}return je}function P(H,J,z,G){var re=H.pageSize().height,de=G.settings.margin,E=de.top+de.bottom,B=re-E;J.section==="body"&&(B-=G.getHeadHeight(G.columns)+G.getFootHeight(G.columns));var q=J.getMinimumRowHeight(G.columns,H),Q=q<z;if(q>B)return console.error("Will not be able to print row ".concat(J.index," correctly since it's minimum height is larger than page height")),!0;if(!Q)return!1;var Z=J.hasRowSpan(G.columns),ue=J.getMaxCellHeight(G.columns)>B;return ue?(Z&&console.error("The content of row ".concat(J.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Z||G.settings.rowPageBreak==="avoid")}function $(H,J,z,G,re,de,E){var B=V(H,J,G,de);if(z.canEntireRowFit(B,E))K(H,J,z,de,E);else if(P(H,z,B,J)){var q=L(z,B,J,H);K(H,J,z,de,E),W(H,J,re,de,E),$(H,J,q,G,re,de,E)}else W(H,J,re,de,E),$(H,J,z,G,re,de,E)}function K(H,J,z,G,re){G.x=J.settings.margin.left;for(var de=0,E=re;de<E.length;de++){var B=E[de],q=z.cells[B.index];if(!q){G.x+=B.width;continue}H.applyStyles(q.styles),q.x=G.x,q.y=G.y;var Q=J.callCellHooks(H,J.hooks.willDrawCell,q,z,B,G);if(Q===!1){G.x+=B.width;continue}A(H,q,G);var Z=q.getTextPos();(0,b.default)(q.text,Z.x,Z.y,{halign:q.styles.halign,valign:q.styles.valign,maxWidth:Math.ceil(q.width-q.padding("left")-q.padding("right"))},H.getDocument()),J.callCellHooks(H,J.hooks.didDrawCell,q,z,B,G),G.x+=B.width}G.y+=z.height}function A(H,J,z){var G=J.styles;if(H.getDocument().setFillColor(H.getDocument().getFillColor()),typeof G.lineWidth=="number"){var re=(0,d.getFillStyle)(G.lineWidth,G.fillColor);re&&H.rect(J.x,z.y,J.width,J.height,re)}else typeof G.lineWidth=="object"&&(G.fillColor&&H.rect(J.x,z.y,J.width,J.height,"F"),C(H,J,z,G.lineWidth))}function C(H,J,z,G){var re,de,E,B;G.top&&(re=z.x,de=z.y,E=z.x+J.width,B=z.y,G.right&&(E+=.5*G.right),G.left&&(re-=.5*G.left),q(G.top,re,de,E,B)),G.bottom&&(re=z.x,de=z.y+J.height,E=z.x+J.width,B=z.y+J.height,G.right&&(E+=.5*G.right),G.left&&(re-=.5*G.left),q(G.bottom,re,de,E,B)),G.left&&(re=z.x,de=z.y,E=z.x,B=z.y+J.height,G.top&&(de-=.5*G.top),G.bottom&&(B+=.5*G.bottom),q(G.left,re,de,E,B)),G.right&&(re=z.x+J.width,de=z.y,E=z.x+J.width,B=z.y+J.height,G.top&&(de-=.5*G.top),G.bottom&&(B+=.5*G.bottom),q(G.right,re,de,E,B));function q(Q,Z,ue,he,me){H.getDocument().setLineWidth(Q),H.getDocument().line(Z,ue,he,me,"S")}}function V(H,J,z,G){var re=J.settings.margin.bottom,de=J.settings.showFoot;return(de==="everyPage"||de==="lastPage"&&z)&&(re+=J.getFootHeight(J.columns)),H.pageSize().height-G.y-re}function W(H,J,z,G,re,de){re===void 0&&(re=[]),de===void 0&&(de=!1),H.applyStyles(H.userStyles),J.settings.showFoot==="everyPage"&&!de&&J.foot.forEach(function(B){return K(H,J,B,G,re)}),J.callEndPageHooks(H,G);var E=J.settings.margin;(0,d.addTableBorder)(H,J,z,G),te(H),J.pageNumber++,J.pageCount++,G.x=E.left,G.y=E.top,z.y=E.top,J.callWillDrawPageHooks(H,G),J.settings.showHead==="everyPage"&&(J.head.forEach(function(B){return K(H,J,B,G,re)}),H.applyStyles(H.userStyles))}o.addPage=W;function te(H){var J=H.pageNumber();H.setPage(J+1);var z=H.pageNumber();return z===J?(H.addPage(),!0):!1}},224:function(l,o,c){Object.defineProperty(o,"__esModule",{value:!0}),o.calculateAllColumnsCanFitInPage=void 0;var d=c(420);function m(p,b,S){var N;S===void 0&&(S={});var y=(0,d.getPageAvailableWidth)(p,b),x=new Map,w=[],j=[],O=[];b.settings.horizontalPageBreakRepeat,Array.isArray(b.settings.horizontalPageBreakRepeat)?O=b.settings.horizontalPageBreakRepeat:(typeof b.settings.horizontalPageBreakRepeat=="string"||typeof b.settings.horizontalPageBreakRepeat=="number")&&(O=[b.settings.horizontalPageBreakRepeat]),O.forEach(function($){var K=b.columns.find(function(A){return A.dataKey===$||A.index===$});K&&!x.has(K.index)&&(x.set(K.index,!0),w.push(K.index),j.push(b.columns[K.index]),y-=K.wrappedWidth)});for(var F=!0,L=(N=S==null?void 0:S.start)!==null&&N!==void 0?N:0;L<b.columns.length;){if(x.has(L)){L++;continue}var P=b.columns[L].wrappedWidth;if(F||y>=P)F=!1,w.push(L),j.push(b.columns[L]),y-=P;else break;L++}return{colIndexes:w,columns:j,lastIndex:L-1}}function g(p,b){for(var S=[],N=0;N<b.columns.length;N++){var y=m(p,b,{start:N});y.columns.length&&(S.push(y),N=y.lastIndex)}return S}o.calculateAllColumnsCanFitInPage=g},324:function(l,o,c){Object.defineProperty(o,"__esModule",{value:!0}),o.ellipsize=o.resizeColumns=o.calculateWidths=void 0;var d=c(420);function m(w,j){g(w,j);var O=[],F=0;j.columns.forEach(function(P){var $=P.getMaxCustomCellWidth(j);$?P.width=$:(P.width=P.wrappedWidth,O.push(P)),F+=P.width});var L=j.getWidth(w.pageSize().width)-F;L&&(L=p(O,L,function(P){return Math.max(P.minReadableWidth,P.minWidth)})),L&&(L=p(O,L,function(P){return P.minWidth})),L=Math.abs(L),!j.settings.horizontalPageBreak&&L>.1/w.scaleFactor()&&(L=L<1?L:Math.round(L),console.warn("Of the table content, ".concat(L," units width could not fit page"))),S(j),N(j,w),b(j)}o.calculateWidths=m;function g(w,j){var O=w.scaleFactor(),F=j.settings.horizontalPageBreak,L=(0,d.getPageAvailableWidth)(w,j);j.allRows().forEach(function(P){for(var $=0,K=j.columns;$<K.length;$++){var A=K[$],C=P.cells[A.index];if(C){var V=j.hooks.didParseCell;j.callCellHooks(w,V,C,P,A,null);var W=C.padding("horizontal");C.contentWidth=(0,d.getStringWidth)(C.text,C.styles,w)+W;var te=(0,d.getStringWidth)(C.text.join(" ").split(/[^\S\u00A0]+/),C.styles,w);if(C.minReadableWidth=te+C.padding("horizontal"),typeof C.styles.cellWidth=="number")C.minWidth=C.styles.cellWidth,C.wrappedWidth=C.styles.cellWidth;else if(C.styles.cellWidth==="wrap"||F===!0)C.contentWidth>L?(C.minWidth=L,C.wrappedWidth=L):(C.minWidth=C.contentWidth,C.wrappedWidth=C.contentWidth);else{var H=10/O;C.minWidth=C.styles.minCellWidth||H,C.wrappedWidth=C.contentWidth,C.minWidth>C.wrappedWidth&&(C.wrappedWidth=C.minWidth)}}}}),j.allRows().forEach(function(P){for(var $=0,K=j.columns;$<K.length;$++){var A=K[$],C=P.cells[A.index];if(C&&C.colSpan===1)A.wrappedWidth=Math.max(A.wrappedWidth,C.wrappedWidth),A.minWidth=Math.max(A.minWidth,C.minWidth),A.minReadableWidth=Math.max(A.minReadableWidth,C.minReadableWidth);else{var V=j.styles.columnStyles[A.dataKey]||j.styles.columnStyles[A.index]||{},W=V.cellWidth||V.minCellWidth;W&&typeof W=="number"&&(A.minWidth=W,A.wrappedWidth=W)}C&&(C.colSpan>1&&!A.minWidth&&(A.minWidth=C.minWidth),C.colSpan>1&&!A.wrappedWidth&&(A.wrappedWidth=C.minWidth))}})}function p(w,j,O){for(var F=j,L=w.reduce(function(H,J){return H+J.wrappedWidth},0),P=0;P<w.length;P++){var $=w[P],K=$.wrappedWidth/L,A=F*K,C=$.width+A,V=O($),W=C<V?V:C;j-=W-$.width,$.width=W}if(j=Math.round(j*1e10)/1e10,j){var te=w.filter(function(H){return j<0?H.width>O(H):!0});te.length&&(j=p(te,j,O))}return j}o.resizeColumns=p;function b(w){for(var j={},O=1,F=w.allRows(),L=0;L<F.length;L++)for(var P=F[L],$=0,K=w.columns;$<K.length;$++){var A=K[$],C=j[A.index];if(O>1)O--,delete P.cells[A.index];else if(C)C.cell.height+=P.height,O=C.cell.colSpan,delete P.cells[A.index],C.left--,C.left<=1&&delete j[A.index];else{var V=P.cells[A.index];if(!V)continue;if(V.height=P.height,V.rowSpan>1){var W=F.length-L,te=V.rowSpan>W?W:V.rowSpan;j[A.index]={cell:V,left:te,row:P}}}}}function S(w){for(var j=w.allRows(),O=0;O<j.length;O++)for(var F=j[O],L=null,P=0,$=0,K=0;K<w.columns.length;K++){var A=w.columns[K];if($-=1,$>1&&w.columns[K+1])P+=A.width,delete F.cells[A.index];else if(L){var C=L;delete F.cells[A.index],L=null,C.width=A.width+P}else{var C=F.cells[A.index];if(!C)continue;if($=C.colSpan,P=0,C.colSpan>1){L=C,P+=A.width;continue}C.width=A.width+P}}}function N(w,j){for(var O={count:0,height:0},F=0,L=w.allRows();F<L.length;F++){for(var P=L[F],$=0,K=w.columns;$<K.length;$++){var A=K[$],C=P.cells[A.index];if(C){j.applyStyles(C.styles,!0);var V=C.width-C.padding("horizontal");if(C.styles.overflow==="linebreak")C.text=j.splitTextToSize(C.text,V+1/j.scaleFactor(),{fontSize:C.styles.fontSize});else if(C.styles.overflow==="ellipsize")C.text=y(C.text,V,C.styles,j,"...");else if(C.styles.overflow==="hidden")C.text=y(C.text,V,C.styles,j,"");else if(typeof C.styles.overflow=="function"){var W=C.styles.overflow(C.text,V);typeof W=="string"?C.text=[W]:C.text=W}C.contentHeight=C.getContentHeight(j.scaleFactor(),j.getLineHeightFactor());var te=C.contentHeight/C.rowSpan;C.rowSpan>1&&O.count*O.height<te*C.rowSpan?O={height:te,count:C.rowSpan}:O&&O.count>0&&O.height>te&&(te=O.height),te>P.height&&(P.height=te)}}O.count--}}function y(w,j,O,F,L){return w.map(function(P){return x(P,j,O,F,L)})}o.ellipsize=y;function x(w,j,O,F,L){var P=1e4*F.scaleFactor();if(j=Math.ceil(j*P)/P,j>=(0,d.getStringWidth)(w,O,F))return w;for(;j<(0,d.getStringWidth)(w+L,O,F)&&!(w.length<=1);)w=w.substring(0,w.length-1);return w.trim()+L}},964:function(l){if(typeof r>"u"){var o=new Error("Cannot find module 'undefined'");throw o.code="MODULE_NOT_FOUND",o}l.exports=r}},i={};function a(l){var o=i[l];if(o!==void 0)return o.exports;var c=i[l]={exports:{}};return n[l].call(c.exports,c,c.exports,a),c.exports}var s={};return function(){var l=s;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var o=a(340),c=a(776),d=a(664),m=a(972),g=a(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return g.Table}});var p=a(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var b=a(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return b.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return b.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return b.Row}});function S(j){(0,o.default)(j)}l.applyPlugin=S;function N(j,O){var F=(0,c.parseInput)(j,O),L=(0,m.createTable)(j,F);(0,d.drawTable)(j,L)}function y(j,O){var F=(0,c.parseInput)(j,O);return(0,m.createTable)(j,F)}l.__createTable=y;function x(j,O){(0,d.drawTable)(j,O)}l.__drawTable=x;try{var w=a(964);w.jsPDF&&(w=w.jsPDF),S(w)}catch{}l.default=N}(),s}()})})(fw);var aj=fw.exports;const ol=$2(aj),z2={light:{background:[255,255,255],text:[0,0,0],secondaryText:[100,100,100],accent:[0,51,102],headerBg:[240,240,240],lineColor:[200,200,200]},dark:{background:[20,20,20],text:[255,255,255],secondaryText:[200,200,200],accent:[0,153,255],headerBg:[40,40,40],lineColor:[80,80,80]}},pw="AUTORAH",sj="El Pasaporte Global del Vehculo",Ts=(e,t)=>{const r=z2[t]||z2.light;return e.setFillColor(...r.background),e.rect(0,0,e.internal.pageSize.width,e.internal.pageSize.height,"F"),r},ag=(e,t,r)=>{e.setFontSize(24),e.setTextColor(...t.accent),e.text(pw,20,20),e.setFontSize(10),e.setTextColor(...t.secondaryText),e.text(sj,20,26),e.setFontSize(16),e.setTextColor(...t.text),e.text(r,20,40),e.setDrawColor(...t.accent),e.setLineWidth(.5),e.line(20,45,190,45)},sg=(e,t,r)=>{const n=e.internal.pageSize.height;e.setFontSize(8),e.setTextColor(...t.secondaryText),e.text(`Generado por AUTORAH - ${new Date().toLocaleDateString()}`,20,n-10),e.text(`Pgina ${r}`,180,n-10)},oj=(e,t,r,n="light")=>{var c;const i=new Ge,a=Ts(i,n);ag(i,a,"Reporte de Cambio Estructural");let s=55;i.setFontSize(12),i.setTextColor(...a.accent),i.text("Datos del Vehculo",20,s),s+=10,ol(i,{startY:s,head:[["Placa","Marca","Modelo","Ao","VIN","Motor"]],body:[[t.plate,t.brand,t.model,t.year,t.vin_full||t.vin||"N/A",t.engine_number_full||t.engine_number||"N/A"]],theme:"grid",styles:{fillColor:a.background,textColor:a.text,lineColor:a.lineColor,lineWidth:.1},headStyles:{fillColor:a.headerBg,textColor:a.accent,fontStyle:"bold"}}),s=i.lastAutoTable.finalY+15,i.setFontSize(12),i.setTextColor(...a.accent),i.text("Detalles del Cambio",20,s),s+=10;const l=e.odo_not_working?"Odmetro no funciona":`${e.km} km`;ol(i,{startY:s,head:[["Tipo","Fecha","Kilometraje","Taller"]],body:[[e.type,new Date(e.date).toLocaleDateString(),l,(r==null?void 0:r.full_name)||((c=r==null?void 0:r.workshop_details)==null?void 0:c.name)||"Taller Afiliado"]],theme:"grid",styles:{fillColor:a.background,textColor:a.text,lineColor:a.lineColor},headStyles:{fillColor:a.headerBg,textColor:a.accent}}),s=i.lastAutoTable.finalY+10,i.setFontSize(10),i.setTextColor(...a.secondaryText),i.text("Descripcin:",20,s),s+=7,i.setFontSize(11),i.setTextColor(...a.text);const o=i.splitTextToSize(e.description||"Sin descripcin",170);i.text(o,20,s),s+=o.length*7+10,e.photos&&e.photos.length>0&&(i.setFontSize(12),i.setTextColor(...a.accent),i.text("Evidencia Fotogrfica (URLs)",20,s),s+=10,i.setFontSize(9),i.setTextColor(...a.text),e.photos.forEach((d,m)=>{s>270&&(i.addPage(),Ts(i,n),s=20),i.text(`Foto ${m+1}: ${d}`,20,s),i.link(20,s-3,170,5,{url:d}),s+=8})),s=Math.max(s+20,240),s>250&&(i.addPage(),Ts(i,n),s=240),i.setDrawColor(...a.text),i.line(20,s,80,s),i.setFontSize(10),i.text((r==null?void 0:r.full_name)||"Firma Taller",20,s+5),i.setFontSize(8),i.setTextColor(...a.secondaryText),i.text("Taller Afiliado AUTORAH",20,s+10),i.rect(150,s-20,30,30),i.text("QR",160,s-5),i.setFontSize(8),i.text(`ID: ${e.id.substring(0,8)}`,150,s+15),sg(i,a,1),i.save(`AUTORAH_Cambio_${t.plate}_${e.date}.pdf`)},lj=(e,t,r,n,i="light")=>{const a=new Ge,s=Ts(a,i);a.setFontSize(36),a.setTextColor(...s.accent),a.text(pw,105,80,{align:"center"}),a.setFontSize(18),a.setTextColor(...s.text),a.text("PASAPORTE GLOBAL DEL VEHCULO",105,100,{align:"center"}),a.setFontSize(14),a.setTextColor(...s.secondaryText),a.text(`${e.brand} ${e.model} ${e.year}`,105,120,{align:"center"}),a.text(`VIN: ${e.vin_full||e.vin}`,105,130,{align:"center"}),a.text(`Placa: ${e.plate}`,105,140,{align:"center"}),a.setFontSize(10),a.text(`Generado el: ${new Date().toLocaleDateString()}`,105,250,{align:"center"}),a.addPage(),Ts(a,i),ag(a,s,"Historial del Vehculo");let l=50;if(a.setFontSize(14),a.setTextColor(...s.accent),a.text("Mantenimientos Verificados",20,l),l+=10,t&&t.length>0){const o=t.map(c=>[new Date(c.date).toLocaleDateString(),c.service_type,`${c.mileage} km`,c.workshop_name||"Taller"]);ol(a,{startY:l,head:[["Fecha","Servicio","Km","Taller"]],body:o,theme:"grid",styles:{fillColor:s.background,textColor:s.text,lineColor:s.lineColor},headStyles:{fillColor:s.headerBg,textColor:s.accent}}),l=a.lastAutoTable.finalY+15}else a.setFontSize(10),a.setTextColor(...s.secondaryText),a.text("No hay mantenimientos registrados.",20,l),l+=15;if(a.setFontSize(14),a.setTextColor(...s.accent),a.text("Cambios Estructurales",20,l),l+=10,r&&r.length>0){const o=r.map(c=>[new Date(c.date).toLocaleDateString(),c.type,c.odo_not_working?"Odo. Roto":`${c.km} km`,c.description?c.description.substring(0,30)+"...":""]);ol(a,{startY:l,head:[["Fecha","Tipo","Km","Detalle"]],body:o,theme:"grid",styles:{fillColor:s.background,textColor:s.text,lineColor:s.lineColor},headStyles:{fillColor:s.headerBg,textColor:s.accent}}),l=a.lastAutoTable.finalY+15}else a.setFontSize(10),a.setTextColor(...s.secondaryText),a.text("No hay cambios estructurales registrados.",20,l),l+=15;sg(a,s,2),a.save(`AUTORAH_Pasaporte_${e.plate}.pdf`)};function uj(e,t,r,n,i="light"){var c;const a=new Ge,s=Ts(a,i);ag(a,s,"Certificado de Verificacin");let l=55;a.setFontSize(12),a.setTextColor(...s.accent),a.text(`Certificado #${r.id.substring(0,8).toUpperCase()}`,20,l),l+=10,a.setFontSize(10),a.setTextColor(...s.text),a.text(`Tipo: ${r.type.toUpperCase()}`,20,l),a.text(`Fecha de Emisin: ${new Date().toLocaleDateString()}`,100,l),l+=15,a.setFontSize(12),a.setTextColor(...s.accent),a.text("Datos del Vehculo",20,l),l+=10,ol(a,{startY:l,head:[["Placa","Marca","Modelo","Ao","VIN"]],body:[[e.plate,e.brand,e.model,e.year,e.vin||"N/A"]],theme:"grid",styles:{fillColor:s.background,textColor:s.text,lineColor:s.lineColor},headStyles:{fillColor:s.headerBg,textColor:s.accent}}),l=a.lastAutoTable.finalY+15,a.setFontSize(12),a.setTextColor(...s.accent),a.text("Puntos Inspeccionados",20,l),l+=10;const o=Object.entries(r.checklist||{}).map(([d,m])=>[d.charAt(0).toUpperCase()+d.slice(1),m?"APROBADO":"NO APROBADO"]);if(ol(a,{startY:l,head:[["Componente","Estado"]],body:o,theme:"grid",styles:{fillColor:s.background,textColor:s.text,lineColor:s.lineColor},headStyles:{fillColor:s.headerBg,textColor:s.accent}}),l=a.lastAutoTable.finalY+15,r.observations){a.setFontSize(12),a.setTextColor(...s.accent),a.text("Observaciones",20,l),l+=7,a.setFontSize(10),a.setTextColor(...s.text);const d=a.splitTextToSize(r.observations,170);a.text(d,20,l),l+=d.length*7+10}return l=Math.max(l+20,240),l>250&&(a.addPage(),Ts(a,i),l=240),a.setDrawColor(...s.text),a.line(20,l,80,l),a.setFontSize(10),a.text((t==null?void 0:t.full_name)||((c=t==null?void 0:t.workshop_details)==null?void 0:c.name)||"Taller Certificado",20,l+5),a.setFontSize(8),a.setTextColor(...s.secondaryText),a.text("Emitido por Taller Autorizado AUTORAH",20,l+10),n&&(a.setTextColor(...s.accent),a.text("Verificar en lnea",150,l),a.link(150,l-5,40,10,{url:n})),sg(a,s,1),a}function mw({vehicle:e,onClose:t}){var W;const{user:r,profile:n}=Za(),[i,a]=ne.useState("maintenance"),[s,l]=ne.useState([]),[o,c]=ne.useState([]),[d,m]=ne.useState([]),[g,p]=ne.useState(!0),[b,S]=ne.useState(null),[N,y]=ne.useState(!1),[x,w]=ne.useState({date:new Date().toISOString().split("T")[0],note_text:""}),[j,O]=ne.useState(null),F=r&&e.current_owner_id===r.id,L=(n==null?void 0:n.role)==="taller";ne.useEffect(()=>{e&&P()},[e]);async function P(){p(!0);try{const{data:te}=await rt.from("verified_maintenance").select("*, workshop:users(full_name, workshop_details)").eq("vehicle_id",e.id).order("date",{ascending:!1});l(te||[]);const{data:H}=await rt.from("structural_changes").select("*, workshop:users(full_name, workshop_details)").eq("vehicle_id",e.id).order("date",{ascending:!1});if(c(H||[]),F||L){const{data:J}=await rt.from("owner_notes").select("*").eq("vehicle_id",e.id).order("date",{ascending:!1});m(J||[])}}catch(te){console.error("Error fetching details:",te)}finally{p(!1)}}const $=te=>{lj(e,s,o,null,te)},K=(te,H)=>{oj(te,e,te.workshop,H)};async function A(te){te.preventDefault();try{if(j){const{error:H}=await rt.from("owner_notes").update({date:x.date,note_text:x.note_text}).eq("id",j).eq("owner_id",r.id);if(H)throw H}else{const{error:H}=await rt.from("owner_notes").insert([{vehicle_id:e.id,owner_id:r.id,date:x.date,note_text:x.note_text}]);if(H)throw H}y(!1),w({date:new Date().toISOString().split("T")[0],note_text:""}),O(null),P()}catch(H){console.error("Error saving note:",H),alert("Error al guardar la nota")}}async function C(te){if(confirm("Ests seguro de eliminar esta nota?"))try{const{error:H}=await rt.from("owner_notes").delete().eq("id",te).eq("owner_id",r.id);if(H)throw H;P()}catch(H){console.error("Error deleting note:",H)}}function V(te){w({date:te.date,note_text:te.note_text}),O(te.id),y(!0)}return f.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-gray-800 w-full max-w-4xl h-[90vh] flex flex-col relative",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10",children:f.jsx($r,{className:"w-6 h-6"})}),f.jsxs("div",{className:"p-6 border-b border-gray-800 bg-[#0B0E11]",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("h2",{className:"text-2xl font-bold text-white",children:[e.brand," ",e.model," (",e.year,")"]}),e.isCertified&&f.jsxs("span",{className:"bg-yellow-500 text-black text-xs font-bold px-2 py-1 rounded flex items-center gap-1",children:[f.jsx(Mh,{className:"w-3 h-3"})," CERTIFICADO"]})]}),f.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-400",children:[(F||L)&&f.jsx("span",{className:"bg-gray-800 px-2 py-1 rounded text-white",children:e.plate}),f.jsxs("span",{children:["VIN: ",f.jsx("span",{className:"font-mono text-gray-300",children:e.vin_full||e.vin})]})]}),(e.traction||e.fuel_type||e.location)&&f.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 text-xs text-gray-400",children:[e.traction&&f.jsxs("span",{className:"bg-gray-900 px-2 py-1 rounded border border-gray-700",children:["Traccin: ",e.traction]}),e.fuel_type&&f.jsxs("span",{className:"bg-gray-900 px-2 py-1 rounded border border-gray-700",children:["Combustible: ",e.fuel_type]}),e.engine_displacement&&f.jsxs("span",{className:"bg-gray-900 px-2 py-1 rounded border border-gray-700",children:["Motor: ",e.engine_displacement]}),e.general_condition&&f.jsxs("span",{className:"bg-gray-900 px-2 py-1 rounded border border-gray-700",children:["Estado: ",e.general_condition]}),e.location&&f.jsxs("span",{className:"bg-gray-900 px-2 py-1 rounded border border-gray-700",children:["Ubicacin: ",e.location]}),e.odometer_not_working&&f.jsx("span",{className:"bg-red-900/20 text-red-400 px-2 py-1 rounded border border-red-900/30",children:"Odmetro no funciona"})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>$("light"),className:"bg-white text-black px-3 py-1.5 rounded text-xs font-bold hover:bg-gray-200 transition-colors flex items-center gap-1",children:[f.jsx(bd,{size:14})," Pasaporte (Claro)"]}),f.jsxs("button",{onClick:()=>$("dark"),className:"bg-gray-800 text-white px-3 py-1.5 rounded text-xs font-bold hover:bg-gray-700 transition-colors flex items-center gap-1",children:[f.jsx(bd,{size:14})," Pasaporte (Oscuro)"]})]})]}),(e.marketplacePhotoUrl||e.photo_url)&&f.jsx("div",{className:"h-48 w-full rounded-lg overflow-hidden bg-gray-900 mb-2",children:f.jsx("img",{src:e.marketplacePhotoUrl||e.photo_url,alt:e.model,className:"w-full h-full object-cover",onError:te=>te.target.style.display="none"})})]}),f.jsxs("div",{className:"flex border-b border-gray-800 bg-[#0B0E11] overflow-x-auto",children:[f.jsxs("button",{onClick:()=>a("maintenance"),className:`px-6 py-3 text-sm font-medium flex items-center gap-2 transition-colors whitespace-nowrap ${i==="maintenance"?"text-[#1E5EFF] border-b-2 border-[#1E5EFF]":"text-gray-400 hover:text-white"}`,children:[f.jsx(eg,{className:"w-4 h-4"}),"Mantenimientos"]}),f.jsxs("button",{onClick:()=>a("structural"),className:`px-6 py-3 text-sm font-medium flex items-center gap-2 transition-colors whitespace-nowrap ${i==="structural"?"text-orange-500 border-b-2 border-orange-500":"text-gray-400 hover:text-white"}`,children:[f.jsx(fl,{className:"w-4 h-4"}),"Cambios Estructurales"]}),(F||L)&&f.jsxs("button",{onClick:()=>a("notes"),className:`px-6 py-3 text-sm font-medium flex items-center gap-2 transition-colors whitespace-nowrap ${i==="notes"?"text-green-500 border-b-2 border-green-500":"text-gray-400 hover:text-white"}`,children:[f.jsx(Zm,{className:"w-4 h-4"}),"Notas del Propietario"]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-[#0B0E11]/50",children:g?f.jsx("div",{className:"flex justify-center py-12 text-gray-500",children:"Cargando historial..."}):f.jsxs(f.Fragment,{children:[i==="maintenance"&&f.jsx("div",{className:"space-y-4",children:s.length===0?f.jsx("p",{className:"text-gray-500 text-center py-8",children:"No hay mantenimientos registrados."}):s.map(te=>{var H;return f.jsxs("div",{className:"bg-[#151921] border border-gray-800 p-4 rounded-lg hover:border-[#1E5EFF]/30 transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-white text-lg",children:te.service_type}),f.jsx("p",{className:"text-sm text-[#1E5EFF]",children:((H=te.workshop)==null?void 0:H.full_name)||"Taller Afiliado"})]}),f.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[f.jsx(vp,{className:"w-3 h-3"}),new Date(te.date).toLocaleDateString()]})]}),f.jsx("p",{className:"text-gray-400 text-sm mb-3",children:te.description}),f.jsxs("div",{className:"flex gap-4 text-xs text-gray-500 border-t border-gray-800 pt-3",children:[f.jsxs("span",{children:["Km: ",te.mileage]}),f.jsxs("span",{children:["Costo: $",te.cost]}),f.jsxs("span",{className:"text-green-500 flex items-center gap-1",children:[f.jsx(O0,{className:"w-3 h-3"}),te.verified_label]})]})]},te.id)})}),i==="structural"&&f.jsx("div",{className:"space-y-4",children:o.length===0?f.jsx("p",{className:"text-gray-500 text-center py-8",children:"No hay cambios estructurales registrados."}):o.map(te=>{var H;return f.jsxs("div",{className:"bg-[#151921] border border-orange-900/30 p-4 rounded-lg hover:border-orange-500/30 transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-white text-lg capitalize",children:te.type}),f.jsx("p",{className:"text-sm text-orange-500",children:((H=te.workshop)==null?void 0:H.full_name)||"Taller Afiliado"})]}),f.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-1",children:[f.jsx(vp,{className:"w-3 h-3"}),new Date(te.date).toLocaleDateString()]})]}),f.jsx("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:te.description}),f.jsxs("div",{className:"flex justify-between items-center border-t border-gray-800 pt-3",children:[f.jsx("div",{className:"text-xs text-gray-500",children:te.odo_not_working?f.jsx("span",{className:"text-red-400",children:"Odmetro no funciona"}):f.jsxs("span",{children:["Km: ",te.km]})}),f.jsxs("button",{onClick:()=>S(te),className:"text-orange-500 text-xs hover:text-orange-400 flex items-center gap-1",children:[f.jsx(w6,{size:14})," Ver Detalle"]})]})]},te.id)})}),i==="notes"&&(F||L)&&f.jsxs("div",{className:"space-y-6",children:[F&&f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:()=>{w({date:new Date().toISOString().split("T")[0],note_text:""}),O(null),y(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[f.jsx(Ku,{className:"w-4 h-4"}),"Agregar Nota"]})}),N&&f.jsxs("div",{className:"bg-[#1A1F29] p-4 rounded-lg border border-gray-700 animate-in fade-in slide-in-from-top-4",children:[f.jsx("h3",{className:"text-white font-bold mb-4",children:j?"Editar Nota":"Nueva Nota"}),f.jsxs("form",{onSubmit:A,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Fecha"}),f.jsx("input",{type:"date",required:!0,value:x.date,onChange:te=>w({...x,date:te.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white focus:border-green-500 focus:outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nota"}),f.jsx("textarea",{required:!0,rows:"3",value:x.note_text,onChange:te=>w({...x,note_text:te.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white focus:border-green-500 focus:outline-none",placeholder:"Escribe tu nota aqu..."})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:"Guardar"})]})]})]}),f.jsx("div",{className:"space-y-4",children:d.length===0?f.jsx("p",{className:"text-gray-500 text-center py-8",children:"No hay notas registradas."}):d.map(te=>f.jsxs("div",{className:"bg-[#151921] border border-gray-800 p-4 rounded-lg hover:border-green-500/30 transition-colors relative group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("span",{className:"text-sm text-green-500 font-medium flex items-center gap-1",children:[f.jsx(vp,{className:"w-3 h-3"}),new Date(te.date).toLocaleDateString()]}),F&&f.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>V(te),className:"p-1 text-gray-400 hover:text-white",title:"Editar",children:f.jsx(H5,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>C(te.id),className:"p-1 text-gray-400 hover:text-red-500",title:"Eliminar",children:f.jsx(oc,{className:"w-4 h-4"})})]})]}),f.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:te.note_text}),f.jsx("div",{className:"mt-3 pt-3 border-t border-gray-800 text-xs text-gray-600 italic",children:te.seal})]},te.id))})]})]})}),b&&f.jsxs("div",{className:"absolute inset-0 bg-black/95 z-50 flex flex-col p-6 animate-in fade-in zoom-in-95",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-800 pb-4",children:[f.jsx("h3",{className:"text-xl font-bold text-white",children:"Detalle del Cambio Estructural"}),f.jsx("button",{onClick:()=>S(null),className:"text-gray-400 hover:text-white",children:f.jsx($r,{size:24})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{className:"bg-gray-900 p-3 rounded",children:[f.jsx("span",{className:"block text-gray-500",children:"Tipo"}),f.jsx("span",{className:"text-white font-medium",children:b.type})]}),f.jsxs("div",{className:"bg-gray-900 p-3 rounded",children:[f.jsx("span",{className:"block text-gray-500",children:"Fecha"}),f.jsx("span",{className:"text-white font-medium",children:new Date(b.date).toLocaleDateString()})]}),f.jsxs("div",{className:"bg-gray-900 p-3 rounded",children:[f.jsx("span",{className:"block text-gray-500",children:"Kilometraje"}),f.jsx("span",{className:"text-white font-medium",children:b.odo_not_working?"Odmetro no funciona":`${b.km} km`})]}),f.jsxs("div",{className:"bg-gray-900 p-3 rounded",children:[f.jsx("span",{className:"block text-gray-500",children:"Taller"}),f.jsx("span",{className:"text-white font-medium",children:(W=b.workshop)==null?void 0:W.full_name})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-gray-400 text-sm mb-2",children:"Descripcin Completa"}),f.jsx("div",{className:"bg-gray-900 p-4 rounded text-gray-300 whitespace-pre-wrap",children:b.description})]}),b.photos&&b.photos.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-gray-400 text-sm mb-2",children:"Evidencia Fotogrfica"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:b.photos.map((te,H)=>f.jsx("div",{className:"aspect-video bg-gray-800 rounded overflow-hidden border border-gray-700",children:f.jsx("img",{src:te,alt:`Evidencia ${H+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer",onClick:()=>window.open(te,"_blank")})},H))})]})]}),f.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-800 flex justify-end gap-3",children:[f.jsxs("button",{onClick:()=>K(b,"light"),className:"bg-white text-black px-4 py-2 rounded font-bold hover:bg-gray-200 transition-colors flex items-center gap-2",children:[f.jsx(bd,{size:16})," PDF (Claro)"]}),f.jsxs("button",{onClick:()=>K(b,"dark"),className:"bg-gray-800 text-white px-4 py-2 rounded font-bold hover:bg-gray-700 transition-colors flex items-center gap-2",children:[f.jsx(bd,{size:16})," PDF (Oscuro)"]})]})]})]})})}function cj(){const[e,t]=ne.useState([]),[r,n]=ne.useState(!0),[i,a]=ne.useState({brand:"",minPrice:"",maxPrice:"",certifiedOnly:!1,country:"",city:""}),[s,l]=ne.useState(null),[o,c]=ne.useState(!1),[d,m]=ne.useState(!1);ne.useEffect(()=>{p()},[]);const g=async()=>{m(!0);try{const{data:{user:S}}=await rt.auth.getUser();if(S){const{data:N}=await rt.from("users").select("country, city").eq("id",S.id).single();N&&N.country&&N.city?a(y=>({...y,country:N.country,city:N.city})):c(!0)}else{if(!navigator.geolocation){alert("Tu navegador no soporta geolocalizacin.");return}navigator.geolocation.getCurrentPosition(async N=>{try{const{latitude:y,longitude:x}=N.coords,j=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${y}&lon=${x}`)).json();if(j&&j.address){const O=j.address.country,F=j.address.city||j.address.town||j.address.village||j.address.county;a(L=>({...L,country:O||"",city:F||""}))}}catch(y){console.error("Error geolocating:",y),alert("No pudimos detectar tu ubicacin automticamente.")}},N=>{console.error("Geolocation permission denied:",N)})}}catch(S){console.error("Error in Near Me:",S)}finally{m(!1)}};async function p(){try{let S=rt.from("marketplace").select(`
          *,
          vehicles!inner(
            *,
            structural_changes(*),
            owner_notes(count),
            verified_maintenance(count),
            vehicle_certifications(*)
          )
        `).eq("status","available").eq("vehicles.is_deleted",!1);const{data:N,error:y}=await S;if(y)throw y;const x=N.map(w=>{var A,C,V,W;const j=w.vehicles.structural_changes||[],O=j.length,F=j.some(te=>te.change_type==="motor"),L=((C=(A=w.vehicles.owner_notes)==null?void 0:A[0])==null?void 0:C.count)||0,P=((W=(V=w.vehicles.verified_maintenance)==null?void 0:V[0])==null?void 0:W.count)||0,K=(w.vehicles.vehicle_certifications||[]).length>0&&P>0;return{...w,vehicles:{...w.vehicles,structuralChangesCount:O,hasEngineChange:F,ownerNotesCount:L,marketplacePhotoUrl:w.photo_url||w.vehicles.photo_url,traction:w.traction,fuel_type:w.fuel_type,engine_displacement:w.engine_displacement,owner_count:w.owner_count,general_condition:w.general_condition,location:w.location,country:w.country,city:w.city,odometer_not_working:w.odometer_not_working,isCertified:K}}});t(x||[])}catch(S){console.error("Error fetching marketplace:",S)}finally{n(!1)}}const b=e.filter(S=>{if(i.brand&&!S.vehicles.brand.toLowerCase().includes(i.brand.toLowerCase())||i.minPrice&&S.price<Number(i.minPrice)||i.maxPrice&&S.price>Number(i.maxPrice)||i.certifiedOnly&&!S.vehicles.isCertified||i.country&&!(S.vehicles.country&&S.vehicles.country.toLowerCase()===i.country.toLowerCase()||S.vehicles.location&&S.vehicles.location.toLowerCase().includes(i.country.toLowerCase())))return!1;if(i.city){const N=i.city.trim().toLowerCase();if(!(S.vehicles.city&&S.vehicles.city.toLowerCase().includes(N)||S.vehicles.location&&S.vehicles.location.toLowerCase().includes(N)))return!1}return!0});return f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 text-white",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Marketplace Certificado"}),f.jsx("p",{className:"text-gray-400",children:"Vehculos con historial verificado por AUTORAH."})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 bg-[#151921] p-2 rounded-lg border border-gray-800 items-center",children:[f.jsxs("button",{onClick:g,disabled:d,className:`flex items-center gap-1 px-3 py-1 rounded text-sm font-medium transition-colors ${i.country||i.city?"bg-green-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,title:"Usar mi ubicacin",children:[d?f.jsx(Sn,{className:"w-4 h-4 animate-spin"}):f.jsx(q5,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Cerca de m"})]}),f.jsxs("select",{className:"bg-gray-900 border border-gray-700 rounded px-3 py-1 text-sm text-white w-32",value:i.country,onChange:S=>a({...i,country:S.target.value}),children:[f.jsx("option",{value:"",children:"Pas..."}),W5.map(S=>f.jsx("option",{value:S.name,children:S.name},S.code))]}),f.jsx("input",{placeholder:"Ciudad...",className:"bg-gray-900 border border-gray-700 rounded px-3 py-1 text-sm text-white w-32",value:i.city,onChange:S=>a({...i,city:S.target.value})}),f.jsx("input",{placeholder:"Marca...",className:"bg-gray-900 border border-gray-700 rounded px-3 py-1 text-sm text-white w-32",value:i.brand,onChange:S=>a({...i,brand:S.target.value})}),f.jsx("input",{placeholder:"Min $",type:"number",className:"bg-gray-900 border border-gray-700 rounded px-3 py-1 text-sm text-white w-24",value:i.minPrice,onChange:S=>a({...i,minPrice:S.target.value})}),f.jsx("input",{placeholder:"Max $",type:"number",className:"bg-gray-900 border border-gray-700 rounded px-3 py-1 text-sm text-white w-24",value:i.maxPrice,onChange:S=>a({...i,maxPrice:S.target.value})}),f.jsxs("label",{className:"flex items-center gap-1 px-2 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",className:"rounded border-gray-700 bg-gray-900 text-[#1E5EFF]",checked:i.certifiedOnly,onChange:S=>a({...i,certifiedOnly:S.target.checked})}),f.jsxs("span",{className:"text-sm text-yellow-400 font-bold flex items-center gap-1",children:[f.jsx(Mh,{className:"w-4 h-4"})," Certificados"]})]}),f.jsx("button",{className:"bg-[#1E5EFF] p-2 rounded hover:bg-[#3C7BFF]",children:f.jsx(Bh,{className:"w-4 h-4"})})]})]}),r?f.jsx("div",{className:"flex justify-center p-12",children:f.jsx(Sn,{className:"animate-spin text-white"})}):f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.map(S=>f.jsxs("div",{className:"relative group",children:[f.jsx(tg,{vehicle:S.vehicles,isOwner:!1,onAction:()=>l(S.vehicles)}),f.jsxs("div",{className:"absolute top-4 left-4 bg-[#1E5EFF] text-white px-3 py-1 rounded-full font-bold shadow-lg z-10",children:["$",S.price.toLocaleString()]}),f.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:f.jsx("button",{onClick:()=>l(S.vehicles),className:"bg-white text-black px-4 py-2 rounded-lg font-bold hover:bg-gray-200 shadow-lg",children:"Ver Detalles"})})]},S.id)),b.length===0&&f.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No se encontraron vehculos disponibles."})]}),s&&f.jsx(mw,{vehicle:s,onClose:()=>l(null)}),o&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full text-center animate-in fade-in zoom-in duration-200",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Completa tu perfil"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:'Para usar "Cerca de m", necesitamos saber tu pas y ciudad. Por favor actualiza tu perfil.'}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200",children:"Cancelar"}),f.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700",children:"Entendido"})]})]})})]})}const ph=async e=>{var i;const t="dngh1pvky",r="vehicle_photos",n=new FormData;n.append("file",e),n.append("upload_preset",r);try{const a=await fetch(`https://api.cloudinary.com/v1_1/${t}/image/upload`,{method:"POST",body:n});if(!a.ok){const l=await a.json();throw new Error(((i=l.error)==null?void 0:i.message)||"Error uploading image")}return(await a.json()).secure_url}catch(a){throw console.error("Cloudinary upload error:",a),a}};var dj=Object.defineProperty,mh=Object.getOwnPropertySymbols,gw=Object.prototype.hasOwnProperty,vw=Object.prototype.propertyIsEnumerable,q2=(e,t,r)=>t in e?dj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,G0=(e,t)=>{for(var r in t||(t={}))gw.call(t,r)&&q2(e,r,t[r]);if(mh)for(var r of mh(t))vw.call(t,r)&&q2(e,r,t[r]);return e},K0=(e,t)=>{var r={};for(var n in e)gw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&mh)for(var n of mh(e))t.indexOf(n)<0&&vw.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ms;(e=>{const t=class ht{constructor(o,c,d,m){if(this.version=o,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],o<ht.MIN_VERSION||o>ht.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let g=[];for(let b=0;b<this.size;b++)g.push(!1);for(let b=0;b<this.size;b++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),m==-1){let b=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const N=this.getPenaltyScore();N<b&&(m=S,b=N),this.applyMask(S)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(o,c){const d=e.QrSegment.makeSegments(o);return ht.encodeSegments(d,c)}static encodeBinary(o,c){const d=e.QrSegment.makeBytes(o);return ht.encodeSegments([d],c)}static encodeSegments(o,c,d=1,m=40,g=-1,p=!0){if(!(ht.MIN_VERSION<=d&&d<=m&&m<=ht.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let b,S;for(b=d;;b++){const w=ht.getNumDataCodewords(b,c)*8,j=s.getTotalBits(o,b);if(j<=w){S=j;break}if(b>=m)throw new RangeError("Data too long")}for(const w of[ht.Ecc.MEDIUM,ht.Ecc.QUARTILE,ht.Ecc.HIGH])p&&S<=ht.getNumDataCodewords(b,w)*8&&(c=w);let N=[];for(const w of o){r(w.mode.modeBits,4,N),r(w.numChars,w.mode.numCharCountBits(b),N);for(const j of w.getData())N.push(j)}i(N.length==S);const y=ht.getNumDataCodewords(b,c)*8;i(N.length<=y),r(0,Math.min(4,y-N.length),N),r(0,(8-N.length%8)%8,N),i(N.length%8==0);for(let w=236;N.length<y;w^=253)r(w,8,N);let x=[];for(;x.length*8<N.length;)x.push(0);return N.forEach((w,j)=>x[j>>>3]|=w<<7-(j&7)),new ht(b,c,x,g)}getModule(o,c){return 0<=o&&o<this.size&&0<=c&&c<this.size&&this.modules[c][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),c=o.length;for(let d=0;d<c;d++)for(let m=0;m<c;m++)d==0&&m==0||d==0&&m==c-1||d==c-1&&m==0||this.drawAlignmentPattern(o[d],o[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const c=this.errorCorrectionLevel.formatBits<<3|o;let d=c;for(let g=0;g<10;g++)d=d<<1^(d>>>9)*1335;const m=(c<<10|d)^21522;i(m>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,n(m,g));this.setFunctionModule(8,7,n(m,6)),this.setFunctionModule(8,8,n(m,7)),this.setFunctionModule(7,8,n(m,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,n(m,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,n(m,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,n(m,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let d=0;d<12;d++)o=o<<1^(o>>>11)*7973;const c=this.version<<12|o;i(c>>>18==0);for(let d=0;d<18;d++){const m=n(c,d),g=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(g,p,m),this.setFunctionModule(p,g,m)}}drawFinderPattern(o,c){for(let d=-4;d<=4;d++)for(let m=-4;m<=4;m++){const g=Math.max(Math.abs(m),Math.abs(d)),p=o+m,b=c+d;0<=p&&p<this.size&&0<=b&&b<this.size&&this.setFunctionModule(p,b,g!=2&&g!=4)}}drawAlignmentPattern(o,c){for(let d=-2;d<=2;d++)for(let m=-2;m<=2;m++)this.setFunctionModule(o+m,c+d,Math.max(Math.abs(m),Math.abs(d))!=1)}setFunctionModule(o,c,d){this.modules[c][o]=d,this.isFunction[c][o]=!0}addEccAndInterleave(o){const c=this.version,d=this.errorCorrectionLevel;if(o.length!=ht.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const m=ht.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],g=ht.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],p=Math.floor(ht.getNumRawDataModules(c)/8),b=m-p%m,S=Math.floor(p/m);let N=[];const y=ht.reedSolomonComputeDivisor(g);for(let w=0,j=0;w<m;w++){let O=o.slice(j,j+S-g+(w<b?0:1));j+=O.length;const F=ht.reedSolomonComputeRemainder(O,y);w<b&&O.push(0),N.push(O.concat(F))}let x=[];for(let w=0;w<N[0].length;w++)N.forEach((j,O)=>{(w!=S-g||O>=b)&&x.push(j[w])});return i(x.length==p),x}drawCodewords(o){if(o.length!=Math.floor(ht.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let m=0;m<this.size;m++)for(let g=0;g<2;g++){const p=d-g,S=(d+1&2)==0?this.size-1-m:m;!this.isFunction[S][p]&&c<o.length*8&&(this.modules[S][p]=n(o[c>>>3],7-(c&7)),c++)}}i(c==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let m;switch(o){case 0:m=(d+c)%2==0;break;case 1:m=c%2==0;break;case 2:m=d%3==0;break;case 3:m=(d+c)%3==0;break;case 4:m=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:m=d*c%2+d*c%3==0;break;case 6:m=(d*c%2+d*c%3)%2==0;break;case 7:m=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&m&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let o=0;for(let g=0;g<this.size;g++){let p=!1,b=0,S=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[g][N]==p?(b++,b==5?o+=ht.PENALTY_N1:b>5&&o++):(this.finderPenaltyAddHistory(b,S),p||(o+=this.finderPenaltyCountPatterns(S)*ht.PENALTY_N3),p=this.modules[g][N],b=1);o+=this.finderPenaltyTerminateAndCount(p,b,S)*ht.PENALTY_N3}for(let g=0;g<this.size;g++){let p=!1,b=0,S=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][g]==p?(b++,b==5?o+=ht.PENALTY_N1:b>5&&o++):(this.finderPenaltyAddHistory(b,S),p||(o+=this.finderPenaltyCountPatterns(S)*ht.PENALTY_N3),p=this.modules[N][g],b=1);o+=this.finderPenaltyTerminateAndCount(p,b,S)*ht.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let p=0;p<this.size-1;p++){const b=this.modules[g][p];b==this.modules[g][p+1]&&b==this.modules[g+1][p]&&b==this.modules[g+1][p+1]&&(o+=ht.PENALTY_N2)}let c=0;for(const g of this.modules)c=g.reduce((p,b)=>p+(b?1:0),c);const d=this.size*this.size,m=Math.ceil(Math.abs(c*20-d*10)/d)-1;return i(0<=m&&m<=9),o+=m*ht.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let d=[6];for(let m=this.size-7;d.length<o;m-=c)d.splice(1,0,m);return d}}static getNumRawDataModules(o){if(o<ht.MIN_VERSION||o>ht.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*o+128)*o+64;if(o>=2){const d=Math.floor(o/7)+2;c-=(25*d-10)*d-55,o>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(o,c){return Math.floor(ht.getNumRawDataModules(o)/8)-ht.ECC_CODEWORDS_PER_BLOCK[c.ordinal][o]*ht.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let c=[];for(let m=0;m<o-1;m++)c.push(0);c.push(1);let d=1;for(let m=0;m<o;m++){for(let g=0;g<c.length;g++)c[g]=ht.reedSolomonMultiply(c[g],d),g+1<c.length&&(c[g]^=c[g+1]);d=ht.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(o,c){let d=c.map(m=>0);for(const m of o){const g=m^d.shift();d.push(0),c.forEach((p,b)=>d[b]^=ht.reedSolomonMultiply(p,g))}return d}static reedSolomonMultiply(o,c){if(o>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let m=7;m>=0;m--)d=d<<1^(d>>>7)*285,d^=(c>>>m&1)*o;return i(d>>>8==0),d}finderPenaltyCountPatterns(o){const c=o[1];i(c<=this.size*3);const d=c>0&&o[2]==c&&o[3]==c*3&&o[4]==c&&o[5]==c;return(d&&o[0]>=c*4&&o[6]>=c?1:0)+(d&&o[6]>=c*4&&o[0]>=c?1:0)}finderPenaltyTerminateAndCount(o,c,d){return o&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(o,c){c[0]==0&&(o+=this.size),c.pop(),c.unshift(o)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,o,c){if(o<0||o>31||l>>>o)throw new RangeError("Value out of range");for(let d=o-1;d>=0;d--)c.push(l>>>d&1)}function n(l,o){return(l>>>o&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class Yt{constructor(o,c,d){if(this.mode=o,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(o){let c=[];for(const d of o)r(d,8,c);return new Yt(Yt.Mode.BYTE,o.length,c)}static makeNumeric(o){if(!Yt.isNumeric(o))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<o.length;){const m=Math.min(o.length-d,3);r(parseInt(o.substring(d,d+m),10),m*3+1,c),d+=m}return new Yt(Yt.Mode.NUMERIC,o.length,c)}static makeAlphanumeric(o){if(!Yt.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=o.length;d+=2){let m=Yt.ALPHANUMERIC_CHARSET.indexOf(o.charAt(d))*45;m+=Yt.ALPHANUMERIC_CHARSET.indexOf(o.charAt(d+1)),r(m,11,c)}return d<o.length&&r(Yt.ALPHANUMERIC_CHARSET.indexOf(o.charAt(d)),6,c),new Yt(Yt.Mode.ALPHANUMERIC,o.length,c)}static makeSegments(o){return o==""?[]:Yt.isNumeric(o)?[Yt.makeNumeric(o)]:Yt.isAlphanumeric(o)?[Yt.makeAlphanumeric(o)]:[Yt.makeBytes(Yt.toUtf8ByteArray(o))]}static makeEci(o){let c=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)r(o,8,c);else if(o<16384)r(2,2,c),r(o,14,c);else if(o<1e6)r(6,3,c),r(o,21,c);else throw new RangeError("ECI assignment value out of range");return new Yt(Yt.Mode.ECI,0,c)}static isNumeric(o){return Yt.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return Yt.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,c){let d=0;for(const m of o){const g=m.mode.numCharCountBits(c);if(m.numChars>=1<<g)return 1/0;d+=4+g+m.bitData.length}return d}static toUtf8ByteArray(o){o=encodeURI(o);let c=[];for(let d=0;d<o.length;d++)o.charAt(d)!="%"?c.push(o.charCodeAt(d)):(c.push(parseInt(o.substring(d+1,d+3),16)),d+=2);return c}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=a;e.QrSegment=a})(Ms||(Ms={}));(e=>{(t=>{const r=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Ms||(Ms={}));(e=>{(t=>{const r=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Ms||(Ms={}));var Vo=Ms;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var hj={L:Vo.QrCode.Ecc.LOW,M:Vo.QrCode.Ecc.MEDIUM,Q:Vo.QrCode.Ecc.QUARTILE,H:Vo.QrCode.Ecc.HIGH},yw=128,ww="L",bw="#FFFFFF",xw="#000000",_w=!1,Sw=1,fj=4,pj=0,mj=.1;function Nw(e,t=0){const r=[];return e.forEach(function(n,i){let a=null;n.forEach(function(s,l){if(!s&&a!==null){r.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===n.length-1){if(!s)return;a===null?r.push(`M${l+t},${i+t} h1v1H${l+t}z`):r.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}s&&a===null&&(a=l)})}),r.join("")}function kw(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function gj(e,t,r,n){if(n==null)return null;const i=e.length+r*2,a=Math.floor(t*mj),s=i/t,l=(n.width||a)*s,o=(n.height||a)*s,c=n.x==null?e.length/2-l/2:n.x*s,d=n.y==null?e.length/2-o/2:n.y*s,m=n.opacity==null?1:n.opacity;let g=null;if(n.excavate){let b=Math.floor(c),S=Math.floor(d),N=Math.ceil(l+c-b),y=Math.ceil(o+d-S);g={x:b,y:S,w:N,h:y}}const p=n.crossOrigin;return{x:c,y:d,h:o,w:l,excavation:g,opacity:m,crossOrigin:p}}function vj(e,t){return t!=null?Math.max(Math.floor(t),0):e?fj:pj}function jw({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:a,size:s,boostLevel:l}){let o=fr.useMemo(()=>{const b=(Array.isArray(e)?e:[e]).reduce((S,N)=>(S.push(...Vo.QrSegment.makeSegments(N)),S),[]);return Vo.QrCode.encodeSegments(b,hj[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:c,margin:d,numCells:m,calculatedImageSettings:g}=fr.useMemo(()=>{let p=o.getModules();const b=vj(n,i),S=p.length+b*2,N=gj(p,s,b,a);return{cells:p,margin:b,numCells:S,calculatedImageSettings:N}},[o,s,a,n,i]);return{qrcode:o,margin:d,cells:c,numCells:m,calculatedImageSettings:g}}var yj=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Ew=fr.forwardRef(function(t,r){const n=t,{value:i,size:a=yw,level:s=ww,bgColor:l=bw,fgColor:o=xw,includeMargin:c=_w,minVersion:d=Sw,boostLevel:m,marginSize:g,imageSettings:p}=n,S=K0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=S,y=K0(S,["style"]),x=p==null?void 0:p.src,w=fr.useRef(null),j=fr.useRef(null),O=fr.useCallback(W=>{w.current=W,typeof r=="function"?r(W):r&&(r.current=W)},[r]),[F,L]=fr.useState(!1),{margin:P,cells:$,numCells:K,calculatedImageSettings:A}=jw({value:i,level:s,minVersion:d,boostLevel:m,includeMargin:c,marginSize:g,imageSettings:p,size:a});fr.useEffect(()=>{if(w.current!=null){const W=w.current,te=W.getContext("2d");if(!te)return;let H=$;const J=j.current,z=A!=null&&J!==null&&J.complete&&J.naturalHeight!==0&&J.naturalWidth!==0;z&&A.excavation!=null&&(H=kw($,A.excavation));const G=window.devicePixelRatio||1;W.height=W.width=a*G;const re=a/K*G;te.scale(re,re),te.fillStyle=l,te.fillRect(0,0,K,K),te.fillStyle=o,yj?te.fill(new Path2D(Nw(H,P))):$.forEach(function(de,E){de.forEach(function(B,q){B&&te.fillRect(q+P,E+P,1,1)})}),A&&(te.globalAlpha=A.opacity),z&&te.drawImage(J,A.x+P,A.y+P,A.w,A.h)}}),fr.useEffect(()=>{L(!1)},[x]);const C=G0({height:a,width:a},N);let V=null;return x!=null&&(V=fr.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{L(!0)},ref:j,crossOrigin:A==null?void 0:A.crossOrigin})),fr.createElement(fr.Fragment,null,fr.createElement("canvas",G0({style:C,height:a,width:a,ref:O,role:"img"},y)),V)});Ew.displayName="QRCodeCanvas";var wj=fr.forwardRef(function(t,r){const n=t,{value:i,size:a=yw,level:s=ww,bgColor:l=bw,fgColor:o=xw,includeMargin:c=_w,minVersion:d=Sw,boostLevel:m,title:g,marginSize:p,imageSettings:b}=n,S=K0(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:y,numCells:x,calculatedImageSettings:w}=jw({value:i,level:s,minVersion:d,boostLevel:m,includeMargin:c,marginSize:p,imageSettings:b,size:a});let j=y,O=null;b!=null&&w!=null&&(w.excavation!=null&&(j=kw(y,w.excavation)),O=fr.createElement("image",{href:b.src,height:w.h,width:w.w,x:w.x+N,y:w.y+N,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const F=Nw(j,N);return fr.createElement("svg",G0({height:a,width:a,viewBox:`0 0 ${x} ${x}`,ref:r,role:"img"},S),!!g&&fr.createElement("title",null,g),fr.createElement("path",{fill:l,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),fr.createElement("path",{fill:o,d:F,shapeRendering:"crispEdges"}),O)});wj.displayName="QRCodeSVG";function bj({vehicle:e,onClose:t}){const[r,n]=ne.useState(!1),i=ne.useRef(null),a=`${window.location.origin}/marketplace?plate=${e.plate}`,s=async()=>{try{await navigator.clipboard.writeText(a),n(!0),setTimeout(()=>n(!1),2e3)}catch(o){console.error("Error al copiar:",o)}},l=()=>{const o=i.current.querySelector("canvas");if(o){const c=o.toDataURL("image/png"),d=document.createElement("a");d.href=c,d.download=`autorah-qr-${e.plate}.png`,document.body.appendChild(d),d.click(),document.body.removeChild(d)}};return f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-gray-800 w-full max-w-sm p-6 relative flex flex-col items-center",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:f.jsx($r,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-xl font-bold mb-2 text-white",children:"Cdigo QR del Vehculo"}),f.jsxs("p",{className:"text-gray-400 text-sm mb-6 text-center",children:["Escanea para ver el Pasaporte Digital de ",f.jsx("br",{}),f.jsx("span",{className:"text-[#1E5EFF] font-bold",children:e.plate})]}),f.jsx("div",{className:"bg-white p-4 rounded-xl mb-6",ref:i,children:f.jsx(Ew,{value:a,size:200,level:"H",includeMargin:!0,imageSettings:{src:"/favicon.ico",x:void 0,y:void 0,height:24,width:24,excavate:!0}})}),f.jsxs("div",{className:"w-full space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 p-3 rounded-lg border border-gray-700",children:[f.jsx("div",{className:"flex-1 truncate text-xs text-gray-400 font-mono",children:a}),f.jsx("button",{onClick:s,className:"text-[#1E5EFF] hover:text-white transition-colors",title:"Copiar enlace",children:r?f.jsx(u6,{className:"w-4 h-4"}):f.jsx(f6,{className:"w-4 h-4"})})]}),f.jsxs("button",{onClick:l,className:"w-full bg-[#1E5EFF] hover:bg-[#3C7BFF] py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-colors text-white",children:[f.jsx(v6,{className:"w-5 h-5"}),"Descargar QR PNG"]})]})]})})}function xj(){const{user:e}=Za(),[t,r]=ne.useState([]),[n,i]=ne.useState(!0),[a,s]=ne.useState(0),[l,o]=ne.useState(!1);ne.useEffect(()=>{if(e){c();const g=rt.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},p=>{r(b=>[p.new,...b]),s(b=>b+1)}).subscribe();return()=>{rt.removeChannel(g)}}},[e]);async function c(){try{const{data:g,error:p}=await rt.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);if(p)throw p;r(g||[]),s(g.filter(b=>!b.is_read).length)}catch(g){console.error("Error fetching notifications:",g)}finally{i(!1)}}async function d(g){try{const{error:p}=await rt.from("notifications").update({is_read:!0}).eq("id",g);if(p)throw p;r(b=>b.map(S=>S.id===g?{...S,is_read:!0}:S)),s(b=>Math.max(0,b-1))}catch(p){console.error("Error marking notification as read:",p)}}async function m(){try{const{error:g}=await rt.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);if(g)throw g;r(p=>p.map(b=>({...b,is_read:!0}))),s(0)}catch(g){console.error("Error marking all as read:",g)}}return f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>o(!l),className:"relative p-2 text-gray-400 hover:text-white transition-colors rounded-full hover:bg-gray-800",children:[f.jsx(a6,{className:"w-6 h-6"}),a>0&&f.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full",children:a})]}),l&&f.jsxs("div",{className:"absolute right-0 mt-2 w-80 md:w-96 bg-[#151921] border border-gray-800 rounded-xl shadow-2xl z-50 overflow-hidden",children:[f.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[f.jsx("h3",{className:"font-bold text-white",children:"Notificaciones"}),a>0&&f.jsx("button",{onClick:m,className:"text-xs text-[#1E5EFF] hover:underline",children:"Marcar todas ledas"})]}),f.jsx("div",{className:"max-h-96 overflow-y-auto",children:n?f.jsx("div",{className:"p-4 text-center text-gray-500",children:"Cargando..."}):t.length===0?f.jsx("div",{className:"p-8 text-center text-gray-500",children:"No tienes notificaciones."}):f.jsx("div",{className:"divide-y divide-gray-800",children:t.map(g=>f.jsx("div",{className:`p-4 hover:bg-gray-800/50 transition-colors ${g.is_read?"":"bg-[#1E5EFF]/5"}`,onClick:()=>!g.is_read&&d(g.id),children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:`mt-1 w-2 h-2 rounded-full flex-shrink-0 ${g.is_read?"bg-gray-600":"bg-[#1E5EFF]"}`}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:`text-sm ${g.is_read?"text-gray-400":"text-white font-medium"}`,children:g.message}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[new Date(g.created_at).toLocaleDateString(),"  ",new Date(g.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})},g.id))})})]})]})}const Cw=e=>e?e.toUpperCase().replace(/[\s-]/g,""):"",_j=e=>e?e.toUpperCase().trim():"",Sj=e=>e?e.toUpperCase().trim():"";function Nj({isOpen:e,onClose:t,onClaim:r,onViewPublic:n,vehicleData:i}){return e?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[f.jsxs("div",{className:"bg-amber-50 p-6 border-b border-amber-100 flex items-start gap-4",children:[f.jsx("div",{className:"bg-amber-100 p-3 rounded-full shrink-0",children:f.jsx(fl,{className:"w-8 h-8 text-amber-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Vehculo ya registrado"}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Detectamos que este vehculo ya existe en la base de datos de AUTORAH."})]})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 text-sm",children:[f.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Datos coincidentes:"}),f.jsxs("ul",{className:"space-y-1 text-gray-600",children:[(i==null?void 0:i.plate)&&f.jsxs("li",{children:[" Placa: ",f.jsx("span",{className:"font-mono font-bold",children:i.plate})]}),(i==null?void 0:i.vin)&&f.jsxs("li",{children:[" VIN: ",f.jsx("span",{className:"font-mono font-bold",children:i.vin})]}),(i==null?void 0:i.engine)&&f.jsxs("li",{children:[" Motor: ",f.jsx("span",{className:"font-mono font-bold",children:i.engine})]})]})]}),f.jsx("p",{className:"text-sm text-gray-600",children:"Por seguridad, no se pueden crear duplicados. Si eres el dueo legtimo, puedes iniciar un proceso de reclamo."})]}),f.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-col gap-3",children:[f.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:[f.jsx(Zm,{className:"w-5 h-5"}),"Ver Ficha Pblica"]}),f.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white border-2 border-amber-500 text-amber-700 hover:bg-amber-50 rounded-xl font-medium transition-colors",children:[f.jsx(z6,{className:"w-5 h-5"}),"Reclamar como mo"]}),f.jsx("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-gray-500 hover:text-gray-700 font-medium transition-colors",children:"Cancelar"})]})]})}):null}function kj({isOpen:e,onClose:t,vehicleId:r,vehicleData:n}){const[i,a]=ne.useState(!1),[s,l]=ne.useState(null),[o,c]=ne.useState(!1),[d,m]=ne.useState(null),[g,p]=ne.useState(null);if(!e)return null;const b=async S=>{if(S.preventDefault(),!d||!g){l("Debes subir ambas fotos para procesar el reclamo.");return}a(!0),l(null);try{const N=await ph(d),y=await ph(g),{data:{user:x}}=await rt.auth.getUser();if(!x)throw new Error("Usuario no autenticado");const{error:w}=await rt.from("vehicle_claims").insert({vehicle_id:r,claimant_user_id:x.id,status:"pending",evidence_urls:[N,y]});if(w)throw w;c(!0)}catch(N){console.error("Error creating claim:",N),l("Error al enviar el reclamo. Intntalo de nuevo.")}finally{a(!1)}};return o?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 text-center animate-in fade-in zoom-in duration-200",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(su,{className:"w-8 h-8"})}),f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Reclamo Enviado!"}),f.jsx("p",{className:"text-gray-600 mb-6",children:'Hemos recibido tu solicitud y evidencia. Un administrador revisar el caso y te notificaremos pronto. El vehculo ha sido marcado como "En Disputa".'}),f.jsx("button",{onClick:t,className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-colors",children:"Entendido"})]})}):f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-gray-50 p-6 border-b border-gray-100 flex items-center justify-between shrink-0",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reclamar Propiedad"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Sube evidencia para demostrar que eres el dueo."})]}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:f.jsx($r,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 overflow-y-auto",children:[s&&f.jsxs("div",{className:"mb-4 p-4 bg-red-50 text-red-600 rounded-xl flex items-center gap-2 text-sm",children:[f.jsx(z5,{className:"w-5 h-5 shrink-0"}),s]}),f.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 mb-6",children:f.jsxs("p",{className:"text-sm text-blue-800",children:["Ests reclamando el vehculo: ",f.jsx("span",{className:"font-bold",children:n==null?void 0:n.plate}),". Necesitamos verificar tu identidad y propiedad."]})}),f.jsxs("form",{onSubmit:b,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1. Foto de Tarjeta de Circulacin"}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 hover:bg-gray-50 transition-colors text-center cursor-pointer relative",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:S=>m(S.target.files[0]),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),f.jsx("div",{className:"flex flex-col items-center gap-2",children:d?f.jsxs(f.Fragment,{children:[f.jsx(su,{className:"w-8 h-8 text-green-500"}),f.jsx("span",{className:"text-sm font-medium text-green-600",children:d.name})]}):f.jsxs(f.Fragment,{children:[f.jsx(yu,{className:"w-8 h-8 text-gray-400"}),f.jsx("span",{className:"text-sm text-gray-500",children:"Toca para subir foto"})]})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"2. Foto del VIN o Nmero de Motor"}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 hover:bg-gray-50 transition-colors text-center cursor-pointer relative",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:S=>p(S.target.files[0]),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),f.jsx("div",{className:"flex flex-col items-center gap-2",children:g?f.jsxs(f.Fragment,{children:[f.jsx(su,{className:"w-8 h-8 text-green-500"}),f.jsx("span",{className:"text-sm font-medium text-green-600",children:g.name})]}):f.jsxs(f.Fragment,{children:[f.jsx(yu,{className:"w-8 h-8 text-gray-400"}),f.jsx("span",{className:"text-sm text-gray-500",children:"Toca para subir foto"})]})})]})]}),f.jsx("div",{className:"pt-4",children:f.jsx("button",{type:"submit",disabled:i||!d||!g,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-xl font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?f.jsxs(f.Fragment,{children:[f.jsx(Sn,{className:"w-5 h-5 animate-spin"}),"Enviando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(su,{className:"w-5 h-5"}),"Enviar Reclamo"]})})})]})]})]})})}function jj({isOpen:e,onClose:t,onConfirm:r,vehicle:n}){const[i,a]=ne.useState(""),[s,l]=ne.useState(!1);if(!e||!n)return null;const o=i===n.plate,c=async()=>{o&&(l(!0),await r(),l(!1),a(""))};return f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-red-900/50 w-full max-w-md p-6 relative",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:s,children:f.jsx($r,{className:"w-6 h-6"})}),f.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mb-4",children:f.jsx(fl,{className:"w-8 h-8 text-red-500"})}),f.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Eliminar Vehculo?"}),f.jsxs("p",{className:"text-gray-400",children:["Esta accin mover el vehculo ",f.jsx("span",{className:"text-white font-bold",children:n.plate}),' a la papelera. Dejar de ser visible en "Mis Vehculos" y en el Marketplace.']})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Escribe la placa ",f.jsx("span",{className:"text-white font-mono font-bold",children:n.plate})," para confirmar:"]}),f.jsx("input",{type:"text",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white font-mono text-center uppercase",value:i,onChange:d=>a(d.target.value.toUpperCase()),placeholder:n.plate,disabled:s})]}),f.jsx("button",{onClick:c,disabled:!o||s,className:`w-full py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-colors ${o?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:s?"Eliminando...":f.jsxs(f.Fragment,{children:[f.jsx(oc,{className:"w-5 h-5"}),"Eliminar Vehculo"]})}),f.jsx("button",{onClick:t,disabled:s,className:"w-full py-2 text-gray-400 hover:text-white transition-colors",children:"Cancelar"})]})]})})}function Ej({isOpen:e,onClose:t,onConfirm:r}){const[n,i]=ne.useState(""),[a,s]=ne.useState(!1);if(!e)return null;const l=async()=>{n&&(s(!0),await r(n),s(!1),i(""))};return f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-red-900/50 w-full max-w-md p-6 relative",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white",disabled:a,children:f.jsx($r,{className:"w-6 h-6"})}),f.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mb-4",children:f.jsx(fl,{className:"w-8 h-8 text-red-500"})}),f.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Eliminar Cuenta?"}),f.jsxs("p",{className:"text-gray-400 text-sm",children:["Esta accin es ",f.jsx("span",{className:"text-red-400 font-bold",children:"irreversible"}),". Tu cuenta ser desactivada, tus datos anonimizados y tus vehculos retirados del Marketplace."]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ingresa tu contrasea para confirmar:"}),f.jsxs("div",{className:"relative",children:[f.jsx(E6,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),f.jsx("input",{type:"password",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 pl-9 text-white",value:n,onChange:o=>i(o.target.value),placeholder:"Tu contrasea actual",disabled:a})]})]}),f.jsx("button",{onClick:l,disabled:!n||a,className:`w-full py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-colors ${n?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:a?"Procesando...":f.jsxs(f.Fragment,{children:[f.jsx(oc,{className:"w-5 h-5"}),"Eliminar mi cuenta permanentemente"]})}),f.jsx("button",{onClick:t,disabled:a,className:"w-full py-2 text-gray-400 hover:text-white transition-colors",children:"Cancelar"})]})]})})}function Cj(){const{user:e,signOut:t}=Za(),[r,n]=ne.useState([]),[i,a]=ne.useState(!0),[s,l]=ne.useState(!1),[o,c]=ne.useState(!1),[d,m]=ne.useState(!1),[g,p]=ne.useState(null),[b,S]=ne.useState(!1),[N,y]=ne.useState(!1),[x,w]=ne.useState(null),[j,O]=ne.useState(!1),[F,L]=ne.useState(null),[P,$]=ne.useState(!1),[K,A]=ne.useState(null),[C,V]=ne.useState(!1),[W,te]=ne.useState(!1),[H,J]=ne.useState(!1),[z,G]=ne.useState(null),[re,de]=ne.useState(null),[E,B]=ne.useState({price:"",description:"",photo_url:"",traction:"4x2",fuel_type:"Gasolina",engine_displacement:"",owner_count:"1",general_condition:"Bueno",country:"El Salvador",city:"",odometer_not_working:!1}),[q,Q]=ne.useState({plate:"",vin_full:"",engine_number_full:"",brand:"",model:"",year:new Date().getFullYear(),color:"",photo_url:""});ne.useEffect(()=>{e&&Z()},[e]);async function Z(){try{const{data:ge,error:Le}=await rt.from("vehicles").select("*").eq("current_owner_id",e.id).eq("is_deleted",!1);if(Le)throw Le;n(ge||[])}catch(ge){console.error("Error fetching vehicles:",ge)}finally{a(!1)}}async function ue(ge,Le=!1){const We=ge.target.files[0];if(We)try{l(!0);const Qe=await ph(We);Le?p(ct=>({...ct,photo_url:Qe})):Q(ct=>({...ct,photo_url:Qe}))}catch(Qe){alert("Error uploading image: "+Qe.message)}finally{l(!1)}}async function he(ge){const Le=ge.target.files[0];if(Le)try{l(!0);const We=await ph(Le);B(Qe=>({...Qe,photo_url:We}))}catch(We){alert("Error uploading image for selling: "+We.message)}finally{l(!1)}}async function me(ge){ge.preventDefault();try{const Le=Cw(q.plate),We=_j(q.vin_full),Qe=Sj(q.engine_number_full),{data:ct,error:Je}=await rt.from("vehicles").select("id, plate, vin_full, engine_number_full").or(`plate.eq.${Le},vin_full.eq.${We},engine_number_full.eq.${Qe}`);if(Je)throw Je;if(ct&&ct.length>0){const Ie=ct[0];G({plate:Ie.plate,vin:Ie.vin_full,engine:Ie.engine_number_full}),de(Ie.id),c(!1),te(!0);return}const{error:dt}=await rt.from("vehicles").insert({...q,plate:Le,vin_full:We,engine_number_full:Qe,current_owner_id:e.id});if(dt)throw dt;c(!1),Z(),Q({plate:"",vin_full:"",engine_number_full:"",brand:"",model:"",year:new Date().getFullYear(),color:"",photo_url:""})}catch(Le){alert("Error adding vehicle: "+Le.message)}}const[je,ke]=ne.useState(!1),[Ae,Te]=ne.useState(null),[Ke,ye]=ne.useState(""),[ee,nt]=ne.useState("email"),qe=(ge,Le)=>{ge==="qr"?(w(Le),y(!0)):ge==="edit"?(p(Le),m(!0)):ge==="transfer"?(Te(Le),ke(!0)):ge==="sell"?(Te(Le),O(!0)):ge==="view"?(L(Le),S(!0)):ge==="delete"&&(A(Le),$(!0))};async function Ee(){if(K)try{const{error:ge}=await rt.from("vehicles").update({is_deleted:!0,deleted_at:new Date().toISOString(),deleted_by:e.id}).eq("id",K.id);if(ge)throw ge;await rt.from("marketplace").delete().eq("vehicle_id",K.id),$(!1),A(null),Z(),alert("Vehculo eliminado correctamente.")}catch(ge){alert("Error al eliminar vehculo: "+ge.message)}}async function Pe(ge){try{const{error:Le}=await rt.auth.signInWithPassword({email:e.email,password:ge});if(Le){alert("Contrasea incorrecta. No se pudo verificar tu identidad.");return}const{error:We}=await rt.from("users").update({is_active:!1}).eq("id",e.id);if(We)throw We;const{data:Qe}=await rt.from("vehicles").select("id").eq("current_owner_id",e.id);if(Qe&&Qe.length>0){const ct=Qe.map(Je=>Je.id);await rt.from("marketplace").delete().in("vehicle_id",ct)}await t(),window.location.href="/"}catch(Le){alert("Error al eliminar cuenta: "+Le.message)}}async function De(ge){ge.preventDefault();try{const{error:Le}=await rt.from("vehicles").update({plate:g.plate,vin_full:g.vin_full,engine_number_full:g.engine_number_full,brand:g.brand,model:g.model,year:g.year,color:g.color,photo_url:g.photo_url}).eq("id",g.id);if(Le)throw Le;m(!1),Z(),p(null)}catch(Le){alert("Error updating vehicle: "+Le.message)}}async function Oe(ge){if(ge.preventDefault(),!!Ae)try{const Le=`${E.country} - ${E.city}`,{error:We}=await rt.from("marketplace").insert({vehicle_id:Ae.id,price:E.price,description:E.description,photo_url:E.photo_url,traction:E.traction,fuel_type:E.fuel_type,engine_displacement:E.engine_displacement,owner_count:E.owner_count,general_condition:E.general_condition,location:Le,odometer_not_working:E.odometer_not_working,status:"available"});if(We)throw We;alert("Vehculo publicado en Marketplace exitosamente."),O(!1),B({price:"",description:"",photo_url:"",traction:"4x2",fuel_type:"Gasolina",engine_displacement:"",owner_count:"1",general_condition:"Bueno",country:"El Salvador",city:"",odometer_not_working:!1})}catch(Le){alert("Error: "+Le.message)}}async function He(ge){if(ge.preventDefault(),!!Ae)try{let Le=null;if(ee==="email"){const{data:Qe,error:ct}=await rt.from("users").select("id").eq("email",Ke).single();if(ct||!Qe){alert("Usuario no encontrado con ese correo.");return}Le=Qe.id}const{error:We}=await rt.from("vehicles").update({current_owner_id:Le,status:ee==="deposit"?"unregistered_deposit":"active"}).eq("id",Ae.id);if(We)throw We;await rt.from("transfers").insert({vehicle_id:Ae.id,from_owner_id:e.id,to_owner_id:Le,reason:ee==="deposit"?"Enviado a Depsito Digital":"Transferencia directa"}),ee==="deposit"&&await rt.from("notifications").insert({user_id:e.id,message:`Has enviado tu vehculo ${Ae.plate} al Depsito Digital.`,type:"deposito"}),alert("Transferencia realizada exitosamente."),ke(!1),ye(""),Z()}catch(Le){alert("Error: "+Le.message)}}return i?f.jsx("div",{className:"flex justify-center p-12",children:f.jsx(Sn,{className:"animate-spin text-white"})}):f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 text-white",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Mis Vehculos"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(xj,{}),f.jsx("button",{onClick:()=>V(!0),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Configuracin / Eliminar Cuenta",children:f.jsx(B6,{className:"w-6 h-6"})}),f.jsxs("button",{onClick:()=>c(!0),className:"bg-[#1E5EFF] hover:bg-[#3C7BFF] px-4 py-2 rounded-lg flex items-center gap-2 font-medium transition-colors",children:[f.jsx(Ku,{className:"w-5 h-5"}),"Registrar Vehculo"]})]})]}),r.length===0?f.jsxs("div",{className:"text-center py-12 bg-[#151921] rounded-xl border border-gray-800",children:[f.jsx("p",{className:"text-gray-400 mb-4",children:"No tienes vehculos registrados."}),f.jsx("button",{onClick:()=>c(!0),className:"text-[#1E5EFF] hover:underline",children:"Registra tu primer auto ahora"})]}):f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(ge=>f.jsx(tg,{vehicle:ge,isOwner:!0,onAction:qe},ge.id))}),b&&F&&f.jsx(mw,{vehicle:F,onClose:()=>S(!1)}),N&&x&&f.jsx(bj,{vehicle:x,onClose:()=>y(!1)}),o&&f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-gray-800 w-full max-w-lg p-6 relative",children:[f.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:f.jsx($r,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Registrar Nuevo Vehculo"}),f.jsxs("form",{onSubmit:me,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Placa"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:q.plate,onChange:ge=>Q({...q,plate:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ao"}),f.jsx("input",{type:"number",required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:q.year,onChange:ge=>Q({...q,year:ge.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Marca"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:q.brand,onChange:ge=>Q({...q,brand:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Modelo"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:q.model,onChange:ge=>Q({...q,model:ge.target.value})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"VIN (Nmero de Chasis)"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white font-mono",value:q.vin_full,onChange:ge=>Q({...q,vin_full:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nmero de Motor"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white font-mono",value:q.engine_number_full,onChange:ge=>Q({...q,engine_number_full:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Color"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:q.color,onChange:ge=>Q({...q,color:ge.target.value})})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Foto del Vehculo"}),f.jsxs("div",{className:"space-y-3",children:[q.photo_url&&f.jsxs("div",{className:"relative w-full h-48 bg-gray-900 rounded-lg overflow-hidden border border-gray-700",children:[f.jsx("img",{src:q.photo_url,alt:"Preview",className:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>Q({...q,photo_url:""}),className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white p-1 rounded-full transition-colors",children:f.jsx($r,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"flex gap-2",children:f.jsxs("label",{className:"flex-1 cursor-pointer bg-gray-900 border border-gray-700 hover:border-[#1E5EFF] rounded-lg p-3 flex items-center justify-center gap-2 transition-colors group",children:[f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ge=>ue(ge,!1),disabled:s}),s?f.jsx(Sn,{className:"w-5 h-5 animate-spin text-[#1E5EFF]"}):f.jsx(yu,{className:"w-5 h-5 text-gray-400 group-hover:text-[#1E5EFF]"}),f.jsx("span",{className:"text-sm text-gray-400 group-hover:text-white",children:s?"Subiendo...":"Subir foto desde dispositivo"})]})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-gray-800"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#151921] px-2 text-gray-500",children:"O pega una URL"})})]}),f.jsx("input",{type:"url",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white text-sm",value:q.photo_url,onChange:ge=>Q({...q,photo_url:ge.target.value}),placeholder:"https://ejemplo.com/mi-auto.jpg"})]})]}),f.jsx("button",{type:"submit",className:"w-full bg-[#1E5EFF] hover:bg-[#3C7BFF] py-3 rounded-lg font-bold mt-4 transition-colors",children:"Guardar Vehculo"})]})]})}),d&&g&&f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-gray-800 w-full max-w-lg p-6 relative",children:[f.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:f.jsx($r,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Editar Vehculo"}),f.jsxs("form",{onSubmit:De,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Placa"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:g.plate,onChange:ge=>p({...g,plate:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ao"}),f.jsx("input",{type:"number",required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:g.year,onChange:ge=>p({...g,year:ge.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Marca"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:g.brand,onChange:ge=>p({...g,brand:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Modelo"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:g.model,onChange:ge=>p({...g,model:ge.target.value})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"VIN (Nmero de Chasis)"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white font-mono",value:g.vin_full,onChange:ge=>p({...g,vin_full:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nmero de Motor"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white font-mono",value:g.engine_number_full,onChange:ge=>p({...g,engine_number_full:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Color"}),f.jsx("input",{required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:g.color,onChange:ge=>p({...g,color:ge.target.value})})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Foto del Vehculo"}),f.jsxs("div",{className:"space-y-3",children:[g.photo_url&&f.jsxs("div",{className:"relative w-full h-48 bg-gray-900 rounded-lg overflow-hidden border border-gray-700",children:[f.jsx("img",{src:g.photo_url,alt:"Preview",className:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>p({...g,photo_url:""}),className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white p-1 rounded-full transition-colors",children:f.jsx($r,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"flex gap-2",children:f.jsxs("label",{className:"flex-1 cursor-pointer bg-gray-900 border border-gray-700 hover:border-[#1E5EFF] rounded-lg p-3 flex items-center justify-center gap-2 transition-colors group",children:[f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ge=>ue(ge,!0),disabled:s}),s?f.jsx(Sn,{className:"w-5 h-5 animate-spin text-[#1E5EFF]"}):f.jsx(yu,{className:"w-5 h-5 text-gray-400 group-hover:text-[#1E5EFF]"}),f.jsx("span",{className:"text-sm text-gray-400 group-hover:text-white",children:s?"Subiendo...":"Cambiar foto desde dispositivo"})]})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-gray-800"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#151921] px-2 text-gray-500",children:"O pega una URL"})})]}),f.jsx("input",{type:"url",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white text-sm",value:g.photo_url||"",onChange:ge=>p({...g,photo_url:ge.target.value}),placeholder:"https://ejemplo.com/mi-auto.jpg"})]})]}),f.jsx("button",{type:"submit",className:"w-full bg-[#1E5EFF] hover:bg-[#3C7BFF] py-3 rounded-lg font-bold mt-4 transition-colors",children:"Guardar Cambios"})]})]})}),j&&f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-gray-800 w-full max-w-md p-6 relative",children:[f.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:f.jsx($r,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Vender Vehculo"}),f.jsxs("p",{className:"text-gray-400 mb-4",children:["Publicar ",f.jsx("span",{className:"text-white font-bold",children:Ae==null?void 0:Ae.plate})," en el Marketplace."]}),f.jsxs("form",{onSubmit:Oe,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Precio (USD)"}),f.jsx("input",{type:"number",required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:E.price,onChange:ge=>B({...E,price:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Pas"}),f.jsx("select",{className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:E.country,onChange:ge=>B({...E,country:ge.target.value}),children:W5.map(ge=>f.jsx("option",{value:ge.name,children:ge.name},ge.code))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ciudad"}),f.jsx("input",{type:"text",required:!0,placeholder:"Ej: San Salvador",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:E.city,onChange:ge=>B({...E,city:ge.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Traccin"}),f.jsxs("select",{className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:E.traction,onChange:ge=>B({...E,traction:ge.target.value}),children:[f.jsx("option",{value:"4x2",children:"4x2"}),f.jsx("option",{value:"4x4",children:"4x4"}),f.jsx("option",{value:"AWD",children:"AWD"}),f.jsx("option",{value:"FWD",children:"FWD"}),f.jsx("option",{value:"RWD",children:"RWD"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Combustible"}),f.jsxs("select",{className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:E.fuel_type,onChange:ge=>B({...E,fuel_type:ge.target.value}),children:[f.jsx("option",{value:"Gasolina",children:"Gasolina"}),f.jsx("option",{value:"Disel",children:"Disel"}),f.jsx("option",{value:"Gas",children:"Gas"}),f.jsx("option",{value:"Hbrido",children:"Hbrido"}),f.jsx("option",{value:"Elctrico",children:"Elctrico"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Motor (CC/L)"}),f.jsx("input",{type:"text",placeholder:"Ej: 2.0L o 2000cc",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:E.engine_displacement,onChange:ge=>B({...E,engine_displacement:ge.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Dueos"}),f.jsx("input",{type:"number",min:"1",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:E.owner_count,onChange:ge=>B({...E,owner_count:ge.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Estado General"}),f.jsxs("select",{className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:E.general_condition,onChange:ge=>B({...E,general_condition:ge.target.value}),children:[f.jsx("option",{value:"Excelente",children:"Excelente"}),f.jsx("option",{value:"Bueno",children:"Bueno"}),f.jsx("option",{value:"Regular",children:"Regular"}),f.jsx("option",{value:"Para reparar",children:"Para reparar"})]})]}),f.jsx("div",{className:"flex items-center pt-6",children:f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-700 bg-gray-900 text-[#1E5EFF]",checked:E.odometer_not_working,onChange:ge=>B({...E,odometer_not_working:ge.target.checked})}),f.jsx("span",{className:"text-sm text-gray-400",children:"Odmetro no funciona"})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Descripcin"}),f.jsx("textarea",{required:!0,rows:"3",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:E.description,onChange:ge=>B({...E,description:ge.target.value})})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Foto del Vehculo (Opcional)"}),f.jsxs("div",{className:"space-y-3",children:[E.photo_url&&f.jsxs("div",{className:"relative w-full h-48 bg-gray-900 rounded-lg overflow-hidden border border-gray-700",children:[f.jsx("img",{src:E.photo_url,alt:"Preview",className:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>B({...E,photo_url:""}),className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white p-1 rounded-full transition-colors",children:f.jsx($r,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"flex gap-2",children:f.jsxs("label",{className:"flex-1 cursor-pointer bg-gray-900 border border-gray-700 hover:border-[#1E5EFF] rounded-lg p-3 flex items-center justify-center gap-2 transition-colors group",children:[f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:he,disabled:s}),s?f.jsx(Sn,{className:"w-5 h-5 animate-spin text-[#1E5EFF]"}):f.jsx(yu,{className:"w-5 h-5 text-gray-400 group-hover:text-[#1E5EFF]"}),f.jsx("span",{className:"text-sm text-gray-400 group-hover:text-white",children:s?"Subiendo...":"Subir foto desde dispositivo"})]})})]})]}),f.jsx("button",{type:"submit",className:"w-full bg-[#1E5EFF] hover:bg-[#3C7BFF] py-3 rounded-lg font-bold mt-4 transition-colors",children:"Publicar en Marketplace"})]})]})}),je&&f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-gray-800 w-full max-w-md p-6 relative",children:[f.jsx("button",{onClick:()=>ke(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:f.jsx($r,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Transferir Vehculo"}),f.jsxs("p",{className:"text-gray-400 mb-4",children:["Ests a punto de transferir la propiedad de: ",f.jsx("span",{className:"text-white font-bold",children:Ae==null?void 0:Ae.plate})]}),f.jsxs("form",{onSubmit:He,className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-4 mb-4",children:[f.jsx("button",{type:"button",onClick:()=>nt("email"),className:`flex-1 py-2 rounded border ${ee==="email"?"bg-[#1E5EFF]/20 border-[#1E5EFF] text-[#1E5EFF]":"border-gray-700 text-gray-400"}`,children:"A Usuario"}),f.jsx("button",{type:"button",onClick:()=>nt("deposit"),className:`flex-1 py-2 rounded border ${ee==="deposit"?"bg-[#1E5EFF]/20 border-[#1E5EFF] text-[#1E5EFF]":"border-gray-700 text-gray-400"}`,children:"A Depsito"})]}),ee==="email"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Correo del Nuevo Dueo"}),f.jsx("input",{type:"email",required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:Ke,onChange:ge=>ye(ge.target.value),placeholder:"usuario@ejemplo.com"})]}),ee==="deposit"&&f.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/50 p-3 rounded text-sm text-yellow-200",children:'El vehculo quedar en el "Limbo" hasta que alguien lo reclame usando el VIN y Placa.'}),f.jsx("button",{type:"submit",className:"w-full bg-[#1E5EFF] hover:bg-[#3C7BFF] py-3 rounded-lg font-bold mt-4 transition-colors",children:"Confirmar Transferencia"})]})]})}),f.jsx(Nj,{isOpen:W,onClose:()=>te(!1),onClaim:()=>{te(!1),J(!0)},onViewPublic:()=>{window.location.href=`/marketplace?plate=${z==null?void 0:z.plate}`},vehicleData:z}),f.jsx(kj,{isOpen:H,onClose:()=>J(!1),vehicleId:re,vehicleData:z}),f.jsx(jj,{isOpen:P,onClose:()=>$(!1),onConfirm:Ee,vehicle:K}),f.jsx(Ej,{isOpen:C,onClose:()=>V(!1),onConfirm:Pe})]})}function Aj({vehicle:e,onClose:t,onSave:r}){const[n,i]=ne.useState(!1),[a,s]=ne.useState(null),[l,o]=ne.useState({type:"Cambio de motor",date:new Date().toISOString().split("T")[0],km:"",odo_not_working:!1,description:"",photos:[""]}),c=["Cambio de motor","Cambio de transmisin","Reparacin de chasis","Conversin 4x4","Reparacin estructural mayor","Cambio de color","Otro"],d=(b,S)=>{const N=[...l.photos];N[b]=S,o({...l,photos:N})},m=()=>{l.photos.length<6&&o({...l,photos:[...l.photos,""]})},g=b=>{const S=l.photos.filter((N,y)=>y!==b);o({...l,photos:S})},p=async b=>{b.preventDefault(),i(!0),s(null);const S=l.photos.filter(N=>N.trim()!=="");if(S.length===0){s("Debes agregar al menos una URL de foto vlida como evidencia."),i(!1);return}if(!l.odo_not_working&&!l.km){s("Debes ingresar el kilometraje o marcar 'Odmetro no funciona'."),i(!1);return}try{const N=JSON.parse(localStorage.getItem("user")),{error:y}=await rt.from("structural_changes").insert([{vehicle_id:e.id,workshop_id:N.id,type:l.type,date:l.date,km:l.odo_not_working?null:l.km,odo_not_working:l.odo_not_working,description:l.description,photos:S}]);if(y)throw y;r(),t()}catch(N){console.error("Error saving structural change:",N),s("Error al guardar el cambio estructural. Intenta nuevamente.")}finally{i(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center sticky top-0 bg-gray-900 z-10",children:[f.jsx("h2",{className:"text-xl font-bold text-white",children:"Registrar Cambio Estructural"}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:f.jsx($r,{size:24})})]}),f.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[a&&f.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 p-4 rounded-lg flex items-center gap-2",children:[f.jsx(z5,{size:20}),f.jsx("p",{children:a})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Tipo de Cambio"}),f.jsx("select",{value:l.type,onChange:b=>o({...l,type:b.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:outline-none",children:c.map(b=>f.jsx("option",{value:b,children:b},b))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Fecha"}),f.jsx("input",{type:"date",value:l.date,onChange:b=>o({...l,date:b.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Kilometraje"}),f.jsx("input",{type:"number",value:l.km,onChange:b=>o({...l,km:b.target.value}),disabled:l.odo_not_working,className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:outline-none disabled:opacity-50",placeholder:"Ej: 150000"})]}),f.jsx("div",{className:"flex items-center pt-6",children:f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-gray-300",children:[f.jsx("input",{type:"checkbox",checked:l.odo_not_working,onChange:b=>o({...l,odo_not_working:b.target.checked}),className:"w-5 h-5 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),"Odmetro no funciona"]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Descripcin Detallada"}),f.jsx("textarea",{value:l.description,onChange:b=>o({...l,description:b.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:outline-none h-32",placeholder:"Describe los detalles tcnicos del cambio realizado...",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Evidencia Fotogrfica (URLs) - Mnimo 1 obligatoria"}),f.jsx("div",{className:"space-y-3",children:l.photos.map((b,S)=>f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"url",value:b,onChange:N=>d(S,N.target.value),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"https://ejemplo.com/foto.jpg"}),l.photos.length>1&&f.jsx("button",{type:"button",onClick:()=>g(S),className:"p-3 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:f.jsx(oc,{size:20})})]},S))}),l.photos.length<6&&f.jsxs("button",{type:"button",onClick:m,className:"mt-3 flex items-center gap-2 text-sm text-blue-400 hover:text-blue-300 transition-colors",children:[f.jsx(Ku,{size:16})," Agregar otra foto"]})]}),f.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[f.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center gap-2",children:n?"Guardando...":"Registrar Cambio"})]})]})]})})}function Pj({isOpen:e,onClose:t,workshopProfile:r}){const[n,i]=ne.useState(1),[a,s]=ne.useState(""),[l,o]=ne.useState(!1),[c,d]=ne.useState(null),[m,g]=ne.useState(null),[p,b]=ne.useState("basic"),[S,N]=ne.useState(""),[y,x]=ne.useState({motor:!0,chasis:!0,transmision:!0,frenos:!0,suspension:!0,luces:!0,neumaticos:!0});if(!e)return null;const w=async()=>{if(a.trim()){o(!0),g(null),d(null);try{const F=Cw(a),{data:L,error:P}=await rt.from("vehicles").select("*").or(`plate.eq.${F},vin_full.eq.${F},engine_number_full.eq.${F}`).limit(1).single();if(P)throw P;L?L.status==="stolen"?g(" ALERTA: Este vehculo tiene reporte de robo. No se puede certificar."):(d(L),i(2)):g("Vehculo no encontrado.")}catch(F){console.error(F),g("Error al buscar el vehculo o no existe.")}finally{o(!1)}}},j=async()=>{o(!0);try{const F=crypto.randomUUID(),L=`${window.location.origin}/marketplace?plate=${c.plate}`,$=(await uj(c,r,{id:F,type:p,checklist:y,observations:S},L)).output("blob"),K=`cert_${c.plate}_${Date.now()}.pdf`,{data:A,error:C}=await rt.storage.from("certificates").upload(K,$);if(C)throw C;const V=rt.storage.from("certificates").getPublicUrl(K).data.publicUrl,{error:W}=await rt.from("vehicle_certificates").insert({id:F,vehicle_id:c.id,issued_by_workshop_id:r.id,certificate_type:p,pdf_url:V,qr_public_url:L,checklist:y,observations:S,valid_until:new Date(Date.now()+365*24*60*60*1e3)});if(W)throw W;i(3)}catch(F){console.error(F),g("Error al generar el certificado: "+F.message)}finally{o(!1)}},O=()=>{i(1),s(""),d(null),g(null),N(""),t()};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-gray-900 border border-blue-500/30 rounded-xl w-full max-w-2xl shadow-2xl overflow-hidden",children:[f.jsxs("div",{className:"bg-gray-800/50 p-4 border-b border-gray-700 flex justify-between items-center",children:[f.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[f.jsx(O0,{className:"w-6 h-6 text-blue-400"}),"Certificar Vehculo"]}),f.jsx("button",{onClick:O,className:"text-gray-400 hover:text-white",children:f.jsx($r,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6",children:[n===1&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"text-center space-y-2",children:f.jsx("p",{className:"text-gray-300",children:"Busque el vehculo por Placa, VIN o Motor para iniciar la certificacin."})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",placeholder:"Ej: P123456, VIN...",className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-blue-500 outline-none",value:a,onChange:F=>s(F.target.value.toUpperCase())}),f.jsxs("button",{onClick:w,disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l?f.jsx(Sn,{className:"w-5 h-5 animate-spin"}):f.jsx(Bh,{className:"w-5 h-5"}),"Buscar"]})]}),m&&f.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 p-4 rounded-lg flex items-center gap-3",children:[f.jsx(fl,{className:"w-5 h-5"}),m]})]}),n===2&&c&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 p-4 rounded-lg flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"font-bold text-white",children:[c.brand," ",c.model," (",c.year,")"]}),f.jsxs("p",{className:"text-sm text-blue-300",children:["Placa: ",c.plate,"  VIN: ",c.vin||"N/A"]})]}),f.jsx("div",{className:"bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs font-bold border border-green-500/30",children:"VERIFICADO"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Tipo de Certificacin"}),f.jsxs("select",{value:p,onChange:F=>b(F.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white",children:[f.jsx("option",{value:"basic",children:"Bsica (Visual + Documental)"}),f.jsx("option",{value:"full",children:"Completa (Mecnica + Estructural)"}),f.jsx("option",{value:"premium",children:"Premium (Garanta Extendida)"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Checklist de Inspeccin"}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(y).map(F=>f.jsxs("label",{className:"flex items-center gap-2 text-gray-300 text-sm cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:y[F],onChange:L=>x({...y,[F]:L.target.checked}),className:"rounded bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500"}),f.jsx("span",{className:"capitalize",children:F})]},F))})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Observaciones del Taller"}),f.jsx("textarea",{value:S,onChange:F=>N(F.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white h-24 resize-none",placeholder:"Detalles sobre el estado del vehculo..."})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{onClick:()=>i(1),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Cancelar"}),f.jsxs("button",{onClick:j,disabled:l,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium transition-colors flex justify-center items-center gap-2",children:[l?f.jsx(Sn,{className:"w-5 h-5 animate-spin"}):f.jsx(Zm,{className:"w-5 h-5"}),"Emitir Certificado"]})]})]}),n===3&&f.jsxs("div",{className:"text-center space-y-6 py-8",children:[f.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto border border-green-500/50",children:f.jsx(O0,{className:"w-10 h-10 text-green-400"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Certificado Emitido!"}),f.jsx("p",{className:"text-gray-400",children:"El certificado ha sido generado y vinculado al vehculo exitosamente."})]}),f.jsx("div",{className:"bg-gray-800 p-4 rounded-lg max-w-md mx-auto",children:f.jsx("p",{className:"text-blue-400 italic font-medium",children:'"El pasaporte vive. El certificado deja constancia."'})}),f.jsx("button",{onClick:O,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:"Finalizar"})]})]})]})})}function Lj(){const{user:e}=Za(),[t,r]=ne.useState(""),[n,i]=ne.useState(null),[a,s]=ne.useState(!1),[l,o]=ne.useState([]),[c,d]=ne.useState(!1),[m,g]=ne.useState(!1),[p,b]=ne.useState(!1),[S,N]=ne.useState({mileage:"",service_type:"Mantenimiento General",description:"",cost:"",next_maintenance_date:""});ne.useEffect(()=>{e&&y()},[e]);async function y(){const{data:j}=await rt.from("verified_maintenance").select("*, vehicles(plate, brand, model)").eq("workshop_id",e.id).order("date",{ascending:!1}).limit(5);j&&o(j)}async function x(j){j.preventDefault(),s(!0),i(null);try{const{data:O,error:F}=await rt.from("vehicles").select("*").or(`plate.eq.${t},vin_full.eq.${t}`).single();O?i(O):alert("Vehculo no encontrado")}catch(O){console.error(O),alert("Error en la bsqueda")}finally{s(!1)}}async function w(j){var O;if(j.preventDefault(),!!n)try{const{error:F}=await rt.from("verified_maintenance").insert({vehicle_id:n.id,workshop_id:e.id,...S});if(F)throw F;n.current_owner_id&&await rt.from("notifications").insert({user_id:n.current_owner_id,message:`Nuevo mantenimiento registrado para tu vehculo ${n.plate} por ${((O=e.user_metadata)==null?void 0:O.full_name)||"Taller"}.`,type:"mantenimiento"}),alert("Mantenimiento registrado exitosamente"),d(!1),N({mileage:"",service_type:"Mantenimiento General",description:"",cost:"",next_maintenance_date:""}),y()}catch(F){alert("Error: "+F.message)}}return f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 text-white",children:[f.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Panel de Taller"}),f.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[f.jsxs("div",{className:"bg-[#151921] p-6 rounded-xl border border-gray-800",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Buscar Vehculo"}),f.jsxs("form",{onSubmit:x,className:"flex gap-4",children:[f.jsx("input",{type:"text",placeholder:"Ingresa Placa o VIN",className:"flex-1 bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-[#1E5EFF] outline-none",value:t,onChange:j=>r(j.target.value)}),f.jsxs("button",{type:"submit",disabled:a,className:"bg-[#1E5EFF] hover:bg-[#3C7BFF] px-6 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[a?f.jsx(Sn,{className:"animate-spin w-5 h-5"}):f.jsx(Bh,{className:"w-5 h-5"}),"Buscar"]})]})]}),n&&f.jsx("div",{className:"bg-[#151921] p-6 rounded-xl border border-gray-800 border-l-4 border-l-[#1E5EFF]",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-2xl font-bold",children:[n.brand," ",n.model," (",n.year,")"]}),f.jsxs("p",{className:"text-gray-400 text-lg mt-1",children:["Placa: ",n.plate]}),f.jsxs("div",{className:"mt-4 space-y-1 text-sm text-gray-500",children:[f.jsxs("p",{children:["VIN: ",f.jsx("span",{className:"font-mono text-gray-300",children:n.vin_full})]}),f.jsxs("p",{children:["Motor: ",f.jsx("span",{className:"font-mono text-gray-300",children:n.engine_number_full})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>g(!0),className:"bg-orange-600 hover:bg-orange-500 px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors",children:[f.jsx(Ku,{className:"w-5 h-5"}),"Cambio Estructural"]}),f.jsxs("button",{onClick:()=>d(!0),className:"bg-green-600 hover:bg-green-500 px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors",children:[f.jsx(Ku,{className:"w-5 h-5"}),"Agregar Servicio"]})]}),f.jsxs("button",{onClick:()=>b(!0),className:"bg-yellow-600 hover:bg-yellow-500 px-4 py-2 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors w-full",children:[f.jsx(Mh,{className:"w-5 h-5"}),"Certificar Vehculo"]})]})]})})]}),f.jsxs("div",{className:"bg-[#151921] p-6 rounded-xl border border-gray-800 h-fit",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Servicios Recientes"}),f.jsx("div",{className:"space-y-4",children:l.length===0?f.jsx("p",{className:"text-gray-500 text-sm",children:"No hay servicios recientes."}):l.map(j=>{var O;return f.jsxs("div",{className:"border-b border-gray-800 pb-3 last:border-0",children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"font-bold text-white",children:(O=j.vehicles)==null?void 0:O.plate}),f.jsx("span",{className:"text-xs text-gray-500",children:new Date(j.date).toLocaleDateString()})]}),f.jsx("p",{className:"text-sm text-[#1E5EFF]",children:j.service_type}),f.jsx("p",{className:"text-xs text-gray-400 truncate",children:j.description})]},j.id)})})]})]}),c&&f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#151921] rounded-xl border border-gray-800 w-full max-w-lg p-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Registrar Mantenimiento"}),f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Kilometraje"}),f.jsx("input",{type:"number",required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:S.mileage,onChange:j=>N({...S,mileage:j.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Costo"}),f.jsx("input",{type:"number",required:!0,className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:S.cost,onChange:j=>N({...S,cost:j.target.value})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tipo de Servicio"}),f.jsxs("select",{className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:S.service_type,onChange:j=>N({...S,service_type:j.target.value}),children:[f.jsx("option",{children:"Mantenimiento General"}),f.jsx("option",{children:"Cambio de Aceite"}),f.jsx("option",{children:"Frenos"}),f.jsx("option",{children:"Suspensin"}),f.jsx("option",{children:"Motor"}),f.jsx("option",{children:"Transmisin"}),f.jsx("option",{children:"Llantas"}),f.jsx("option",{children:"Elctrico"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Descripcin Detallada"}),f.jsx("textarea",{required:!0,rows:"3",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:S.description,onChange:j=>N({...S,description:j.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Prximo Mantenimiento (Opcional)"}),f.jsx("input",{type:"date",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white",value:S.next_maintenance_date,onChange:j=>N({...S,next_maintenance_date:j.target.value})})]}),f.jsxs("div",{className:"flex gap-4 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 bg-gray-800 hover:bg-gray-700 py-3 rounded-lg font-medium transition-colors",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"flex-1 bg-[#1E5EFF] hover:bg-[#3C7BFF] py-3 rounded-lg font-bold transition-colors",children:"Guardar Registro"})]})]})]})}),m&&f.jsx(Aj,{vehicle:n,onClose:()=>g(!1),onSuccess:()=>{g(!1),x({preventDefault:()=>{}})}}),p&&f.jsx(Pj,{isOpen:p,onClose:()=>b(!1),workshopProfile:e})]})}function Tj(){const{user:e}=Za(),[t,r]=ne.useState([]),[n,i]=ne.useState(!0);ne.useEffect(()=>{a()},[]);async function a(){try{const{data:l,error:o}=await rt.from("vehicles").select("*").eq("status","unregistered_deposit");if(o)throw o;r(l||[])}catch(l){console.error("Error fetching deposit:",l)}finally{i(!1)}}async function s(l){if(!e){alert("Debes iniciar sesin para reclamar un vehculo.");return}if(window.confirm(`Ests seguro de que quieres reclamar el vehculo ${l.plate}?`))try{const{error:c}=await rt.from("vehicles").update({current_owner_id:e.id,status:"active"}).eq("id",l.id);if(c)throw c;await rt.from("transfers").insert({vehicle_id:l.id,to_owner_id:e.id,reason:"Reclamacin desde Depsito Digital"}),await rt.from("notifications").insert({user_id:e.id,message:`Has reclamado exitosamente el vehculo ${l.plate} del Depsito Digital.`,type:"transferencia"}),alert("Vehculo reclamado exitosamente. Ahora aparecer en tu panel."),a()}catch(c){alert("Error al reclamar: "+c.message)}}return f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 text-white",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Depsito Digital"}),f.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Vehculos que han sido transferidos a usuarios sin cuenta o que estn esperando ser reclamados. Si reconoces tu vehculo aqu, puedes reclamarlo para continuar su historial."})]}),n?f.jsx("div",{className:"flex justify-center p-12",children:f.jsx(Sn,{className:"animate-spin text-white"})}):f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(l=>f.jsxs("div",{className:"relative",children:[f.jsx(tg,{vehicle:l,isOwner:!1,onAction:()=>{}}),f.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity rounded-xl",children:f.jsx("button",{onClick:()=>s(l),className:"bg-[#1E5EFF] hover:bg-[#3C7BFF] px-6 py-3 rounded-lg font-bold text-white shadow-lg transform hover:scale-105 transition-all",children:"Reclamar Vehculo"})}),f.jsxs("div",{className:"absolute top-2 left-2 bg-yellow-500/20 border border-yellow-500 text-yellow-500 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[f.jsx(fl,{className:"w-3 h-3"}),"En Depsito"]})]},l.id)),t.length===0&&f.jsx("div",{className:"col-span-full text-center py-12 bg-[#151921] rounded-xl border border-gray-800",children:f.jsx("p",{className:"text-gray-400",children:"No hay vehculos en el depsito digital actualmente."})})]})]})}function Rj(){return f.jsx(JN,{children:f.jsx(a_,{children:f.jsx(Z6,{children:f.jsxs(I3,{children:[f.jsx(ja,{path:"/",element:f.jsx(ek,{})}),f.jsx(ja,{path:"/login",element:f.jsx(tk,{})}),f.jsx(ja,{path:"/register",element:f.jsx(rk,{})}),f.jsx(ja,{path:"/marketplace",element:f.jsx(cj,{})}),f.jsx(ja,{path:"/driver/vehicles",element:f.jsx(Cj,{})}),f.jsx(ja,{path:"/workshop/dashboard",element:f.jsx(Lj,{})}),f.jsx(ja,{path:"/deposit",element:f.jsx(Tj,{})})]})})})})}Cp.createRoot(document.getElementById("root")).render(f.jsx(fr.StrictMode,{children:f.jsx(Rj,{})}));export{kt as _,Tf as c,$2 as g};
